(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function rT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sT={exports:{}},Xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=Symbol.for("react.transitional.element"),Hw=Symbol.for("react.fragment");function aT(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:qw,type:t,key:i,ref:e!==void 0?e:null,props:n}}Xc.Fragment=Hw;Xc.jsx=aT;Xc.jsxs=aT;sT.exports=Xc;var p=sT.exports,oT={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.transitional.element"),Fw=Symbol.for("react.portal"),Gw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Kw=Symbol.for("react.profiler"),Yw=Symbol.for("react.consumer"),Qw=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),Jw=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),Zw=Symbol.for("react.activity"),z_=Symbol.iterator;function eR(t){return t===null||typeof t!="object"?null:(t=z_&&t[z_]||t["@@iterator"],typeof t=="function"?t:null)}var uT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,hT={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||uT}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fT(){}fT.prototype=Ta.prototype;function km(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||uT}var Lm=km.prototype=new fT;Lm.constructor=km;cT(Lm,Ta.prototype);Lm.isPureReactComponent=!0;var q_=Array.isArray;function od(){}var Ie={H:null,A:null,T:null,S:null},dT=Object.prototype.hasOwnProperty;function Pm(t,e,n){var i=n.ref;return{$$typeof:Vm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function tR(t,e){return Pm(t.type,e,t.props)}function Um(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vm}function nR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H_=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nR(""+t.key):e.toString(36)}function iR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(od,od):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ss(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vm:case Fw:a=!0;break;case lT:return a=t._init,Ss(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+of(t,0):i,q_(r)?(n="",a!=null&&(n=a.replace(H_,"$&/")+"/"),Ss(r,e,n,"",function(c){return c})):r!=null&&(Um(r)&&(r=tR(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(H_,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(q_(t))for(var u=0;u<t.length;u++)i=t[u],s=l+of(i,u),a+=Ss(i,e,n,s,r);else if(u=eR(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+of(i,u++),a+=Ss(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Ss(iR(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function nu(t,e,n){if(t==null)return t;var i=[],r=0;return Ss(t,i,"","",function(s){return e.call(n,s,r++)}),i}function rR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var F_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},sR={map:nu,forEach:function(t,e,n){nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nu(t,function(){e++}),e},toArray:function(t){return nu(t,function(e){return e})||[]},only:function(t){if(!Um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Activity=Zw;ee.Children=sR;ee.Component=Ta;ee.Fragment=Gw;ee.Profiler=Kw;ee.PureComponent=km;ee.StrictMode=$w;ee.Suspense=Ww;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;ee.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ie.H.useMemoCache(t)}};ee.cache=function(t){return function(){return t.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=cT({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!dT.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return Pm(t.type,r,i)};ee.createContext=function(t){return t={$$typeof:Qw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Yw,_context:t},t};ee.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)dT.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Pm(t,s,r)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Xw,render:t}};ee.isValidElement=Um;ee.lazy=function(t){return{$$typeof:lT,_payload:{_status:-1,_result:t},_init:rR}};ee.memo=function(t,e){return{$$typeof:Jw,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Ie.T,n={};Ie.T=n;try{var i=t(),r=Ie.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(od,F_)}catch(s){F_(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ie.T=e}};ee.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()};ee.use=function(t){return Ie.H.use(t)};ee.useActionState=function(t,e,n){return Ie.H.useActionState(t,e,n)};ee.useCallback=function(t,e){return Ie.H.useCallback(t,e)};ee.useContext=function(t){return Ie.H.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t,e){return Ie.H.useDeferredValue(t,e)};ee.useEffect=function(t,e){return Ie.H.useEffect(t,e)};ee.useEffectEvent=function(t){return Ie.H.useEffectEvent(t)};ee.useId=function(){return Ie.H.useId()};ee.useImperativeHandle=function(t,e,n){return Ie.H.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Ie.H.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Ie.H.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Ie.H.useMemo(t,e)};ee.useOptimistic=function(t,e){return Ie.H.useOptimistic(t,e)};ee.useReducer=function(t,e,n){return Ie.H.useReducer(t,e,n)};ee.useRef=function(t){return Ie.H.useRef(t)};ee.useState=function(t){return Ie.H.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Ie.H.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Ie.H.useTransition()};ee.version="19.2.4";oT.exports=ee;var V=oT.exports;const ld=rT(V);var mT={exports:{}},Wc={},pT={exports:{}},gT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,P){var Y=H.length;H.push(P);e:for(;0<Y;){var ce=Y-1>>>1,Ve=H[ce];if(0<r(Ve,P))H[ce]=P,H[Y]=Ve,Y=ce;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var P=H[0],Y=H.pop();if(Y!==P){H[0]=Y;e:for(var ce=0,Ve=H.length,sn=Ve>>>1;ce<sn;){var xr=2*(ce+1)-1,_s=H[xr],an=xr+1,wi=H[an];if(0>r(_s,Y))an<Ve&&0>r(wi,_s)?(H[ce]=wi,H[an]=Y,ce=an):(H[ce]=_s,H[xr]=Y,ce=xr);else if(an<Ve&&0>r(wi,Y))H[ce]=wi,H[an]=Y,ce=an;else break e}}return P}function r(H,P){var Y=H.sortIndex-P.sortIndex;return Y!==0?Y:H.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,m=null,g=3,_=!1,I=!1,N=!1,D=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function x(H){for(var P=n(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=H)i(c),P.sortIndex=P.expirationTime,e(u,P);else break;P=n(c)}}function B(H){if(N=!1,x(H),!I)if(n(u)!==null)I=!0,q||(q=!0,O());else{var P=n(c);P!==null&&qt(B,P.startTime-H)}}var q=!1,S=-1,E=5,A=-1;function R(){return D?!0:!(t.unstable_now()-A<E)}function C(){if(D=!1,q){var H=t.unstable_now();A=H;var P=!0;try{e:{I=!1,N&&(N=!1,v(S),S=-1),_=!0;var Y=g;try{t:{for(x(H),m=n(u);m!==null&&!(m.expirationTime>H&&R());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,g=m.priorityLevel;var Ve=ce(m.expirationTime<=H);if(H=t.unstable_now(),typeof Ve=="function"){m.callback=Ve,x(H),P=!0;break t}m===n(u)&&i(u),x(H)}else i(u);m=n(u)}if(m!==null)P=!0;else{var sn=n(c);sn!==null&&qt(B,sn.startTime-H),P=!1}}break e}finally{m=null,g=Y,_=!1}P=void 0}}finally{P?O():q=!1}}}var O;if(typeof T=="function")O=function(){T(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,at=w.port2;w.port1.onmessage=C,O=function(){at.postMessage(null)}}else O=function(){b(C,0)};function qt(H,P){S=b(function(){H(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var Y=g;g=P;try{return H()}finally{g=Y}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,P){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=g;g=H;try{return P()}finally{g=Y}},t.unstable_scheduleCallback=function(H,P,Y){var ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ce+Y:ce):Y=ce,H){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Y+Ve,H={id:f++,callback:P,priorityLevel:H,startTime:Y,expirationTime:Ve,sortIndex:-1},Y>ce?(H.sortIndex=Y,e(c,H),n(u)===null&&H===n(c)&&(N?(v(S),S=-1):N=!0,qt(B,Y-ce))):(H.sortIndex=Ve,e(u,H),I||_||(I=!0,q||(q=!0,O()))),H},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(H){var P=g;return function(){var Y=g;g=P;try{return H.apply(this,arguments)}finally{g=Y}}}})(gT);pT.exports=gT;var aR=pT.exports,_T={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=V;function yT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oi(){}var Dt={d:{f:Oi,r:function(){throw Error(yT(522))},D:Oi,C:Oi,L:Oi,m:Oi,X:Oi,S:Oi,M:Oi},p:0,findDOMNode:null},lR=Symbol.for("react.portal");function uR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lR,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var wo=oR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Jc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(yT(299));return uR(t,e,null,n)};Ot.flushSync=function(t){var e=wo.T,n=Dt.p;try{if(wo.T=null,Dt.p=2,t)return t()}finally{wo.T=e,Dt.p=n,Dt.d.f()}};Ot.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Dt.d.C(t,e))};Ot.prefetchDNS=function(t){typeof t=="string"&&Dt.d.D(t)};Ot.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Jc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Dt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Dt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ot.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Jc(e.as,e.crossOrigin);Dt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Dt.d.M(t)};Ot.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Jc(n,e.crossOrigin);Dt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ot.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Jc(e.as,e.crossOrigin);Dt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Dt.d.m(t)};Ot.requestFormReset=function(t){Dt.d.r(t)};Ot.unstable_batchedUpdates=function(t,e){return t(e)};Ot.useFormState=function(t,e,n){return wo.H.useFormState(t,e,n)};Ot.useFormStatus=function(){return wo.H.useHostTransitionStatus()};Ot.version="19.2.4";function vT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vT)}catch(t){console.error(t)}}vT(),_T.exports=Ot;var cR=_T.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=aR,ET=V,hR=cR;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function TT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ST(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G_(t){if(yl(t)!==t)throw Error(L(188))}function fR(t){var e=t.alternate;if(!e){if(e=yl(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return G_(r),t;if(s===i)return G_(r),e;s=s.sibling}throw Error(L(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function AT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=AT(t),e!==null)return e;t=t.sibling}return null}var Ne=Object.assign,dR=Symbol.for("react.element"),iu=Symbol.for("react.transitional.element"),fo=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),RT=Symbol.for("react.consumer"),si=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),hd=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),fd=Symbol.for("react.activity"),mR=Symbol.for("react.memo_cache_sentinel"),$_=Symbol.iterator;function no(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var pR=Symbol.for("react.client.reference");function dd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xs:return"Fragment";case ud:return"Profiler";case wT:return"StrictMode";case cd:return"Suspense";case hd:return"SuspenseList";case fd:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case fo:return"Portal";case si:return t.displayName||"Context";case RT:return(t._context.displayName||"Context")+".Consumer";case jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bm:return e=t.displayName||null,e!==null?e:dd(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return dd(t(e))}catch{}}return null}var mo=Array.isArray,W=ET.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=hR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hr={pending:!1,data:null,method:null,action:null},md=[],Ds=-1;function $n(t){return{current:t}}function ht(t){0>Ds||(t.current=md[Ds],md[Ds]=null,Ds--)}function Se(t,e){Ds++,md[Ds]=t.current,t.current=e}var Un=$n(null),Ko=$n(null),Ji=$n(null),ec=$n(null);function tc(t,e){switch(Se(Ji,e),Se(Ko,t),Se(Un,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Jy(e),t=$0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ht(Un),Se(Un,t)}function na(){ht(Un),ht(Ko),ht(Ji)}function pd(t){t.memoizedState!==null&&Se(ec,t);var e=Un.current,n=$0(e,t.type);e!==n&&(Se(Ko,t),Se(Un,n))}function nc(t){Ko.current===t&&(ht(Un),ht(Ko)),ec.current===t&&(ht(ec),rl._currentValue=Hr)}var lf,K_;function Pr(t){if(lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lf=e&&e[1]||"",K_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lf+t+K_}var uf=!1;function cf(t,e){if(!t||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(_){var g=_}Reflect.construct(t,[],m)}else{try{m.call()}catch(_){g=_}t.call(m.prototype)}}else{try{throw Error()}catch(_){g=_}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Pr(n):""}function gR(t,e){switch(t.tag){case 26:case 27:case 5:return Pr(t.type);case 16:return Pr("Lazy");case 13:return t.child!==e&&e!==null?Pr("Suspense Fallback"):Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return cf(t.type,!1);case 11:return cf(t.type.render,!1);case 1:return cf(t.type,!0);case 31:return Pr("Activity");default:return""}}function Y_(t){try{var e="",n=null;do e+=gR(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var gd=Object.prototype.hasOwnProperty,zm=st.unstable_scheduleCallback,hf=st.unstable_cancelCallback,_R=st.unstable_shouldYield,yR=st.unstable_requestPaint,Wt=st.unstable_now,vR=st.unstable_getCurrentPriorityLevel,CT=st.unstable_ImmediatePriority,IT=st.unstable_UserBlockingPriority,ic=st.unstable_NormalPriority,ER=st.unstable_LowPriority,NT=st.unstable_IdlePriority,TR=st.log,bR=st.unstable_setDisableYieldValue,vl=null,Jt=null;function $i(t){if(typeof TR=="function"&&bR(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(vl,t)}catch{}}var Zt=Math.clz32?Math.clz32:wR,SR=Math.log,AR=Math.LN2;function wR(t){return t>>>=0,t===0?32:31-(SR(t)/AR|0)|0}var ru=256,su=262144,au=4194304;function Ur(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Ur(i):(a&=l,a!==0?r=Ur(a):n||(n=l&~t,n!==0&&(r=Ur(n))))):(l=i&~s,l!==0?r=Ur(l):a!==0?r=Ur(a):n||(n=i&~t,n!==0&&(r=Ur(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function El(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function RR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xT(){var t=au;return au<<=1,!(au&62914560)&&(au=4194304),t}function ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function CR(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Zt(n),m=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var _=g[f];_!==null&&(_.lane&=-536870913)}n&=~m}i!==0&&DT(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function DT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function OT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Zt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function MT(t,e){var n=e&-e;return n=n&42?1:qm(n),n&(t.suspendedLanes|e)?0:n}function qm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function VT(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:iS(t.type))}function Q_(t,e){var n=me.p;try{return me.p=t,e()}finally{me.p=n}}var Ar=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ar,Bt="__reactProps$"+Ar,ba="__reactContainer$"+Ar,_d="__reactEvents$"+Ar,IR="__reactListeners$"+Ar,NR="__reactHandles$"+Ar,X_="__reactResources$"+Ar,bl="__reactMarker$"+Ar;function Fm(t){delete t[mt],delete t[Bt],delete t[_d],delete t[IR],delete t[NR]}function Os(t){var e=t[mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ba]||n[mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iv(t);t!==null;){if(n=t[mt])return n;t=iv(t)}return e}t=n,n=t.parentNode}return null}function Sa(t){if(t=t[mt]||t[ba]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function po(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Hs(t){var e=t[X_];return e||(e=t[X_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ct(t){t[bl]=!0}var kT=new Set,LT={};function ls(t,e){ia(t,e),ia(t+"Capture",e)}function ia(t,e){for(LT[t]=e,t=0;t<e.length;t++)kT.add(e[t])}var xR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W_={},J_={};function DR(t){return gd.call(J_,t)?!0:gd.call(W_,t)?!1:xR.test(t)?J_[t]=!0:(W_[t]=!0,!1)}function Cu(t,e,n){if(DR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ou(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Xn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OR(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){if(!t._valueTracker){var e=PT(t)?"checked":"value";t._valueTracker=OR(t,e,""+t[e])}}function UT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=PT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var MR=/[\n"\\]/g;function fn(t){return t.replace(MR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vd(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+un(e)):t.value!==""+un(e)&&(t.value=""+un(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Ed(t,a,un(e)):n!=null?Ed(t,a,un(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+un(l):t.removeAttribute("name")}function jT(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){yd(t);return}n=n!=null?""+un(n):"",e=e!=null?""+un(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),yd(t)}function Ed(t,e,n){e==="number"&&rc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Fs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+un(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function BT(t,e,n){if(e!=null&&(e=""+un(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+un(n):""}function zT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(mo(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=un(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),yd(t)}function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var VR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z_(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||VR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function qT(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Z_(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Z_(t,s,e[s])}function Gm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Iu(t){return LR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Td=null;function $m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Gs=null;function ey(t){var e=Sa(t);if(e&&(t=e.stateNode)){var n=t[Bt]||null;e:switch(t=e.stateNode,e.type){case"input":if(vd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+fn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Bt]||null;if(!r)throw Error(L(90));vd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&UT(i)}break e;case"textarea":BT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}}}var df=!1;function HT(t,e,n){if(df)return t(e,n);df=!0;try{var i=t(e);return i}finally{if(df=!1,(Ms!==null||Gs!==null)&&(hh(),Ms&&(e=Ms,t=Gs,Gs=Ms=null,ey(e),t)))for(e=0;e<t.length;e++)ey(t[e])}}function Yo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Bt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bd=!1;if(mi)try{var io={};Object.defineProperty(io,"passive",{get:function(){bd=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{bd=!1}var Ki=null,Km=null,Nu=null;function FT(){if(Nu)return Nu;var t,e=Km,n=e.length,i,r="value"in Ki?Ki.value:Ki.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Nu=r.slice(t,1<i?1-i:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function ty(){return!1}function zt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lu:ty,this.isPropagationStopped=ty,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eh=zt(us),Sl=Ne({},us,{view:0,detail:0}),PR=zt(Sl),mf,pf,ro,th=Ne({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ro&&(ro&&t.type==="mousemove"?(mf=t.screenX-ro.screenX,pf=t.screenY-ro.screenY):pf=mf=0,ro=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:pf}}),ny=zt(th),UR=Ne({},th,{dataTransfer:0}),jR=zt(UR),BR=Ne({},Sl,{relatedTarget:0}),gf=zt(BR),zR=Ne({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),qR=zt(zR),HR=Ne({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FR=zt(HR),GR=Ne({},us,{data:0}),iy=zt(GR),$R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YR[t])?!!e[t]:!1}function Ym(){return QR}var XR=Ne({},Sl,{key:function(t){if(t.key){var e=$R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ym,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WR=zt(XR),JR=Ne({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=zt(JR),ZR=Ne({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ym}),eC=zt(ZR),tC=Ne({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=zt(tC),iC=Ne({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=zt(iC),sC=Ne({},us,{newState:0,oldState:0}),aC=zt(sC),oC=[9,13,27,32],Qm=mi&&"CompositionEvent"in window,Ro=null;mi&&"documentMode"in document&&(Ro=document.documentMode);var lC=mi&&"TextEvent"in window&&!Ro,GT=mi&&(!Qm||Ro&&8<Ro&&11>=Ro),sy=" ",ay=!1;function $T(t,e){switch(t){case"keyup":return oC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function uC(t,e){switch(t){case"compositionend":return KT(e);case"keypress":return e.which!==32?null:(ay=!0,sy);case"textInput":return t=e.data,t===sy&&ay?null:t;default:return null}}function cC(t,e){if(Vs)return t==="compositionend"||!Qm&&$T(t,e)?(t=FT(),Nu=Km=Ki=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GT&&e.locale!=="ko"?null:e.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hC[t.type]:e==="textarea"}function YT(t,e,n,i){Ms?Gs?Gs.push(i):Gs=[i]:Ms=i,e=bc(e,"onChange"),0<e.length&&(n=new eh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Co=null,Qo=null;function fC(t){H0(t,0)}function nh(t){var e=po(t);if(UT(e))return t}function ly(t,e){if(t==="change")return e}var QT=!1;if(mi){var _f;if(mi){var yf="oninput"in document;if(!yf){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),yf=typeof uy.oninput=="function"}_f=yf}else _f=!1;QT=_f&&(!document.documentMode||9<document.documentMode)}function cy(){Co&&(Co.detachEvent("onpropertychange",XT),Qo=Co=null)}function XT(t){if(t.propertyName==="value"&&nh(Qo)){var e=[];YT(e,Qo,t,$m(t)),HT(fC,e)}}function dC(t,e,n){t==="focusin"?(cy(),Co=e,Qo=n,Co.attachEvent("onpropertychange",XT)):t==="focusout"&&cy()}function mC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(Qo)}function pC(t,e){if(t==="click")return nh(e)}function gC(t,e){if(t==="input"||t==="change")return nh(e)}function _C(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:_C;function Xo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!gd.call(e,r)||!tn(t[r],e[r]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,e){var n=hy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function WT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=rc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rc(t.document)}return e}function Xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var yC=mi&&"documentMode"in document&&11>=document.documentMode,ks=null,Sd=null,Io=null,Ad=!1;function dy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ad||ks==null||ks!==rc(i)||(i=ks,"selectionStart"in i&&Xm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Io&&Xo(Io,i)||(Io=i,i=bc(Sd,"onSelect"),0<i.length&&(e=new eh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ks)))}function Lr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ls={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},vf={},ZT={};mi&&(ZT=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function cs(t){if(vf[t])return vf[t];if(!Ls[t])return t;var e=Ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZT)return vf[t]=e[n];return t}var eb=cs("animationend"),tb=cs("animationiteration"),nb=cs("animationstart"),vC=cs("transitionrun"),EC=cs("transitionstart"),TC=cs("transitioncancel"),ib=cs("transitionend"),rb=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function In(t,e){rb.set(t,e),ls(e,[t])}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ln=[],Ps=0,Wm=0;function ih(){for(var t=Ps,e=Wm=Ps=0;e<t;){var n=ln[e];ln[e++]=null;var i=ln[e];ln[e++]=null;var r=ln[e];ln[e++]=null;var s=ln[e];if(ln[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&sb(n,r,s)}}function rh(t,e,n,i){ln[Ps++]=t,ln[Ps++]=e,ln[Ps++]=n,ln[Ps++]=i,Wm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Jm(t,e,n,i){return rh(t,e,n,i),ac(t)}function hs(t,e){return rh(t,null,null,e),ac(t)}function sb(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Zt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function ac(t){if(50<Po)throw Po=0,$d=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Us={};function bC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,i){return new bC(t,e,n,i)}function Zm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ab(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Du(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")Zm(t)&&(a=1);else if(typeof t=="string")a=CI(t,n,Un.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case fd:return t=Kt(31,n,e,r),t.elementType=fd,t.lanes=s,t;case xs:return Fr(n.children,r,s,e);case wT:a=8,r|=24;break;case ud:return t=Kt(12,n,e,r|2),t.elementType=ud,t.lanes=s,t;case cd:return t=Kt(13,n,e,r),t.elementType=cd,t.lanes=s,t;case hd:return t=Kt(19,n,e,r),t.elementType=hd,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case si:a=10;break e;case RT:a=9;break e;case jm:a=11;break e;case Bm:a=14;break e;case Vi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Kt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Fr(t,e,n,i){return t=Kt(7,t,i,e),t.lanes=n,t}function Ef(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function ob(t){var e=Kt(18,null,null,0);return e.stateNode=t,e}function Tf(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var my=new WeakMap;function dn(t,e){if(typeof t=="object"&&t!==null){var n=my.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Y_(e)},my.set(t,e),e)}return{value:t,source:e,stack:Y_(e)}}var js=[],Bs=0,oc=null,Wo=0,cn=[],hn=0,dr=null,Vn=1,kn="";function ii(t,e){js[Bs++]=Wo,js[Bs++]=oc,oc=t,Wo=e}function lb(t,e,n){cn[hn++]=Vn,cn[hn++]=kn,cn[hn++]=dr,dr=t;var i=Vn;t=kn;var r=32-Zt(i)-1;i&=~(1<<r),n+=1;var s=32-Zt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Vn=1<<32-Zt(e)+r|n<<r|i,kn=s+t}else Vn=1<<s|n<<r|i,kn=t}function ep(t){t.return!==null&&(ii(t,1),lb(t,1,0))}function tp(t){for(;t===oc;)oc=js[--Bs],js[Bs]=null,Wo=js[--Bs],js[Bs]=null;for(;t===dr;)dr=cn[--hn],cn[hn]=null,kn=cn[--hn],cn[hn]=null,Vn=cn[--hn],cn[hn]=null}function ub(t,e){cn[hn++]=Vn,cn[hn++]=kn,cn[hn++]=dr,Vn=e.id,kn=e.overflow,dr=t}var pt=null,Re=null,ue=!1,Zi=null,mn=!1,Rd=Error(L(519));function mr(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(dn(e,t)),Rd}function py(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[mt]=t,e[Bt]=i,n){case"dialog":ie("cancel",e),ie("close",e);break;case"iframe":case"object":case"embed":ie("load",e);break;case"video":case"audio":for(n=0;n<nl.length;n++)ie(nl[n],e);break;case"source":ie("error",e);break;case"img":case"image":case"link":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"input":ie("invalid",e),jT(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",e);break;case"textarea":ie("invalid",e),zT(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||G0(e.textContent,n)?(i.popover!=null&&(ie("beforetoggle",e),ie("toggle",e)),i.onScroll!=null&&ie("scroll",e),i.onScrollEnd!=null&&ie("scrollend",e),i.onClick!=null&&(e.onclick=ai),e=!0):e=!1,e||mr(t,!0)}function gy(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:pt=pt.return}}function Ts(t){if(t!==pt)return!1;if(!ue)return gy(t),ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Wd(t.type,t.memoizedProps)),n=!n),n&&Re&&mr(t),gy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Re=nv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Re=nv(t)}else e===27?(e=Re,wr(t.type)?(t=tm,tm=null,Re=t):Re=e):Re=pt?yn(t.stateNode.nextSibling):null;return!0}function Wr(){Re=pt=null,ue=!1}function bf(){var t=Zi;return t!==null&&(Lt===null?Lt=t:Lt.push.apply(Lt,t),Zi=null),t}function Jo(t){Zi===null?Zi=[t]:Zi.push(t)}var Cd=$n(null),fs=null,oi=null;function Pi(t,e,n){Se(Cd,e._currentValue),e._currentValue=n}function hi(t){t._currentValue=Cd.current,ht(Cd)}function Id(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Nd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Id(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(L(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Id(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Aa(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=r.type;tn(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===ec.current){if(a=r.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(rl):t=[rl])}r=r.return}t!==null&&Nd(e,t,n,i),e.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){fs=t,oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return cb(fs,t)}function uu(t,e){return fs===null&&Jr(t),cb(t,e)}function cb(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},oi===null){if(t===null)throw Error(L(308));oi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else oi=oi.next=e;return n}var SC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},AC=st.unstable_scheduleCallback,wC=st.unstable_NormalPriority,We={$$typeof:si,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new SC,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&AC(wC,function(){t.controller.abort()})}var No=null,xd=0,sa=0,$s=null;function RC(t,e){if(No===null){var n=No=[];xd=0,sa=Cp(),$s={status:"pending",value:void 0,then:function(i){n.push(i)}}}return xd++,e.then(_y,_y),e}function _y(){if(--xd===0&&No!==null){$s!==null&&($s.status="fulfilled");var t=No;No=null,sa=0,$s=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function CC(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var yy=W.S;W.S=function(t,e){A0=Wt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&RC(t,e),yy!==null&&yy(t,e)};var Gr=$n(null);function ip(){var t=Gr.current;return t!==null?t:Te.pooledCache}function Ou(t,e){e===null?Se(Gr,Gr.current):Se(Gr,e.pool)}function hb(){var t=ip();return t===null?null:{parent:We._currentValue,pool:t}}var wa=Error(L(460)),rp=Error(L(474)),sh=Error(L(542)),uc={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ai,ai),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t;default:if(typeof e.status=="string")e.then(ai,ai);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t}throw $r=e,wa}}function jr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($r=n,wa):n}}var $r=null;function Ey(){if($r===null)throw Error(L(459));var t=$r;return $r=null,t}function Ty(t){if(t===wa||t===sh)throw Error(L(483))}var Ks=null,Zo=0;function cu(t){var e=Zo;return Zo+=1,Ks===null&&(Ks=[]),fb(Ks,t,e)}function so(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function hu(t,e){throw e.$$typeof===dR?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function db(t){function e(b,v){if(t){var T=b.deletions;T===null?(b.deletions=[v],b.flags|=16):T.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=ci(b,v),b.index=0,b.sibling=null,b}function s(b,v,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<v?(b.flags|=67108866,v):T):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,T,x){return v===null||v.tag!==6?(v=Ef(T,b.mode,x),v.return=b,v):(v=r(v,T),v.return=b,v)}function u(b,v,T,x){var B=T.type;return B===xs?f(b,v,T.props.children,x,T.key):v!==null&&(v.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&jr(B)===v.type)?(v=r(v,T.props),so(v,T),v.return=b,v):(v=Du(T.type,T.key,T.props,null,b.mode,x),so(v,T),v.return=b,v)}function c(b,v,T,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=Tf(T,b.mode,x),v.return=b,v):(v=r(v,T.children||[]),v.return=b,v)}function f(b,v,T,x,B){return v===null||v.tag!==7?(v=Fr(T,b.mode,x,B),v.return=b,v):(v=r(v,T),v.return=b,v)}function m(b,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Ef(""+v,b.mode,T),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case iu:return T=Du(v.type,v.key,v.props,null,b.mode,T),so(T,v),T.return=b,T;case fo:return v=Tf(v,b.mode,T),v.return=b,v;case Vi:return v=jr(v),m(b,v,T)}if(mo(v)||no(v))return v=Fr(v,b.mode,T,null),v.return=b,v;if(typeof v.then=="function")return m(b,cu(v),T);if(v.$$typeof===si)return m(b,uu(b,v),T);hu(b,v)}return null}function g(b,v,T,x){var B=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return B!==null?null:l(b,v,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case iu:return T.key===B?u(b,v,T,x):null;case fo:return T.key===B?c(b,v,T,x):null;case Vi:return T=jr(T),g(b,v,T,x)}if(mo(T)||no(T))return B!==null?null:f(b,v,T,x,null);if(typeof T.then=="function")return g(b,v,cu(T),x);if(T.$$typeof===si)return g(b,v,uu(b,T),x);hu(b,T)}return null}function _(b,v,T,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return b=b.get(T)||null,l(v,b,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iu:return b=b.get(x.key===null?T:x.key)||null,u(v,b,x,B);case fo:return b=b.get(x.key===null?T:x.key)||null,c(v,b,x,B);case Vi:return x=jr(x),_(b,v,T,x,B)}if(mo(x)||no(x))return b=b.get(T)||null,f(v,b,x,B,null);if(typeof x.then=="function")return _(b,v,T,cu(x),B);if(x.$$typeof===si)return _(b,v,T,uu(v,x),B);hu(v,x)}return null}function I(b,v,T,x){for(var B=null,q=null,S=v,E=v=0,A=null;S!==null&&E<T.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var R=g(b,S,T[E],x);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(b,S),v=s(R,v,E),q===null?B=R:q.sibling=R,q=R,S=A}if(E===T.length)return n(b,S),ue&&ii(b,E),B;if(S===null){for(;E<T.length;E++)S=m(b,T[E],x),S!==null&&(v=s(S,v,E),q===null?B=S:q.sibling=S,q=S);return ue&&ii(b,E),B}for(S=i(S);E<T.length;E++)A=_(S,b,E,T[E],x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),v=s(A,v,E),q===null?B=A:q.sibling=A,q=A);return t&&S.forEach(function(C){return e(b,C)}),ue&&ii(b,E),B}function N(b,v,T,x){if(T==null)throw Error(L(151));for(var B=null,q=null,S=v,E=v=0,A=null,R=T.next();S!==null&&!R.done;E++,R=T.next()){S.index>E?(A=S,S=null):A=S.sibling;var C=g(b,S,R.value,x);if(C===null){S===null&&(S=A);break}t&&S&&C.alternate===null&&e(b,S),v=s(C,v,E),q===null?B=C:q.sibling=C,q=C,S=A}if(R.done)return n(b,S),ue&&ii(b,E),B;if(S===null){for(;!R.done;E++,R=T.next())R=m(b,R.value,x),R!==null&&(v=s(R,v,E),q===null?B=R:q.sibling=R,q=R);return ue&&ii(b,E),B}for(S=i(S);!R.done;E++,R=T.next())R=_(S,b,E,R.value,x),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),v=s(R,v,E),q===null?B=R:q.sibling=R,q=R);return t&&S.forEach(function(O){return e(b,O)}),ue&&ii(b,E),B}function D(b,v,T,x){if(typeof T=="object"&&T!==null&&T.type===xs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case iu:e:{for(var B=T.key;v!==null;){if(v.key===B){if(B=T.type,B===xs){if(v.tag===7){n(b,v.sibling),x=r(v,T.props.children),x.return=b,b=x;break e}}else if(v.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Vi&&jr(B)===v.type){n(b,v.sibling),x=r(v,T.props),so(x,T),x.return=b,b=x;break e}n(b,v);break}else e(b,v);v=v.sibling}T.type===xs?(x=Fr(T.props.children,b.mode,x,T.key),x.return=b,b=x):(x=Du(T.type,T.key,T.props,null,b.mode,x),so(x,T),x.return=b,b=x)}return a(b);case fo:e:{for(B=T.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(b,v.sibling),x=r(v,T.children||[]),x.return=b,b=x;break e}else{n(b,v);break}else e(b,v);v=v.sibling}x=Tf(T,b.mode,x),x.return=b,b=x}return a(b);case Vi:return T=jr(T),D(b,v,T,x)}if(mo(T))return I(b,v,T,x);if(no(T)){if(B=no(T),typeof B!="function")throw Error(L(150));return T=B.call(T),N(b,v,T,x)}if(typeof T.then=="function")return D(b,v,cu(T),x);if(T.$$typeof===si)return D(b,v,uu(b,T),x);hu(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(n(b,v.sibling),x=r(v,T),x.return=b,b=x):(n(b,v),x=Ef(T,b.mode,x),x.return=b,b=x),a(b)):n(b,v)}return function(b,v,T,x){try{Zo=0;var B=D(b,v,T,x);return Ks=null,B}catch(S){if(S===wa||S===sh)throw S;var q=Kt(29,S,null,b.mode);return q.lanes=x,q.return=b,q}finally{}}}var Zr=db(!0),mb=db(!1),ki=!1;function sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,de&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=ac(t),sb(t,null,n),e}return rh(t,i,e,n),ac(t)}function xo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,OT(t,n)}}function Sf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Od=!1;function Do(){if(Od){var t=$s;if(t!==null)throw t}}function Oo(t,e,n,i){Od=!1;var r=t.updateQueue;ki=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=c=u=null,l=s;do{var g=l.lane&-536870913,_=g!==l.lane;if(_?(le&g)===g:(i&g)===g){g!==0&&g===sa&&(Od=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=t,N=l;g=e;var D=n;switch(N.tag){case 1:if(I=N.payload,typeof I=="function"){m=I.call(D,m,g);break e}m=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=N.payload,g=typeof I=="function"?I.call(D,m,g):I,g==null)break e;m=Ne({},m,g);break e;case 2:ki=!0}}g=l.callback,g!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[g]:_.push(g))}else _={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=m):f=f.next=_,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),gr|=a,t.lanes=a,t.memoizedState=m}}function pb(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function gb(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)pb(n[t],e)}var aa=$n(null),cc=$n(0);function by(t,e){t=yi,Se(cc,t),Se(aa,e),yi=t|e.baseLanes}function Md(){Se(cc,yi),Se(aa,aa.current)}function ap(){yi=cc.current,ht(aa),ht(cc)}var nn=$n(null),_n=null;function Ui(t){var e=t.alternate;Se(Fe,Fe.current&1),Se(nn,t),_n===null&&(e===null||aa.current!==null||e.memoizedState!==null)&&(_n=t)}function Vd(t){Se(Fe,Fe.current),Se(nn,t),_n===null&&(_n=t)}function _b(t){t.tag===22?(Se(Fe,Fe.current),Se(nn,t),_n===null&&(_n=t)):ji()}function ji(){Se(Fe,Fe.current),Se(nn,nn.current)}function $t(t){ht(nn),_n===t&&(_n=null),ht(Fe)}var Fe=$n(0);function hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zd(n)||em(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pi=0,te=null,ve=null,Qe=null,fc=!1,Ys=!1,es=!1,dc=0,el=0,Qs=null,IC=0;function je(){throw Error(L(321))}function op(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function lp(t,e,n,i,r,s){return pi=s,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=t===null||t.memoizedState===null?Yb:vp,es=!1,s=n(i,r),es=!1,Ys&&(s=vb(e,n,i,r)),yb(t),s}function yb(t){W.H=tl;var e=ve!==null&&ve.next!==null;if(pi=0,Qe=ve=te=null,fc=!1,el=0,Qs=null,e)throw Error(L(300));t===null||Ze||(t=t.dependencies,t!==null&&lc(t)&&(Ze=!0))}function vb(t,e,n,i){te=t;var r=0;do{if(Ys&&(Qs=null),el=0,Ys=!1,25<=r)throw Error(L(301));if(r+=1,Qe=ve=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}W.H=Qb,s=e(n,i)}while(Ys);return s}function NC(){var t=W.H,e=t.useState()[0];return e=typeof e.then=="function"?wl(e):e,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(te.flags|=1024),e}function up(){var t=dc!==0;return dc=0,t}function cp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function hp(t){if(fc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}fc=!1}pi=0,Qe=ve=te=null,Ys=!1,el=dc=0,Qs=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?te.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ge(){if(ve===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=Qe===null?te.memoizedState:Qe.next;if(e!==null)Qe=e,ve=t;else{if(t===null)throw te.alternate===null?Error(L(467)):Error(L(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Qe===null?te.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var e=el;return el+=1,Qs===null&&(Qs=[]),t=fb(Qs,t,e),e=te,(Qe===null?e.memoizedState:Qe.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?Yb:vp),t}function oh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===si)return _t(t)}throw Error(L(438,String(t)))}function fp(t){var e=null,n=te.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=te.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ah(),te.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=mR;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function Mu(t){var e=Ge();return dp(e,ve,t)}function dp(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(le&m)===m:(pi&m)===m){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===sa&&(f=!0);else if((pi&g)===g){c=c.next,g===sa&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,te.lanes|=g,gr|=g;m=c.action,es&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else g={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,te.lanes|=m,gr|=m;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!tn(s,t.memoizedState)&&(Ze=!0,f&&(n=$s,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Af(t){var e=Ge(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);tn(s,e.memoizedState)||(Ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Eb(t,e,n){var i=te,r=Ge(),s=ue;if(s){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!tn((ve||r).memoizedState,n);if(a&&(r.memoizedState=n,Ze=!0),r=r.queue,mp(Sb.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},bb.bind(null,i,r,n,e),null),Te===null)throw Error(L(349));s||pi&127||Tb(i,e,n)}return n}function Tb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e=ah(),te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bb(t,e,n,i){e.value=n,e.getSnapshot=i,Ab(e)&&wb(t)}function Sb(t,e,n){return n(function(){Ab(e)&&wb(t)})}function Ab(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function wb(t){var e=hs(t,2);e!==null&&jt(e,t,2)}function kd(t){var e=xt();if(typeof t=="function"){var n=t;if(t=n(),es){$i(!0);try{n()}finally{$i(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function Rb(t,e,n,i){return t.baseState=n,dp(t,ve,typeof i=="function"?i:gi)}function xC(t,e,n,i,r){if(uh(t))throw Error(L(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};W.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,Cb(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Cb(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=W.T,a={};W.T=a;try{var l=n(r,i),u=W.S;u!==null&&u(a,l),Sy(t,e,l)}catch(c){Ld(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),W.T=s}}else try{s=n(r,i),Sy(t,e,s)}catch(c){Ld(t,e,c)}}function Sy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ay(t,e,i)},function(i){return Ld(t,e,i)}):Ay(t,e,n)}function Ay(t,e,n){e.status="fulfilled",e.value=n,Ib(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Cb(t,n)))}function Ld(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Ib(e),e=e.next;while(e!==i)}t.action=null}function Ib(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Nb(t,e){return e}function wy(t,e){if(ue){var n=Te.formState;if(n!==null){e:{var i=te;if(ue){if(Re){t:{for(var r=Re,s=mn;r.nodeType!==8;){if(!s){r=null;break t}if(r=yn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Re=yn(r.nextSibling),i=r.data==="F!";break e}}mr(i)}i=!1}i&&(e=n[0])}}return n=xt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nb,lastRenderedState:e},n.queue=i,n=Gb.bind(null,te,i),i.dispatch=n,i=kd(!1),s=yp.bind(null,te,!1,i.queue),i=xt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=xC.bind(null,te,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ry(t){var e=Ge();return xb(e,ve,t)}function xb(t,e,n){if(e=dp(t,e,Nb)[0],t=Mu(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=wl(e)}catch(a){throw a===wa?sh:a}else i=e;e=Ge();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(te.flags|=2048,oa(9,{destroy:void 0},DC.bind(null,r,n),null)),[i,s,t]}function DC(t,e){t.action=e}function Cy(t){var e=Ge(),n=ve;if(n!==null)return xb(e,n,t);Ge(),e=e.memoizedState,n=Ge();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function oa(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=te.updateQueue,e===null&&(e=ah(),te.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Db(){return Ge().memoizedState}function Vu(t,e,n,i){var r=xt();te.flags|=t,r.memoizedState=oa(1|e,{destroy:void 0},n,i===void 0?null:i)}function lh(t,e,n,i){var r=Ge();i=i===void 0?null:i;var s=r.memoizedState.inst;ve!==null&&i!==null&&op(i,ve.memoizedState.deps)?r.memoizedState=oa(e,s,n,i):(te.flags|=t,r.memoizedState=oa(1|e,s,n,i))}function Iy(t,e){Vu(8390656,8,t,e)}function mp(t,e){lh(2048,8,t,e)}function OC(t){te.flags|=4;var e=te.updateQueue;if(e===null)e=ah(),te.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Ob(t){var e=Ge().memoizedState;return OC({ref:e,nextImpl:t}),function(){if(de&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function Mb(t,e){return lh(4,2,t,e)}function Vb(t,e){return lh(4,4,t,e)}function kb(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lb(t,e,n){n=n!=null?n.concat([t]):null,lh(4,4,kb.bind(null,e,t),n)}function pp(){}function Pb(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&op(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ub(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&op(e,i[1]))return i[0];if(i=t(),es){$i(!0);try{t()}finally{$i(!1)}}return n.memoizedState=[i,e],i}function gp(t,e,n){return n===void 0||pi&1073741824&&!(le&261930)?t.memoizedState=e:(t.memoizedState=n,t=R0(),te.lanes|=t,gr|=t,n)}function jb(t,e,n,i){return tn(n,e)?n:aa.current!==null?(t=gp(t,n,i),tn(t,e)||(Ze=!0),t):!(pi&42)||pi&1073741824&&!(le&261930)?(Ze=!0,t.memoizedState=n):(t=R0(),te.lanes|=t,gr|=t,e)}function Bb(t,e,n,i,r){var s=me.p;me.p=s!==0&&8>s?s:8;var a=W.T,l={};W.T=l,yp(t,!1,e,n);try{var u=r(),c=W.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=CC(u,i);Mo(t,e,f,en(t))}else Mo(t,e,i,en(t))}catch(m){Mo(t,e,{then:function(){},status:"rejected",reason:m},en())}finally{me.p=s,a!==null&&l.types!==null&&(a.types=l.types),W.T=a}}function MC(){}function Pd(t,e,n,i){if(t.tag!==5)throw Error(L(476));var r=zb(t).queue;Bb(t,r,e,Hr,n===null?MC:function(){return qb(t),n(i)})}function zb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Hr,baseState:Hr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Hr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function qb(t){var e=zb(t);e.next===null&&(e=t.alternate.memoizedState),Mo(t,e.next.queue,{},en())}function _p(){return _t(rl)}function Hb(){return Ge().memoizedState}function Fb(){return Ge().memoizedState}function VC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=en();t=er(n);var i=tr(e,t,n);i!==null&&(jt(i,e,n),xo(i,e,n)),e={cache:np()},t.payload=e;return}e=e.return}}function kC(t,e,n){var i=en();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uh(t)?$b(e,n):(n=Jm(t,e,n,i),n!==null&&(jt(n,t,i),Kb(n,e,i)))}function Gb(t,e,n){var i=en();Mo(t,e,n,i)}function Mo(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uh(t))$b(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,tn(l,a))return rh(t,e,r,0),Te===null&&ih(),!1}catch{}finally{}if(n=Jm(t,e,r,i),n!==null)return jt(n,t,i),Kb(n,e,i),!0}return!1}function yp(t,e,n,i){if(i={lane:2,revertLane:Cp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},uh(t)){if(e)throw Error(L(479))}else e=Jm(t,n,i,2),e!==null&&jt(e,t,2)}function uh(t){var e=t.alternate;return t===te||e!==null&&e===te}function $b(t,e){Ys=fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kb(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,OT(t,n)}}var tl={readContext:_t,use:oh,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};tl.useEffectEvent=je;var Yb={readContext:_t,use:oh,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:Iy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Vu(4194308,4,kb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){Vu(4,2,t,e)},useMemo:function(t,e){var n=xt();e=e===void 0?null:e;var i=t();if(es){$i(!0);try{t()}finally{$i(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=xt();if(n!==void 0){var r=n(e);if(es){$i(!0);try{n(e)}finally{$i(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=kC.bind(null,te,t),[i.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:function(t){t=kd(t);var e=t.queue,n=Gb.bind(null,te,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:pp,useDeferredValue:function(t,e){var n=xt();return gp(n,t,e)},useTransition:function(){var t=kd(!1);return t=Bb.bind(null,te,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=te,r=xt();if(ue){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Te===null)throw Error(L(349));le&127||Tb(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Iy(Sb.bind(null,i,s,t),[t]),i.flags|=2048,oa(9,{destroy:void 0},bb.bind(null,i,s,n,e),null),n},useId:function(){var t=xt(),e=Te.identifierPrefix;if(ue){var n=kn,i=Vn;n=(i&~(1<<32-Zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=IC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:_p,useFormState:wy,useActionState:wy,useOptimistic:function(t){var e=xt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=yp.bind(null,te,!0,n),n.dispatch=e,[t,e]},useMemoCache:fp,useCacheRefresh:function(){return xt().memoizedState=VC.bind(null,te)},useEffectEvent:function(t){var e=xt(),n={impl:t};return e.memoizedState=n,function(){if(de&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},vp={readContext:_t,use:oh,useCallback:Pb,useContext:_t,useEffect:mp,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:Vb,useMemo:Ub,useReducer:Mu,useRef:Db,useState:function(){return Mu(gi)},useDebugValue:pp,useDeferredValue:function(t,e){var n=Ge();return jb(n,ve.memoizedState,t,e)},useTransition:function(){var t=Mu(gi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:wl(t),e]},useSyncExternalStore:Eb,useId:Hb,useHostTransitionStatus:_p,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,e){var n=Ge();return Rb(n,ve,t,e)},useMemoCache:fp,useCacheRefresh:Fb};vp.useEffectEvent=Ob;var Qb={readContext:_t,use:oh,useCallback:Pb,useContext:_t,useEffect:mp,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:Vb,useMemo:Ub,useReducer:Af,useRef:Db,useState:function(){return Af(gi)},useDebugValue:pp,useDeferredValue:function(t,e){var n=Ge();return ve===null?gp(n,t,e):jb(n,ve.memoizedState,t,e)},useTransition:function(){var t=Af(gi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:wl(t),e]},useSyncExternalStore:Eb,useId:Hb,useHostTransitionStatus:_p,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,e){var n=Ge();return ve!==null?Rb(n,ve,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:fp,useCacheRefresh:Fb};Qb.useEffectEvent=Ob;function wf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ud={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),r=er(i);r.payload=e,n!=null&&(r.callback=n),e=tr(t,r,i),e!==null&&(jt(e,t,i),xo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),r=er(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=tr(t,r,i),e!==null&&(jt(e,t,i),xo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=er(n);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,n),e!==null&&(jt(e,t,n),xo(e,t,n))}};function Ny(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xo(n,i)||!Xo(r,s):!0}function xy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ud.enqueueReplaceState(e,e.state,null)}function ts(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ne({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function Xb(t){sc(t)}function Wb(t){console.error(t)}function Jb(t){sc(t)}function mc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Dy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jd(t,e,n){return n=er(n),n.tag=3,n.payload={element:null},n.callback=function(){mc(t,e)},n}function Zb(t){return t=er(t),t.tag=3,t}function e0(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){Dy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Dy(e,n,i),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function LC(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Aa(e,n,r,!0),n=nn.current,n!==null){switch(n.tag){case 31:case 13:return _n===null?vc():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===uc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Lf(t,i,r)),!1;case 22:return n.flags|=65536,i===uc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Lf(t,i,r)),!1}throw Error(L(435,n.tag))}return Lf(t,i,r),vc(),!1}if(ue)return e=nn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Rd&&(t=Error(L(422),{cause:i}),Jo(dn(t,n)))):(i!==Rd&&(e=Error(L(423),{cause:i}),Jo(dn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=dn(i,n),r=jd(t.stateNode,i,r),Sf(t,r),Be!==4&&(Be=2)),!1;var s=Error(L(520),{cause:i});if(s=dn(s,n),Lo===null?Lo=[s]:Lo.push(s),Be!==4&&(Be=2),e===null)return!0;i=dn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=jd(n.stateNode,i,t),Sf(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(nr===null||!nr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Zb(r),e0(r,t,n,i),Sf(n,r),!1}n=n.return}while(n!==null);return!1}var Ep=Error(L(461)),Ze=!1;function ft(t,e,n,i){e.child=t===null?mb(e,null,n,i):Zr(e,t.child,n,i)}function Oy(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Jr(e),i=lp(t,e,n,a,s,r),l=up(),t!==null&&!Ze?(cp(t,e,r),_i(t,e,r)):(ue&&l&&ep(e),e.flags|=1,ft(t,e,i,r),e.child)}function My(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Zm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,t0(t,e,s,i,r)):(t=Du(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Tp(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(a,i)&&t.ref===e.ref)return _i(t,e,r)}return e.flags|=1,t=ci(s,i),t.ref=e.ref,t.return=e,e.child=t}function t0(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Xo(s,i)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=i=s,Tp(t,r))t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,_i(t,e,r)}return Bd(t,e,n,i,r)}function n0(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return Vy(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(e,s!==null?s.cachePool:null),s!==null?by(e,s):Md(),_b(e);else return i=e.lanes=536870912,Vy(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ou(e,s.cachePool),by(e,s),ji(),e.memoizedState=null):(t!==null&&Ou(e,null),Md(),ji());return ft(t,e,r,n),e.child}function go(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Vy(t,e,n,i,r){var s=ip();return s=s===null?null:{parent:We._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Ou(e,null),Md(),_b(e),t!==null&&Aa(t,e,i,!0),e.childLanes=r,null}function ku(t,e){return e=pc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function ky(t,e,n){return Zr(e,t.child,null,n),t=ku(e,e.pendingProps),t.flags|=2,$t(e),e.memoizedState=null,t}function PC(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ue){if(i.mode==="hidden")return t=ku(e,i),e.lanes=536870912,go(null,t);if(Vd(e),(t=Re)?(t=Y0(t,mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:dr!==null?{id:Vn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},n=ob(t),n.return=e,e.child=n,pt=e,Re=null)):t=null,t===null)throw mr(e);return e.lanes=536870912,null}return ku(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Vd(e),r)if(e.flags&256)e.flags&=-257,e=ky(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ze||Aa(t,e,n,!1),r=(n&t.childLanes)!==0,Ze||r){if(i=Te,i!==null&&(a=MT(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,hs(t,a),jt(i,t,a),Ep;vc(),e=ky(t,e,n)}else t=s.treeContext,Re=yn(a.nextSibling),pt=e,ue=!0,Zi=null,mn=!1,t!==null&&ub(e,t),e=ku(e,i),e.flags|=4096;return e}return t=ci(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Lu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Bd(t,e,n,i,r){return Jr(e),n=lp(t,e,n,i,void 0,r),i=up(),t!==null&&!Ze?(cp(t,e,r),_i(t,e,r)):(ue&&i&&ep(e),e.flags|=1,ft(t,e,n,r),e.child)}function Ly(t,e,n,i,r,s){return Jr(e),e.updateQueue=null,n=vb(e,i,n,r),yb(t),i=up(),t!==null&&!Ze?(cp(t,e,s),_i(t,e,s)):(ue&&i&&ep(e),e.flags|=1,ft(t,e,n,s),e.child)}function Py(t,e,n,i,r){if(Jr(e),e.stateNode===null){var s=Us,a=n.contextType;typeof a=="object"&&a!==null&&(s=_t(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ud,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},sp(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?_t(a):Us,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(wf(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Ud.enqueueReplaceState(s,s.state,null),Oo(e,i,s,r),Do(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=ts(n,l);s.props=u;var c=s.context,f=n.contextType;a=Us,typeof f=="object"&&f!==null&&(a=_t(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&xy(e,s,i,a),ki=!1;var g=e.memoizedState;s.state=g,Oo(e,i,s,r),Do(),c=e.memoizedState,l||g!==c||ki?(typeof m=="function"&&(wf(e,n,m,i),c=e.memoizedState),(u=ki||Ny(e,n,u,i,g,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Dd(t,e),a=e.memoizedProps,f=ts(n,a),s.props=f,m=e.pendingProps,g=s.context,c=n.contextType,u=Us,typeof c=="object"&&c!==null&&(u=_t(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||g!==u)&&xy(e,s,i,u),ki=!1,g=e.memoizedState,s.state=g,Oo(e,i,s,r),Do();var _=e.memoizedState;a!==m||g!==_||ki||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof l=="function"&&(wf(e,n,l,i),_=e.memoizedState),(f=ki||Ny(e,n,f,i,g,_,u)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Lu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Zr(e,t.child,null,r),e.child=Zr(e,null,n,r)):ft(t,e,n,r),e.memoizedState=s.state,t=e.child):t=_i(t,e,r),t}function Uy(t,e,n,i){return Wr(),e.flags|=256,ft(t,e,n,i),e.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:hb()}}function If(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Yt),t}function i0(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ue){if(r?Ui(e):ji(),(t=Re)?(t=Y0(t,mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:dr!==null?{id:Vn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},n=ob(t),n.return=e,e.child=n,pt=e,Re=null)):t=null,t===null)throw mr(e);return em(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(ji(),r=e.mode,l=pc({mode:"hidden",children:l},r),i=Fr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=Cf(n),i.childLanes=If(t,a,n),e.memoizedState=Rf,go(null,i)):(Ui(e),zd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(Ui(e),e.flags&=-257,e=Nf(t,e,n)):e.memoizedState!==null?(ji(),e.child=t.child,e.flags|=128,e=null):(ji(),l=i.fallback,r=e.mode,i=pc({mode:"visible",children:i.children},r),l=Fr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Zr(e,t.child,null,n),i=e.child,i.memoizedState=Cf(n),i.childLanes=If(t,a,n),e.memoizedState=Rf,e=go(null,i));else if(Ui(e),em(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,Jo({value:i,source:null,stack:null}),e=Nf(t,e,n)}else if(Ze||Aa(t,e,n,!1),a=(n&t.childLanes)!==0,Ze||a){if(a=Te,a!==null&&(i=MT(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,hs(t,i),jt(a,t,i),Ep;Zd(l)||vc(),e=Nf(t,e,n)}else Zd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Re=yn(l.nextSibling),pt=e,ue=!0,Zi=null,mn=!1,t!==null&&ub(e,t),e=zd(e,i.children),e.flags|=4096);return e}return r?(ji(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=ci(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=ci(c,l):(l=Fr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,go(null,i),i=e.child,l=t.child.memoizedState,l===null?l=Cf(n):(r=l.cachePool,r!==null?(u=We._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=hb(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=If(t,a,n),e.memoizedState=Rf,go(t.child,i)):(Ui(e),n=t.child,t=n.sibling,n=ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function zd(t,e){return e=pc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function pc(t,e){return t=Kt(22,t,null,e),t.lanes=0,t}function Nf(t,e,n){return Zr(e,t.child,null,n),t=zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Id(t.return,e,n)}function xf(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function r0(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Fe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Se(Fe,a),ft(t,e,i,n),i=ue?Wo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,n,e);else if(t.tag===19)jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&hc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),xf(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&hc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}xf(e,!0,n,null,s,i);break;case"together":xf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function UC(t,e,n){switch(e.tag){case 3:tc(e,e.stateNode.containerInfo),Pi(e,We,t.memoizedState.cache),Wr();break;case 27:case 5:pd(e);break;case 4:tc(e,e.stateNode.containerInfo);break;case 10:Pi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Vd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ui(e),e.flags|=128,null):n&e.child.childLanes?i0(t,e,n):(Ui(e),t=_i(t,e,n),t!==null?t.sibling:null);Ui(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Aa(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return r0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Fe,Fe.current),i)break;return null;case 22:return e.lanes=0,n0(t,e,n,e.pendingProps);case 24:Pi(e,We,t.memoizedState.cache)}return _i(t,e,n)}function s0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ze=!0;else{if(!Tp(t,n)&&!(e.flags&128))return Ze=!1,UC(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,ue&&e.flags&1048576&&lb(e,Wo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=jr(e.elementType),e.type=t,typeof t=="function")Zm(t)?(i=ts(t,i),e.tag=1,e=Py(null,e,t,i,n)):(e.tag=0,e=Bd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===jm){e.tag=11,e=Oy(null,e,t,i,n);break e}else if(r===Bm){e.tag=14,e=My(null,e,t,i,n);break e}}throw e=dd(t)||t,Error(L(306,e,""))}}return e;case 0:return Bd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=ts(i,e.pendingProps),Py(t,e,i,r,n);case 3:e:{if(tc(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,Dd(t,e),Oo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Pi(e,We,i),i!==s.cache&&Nd(e,[We],n,!0),Do(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Uy(t,e,i,n);break e}else if(i!==r){r=dn(Error(L(424)),e),Jo(r),e=Uy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Re=yn(t.firstChild),pt=e,ue=!0,Zi=null,mn=!0,n=mb(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wr(),i===r){e=_i(t,e,n);break e}ft(t,e,i,n)}e=e.child}return e;case 26:return Lu(t,e),t===null?(n=sv(e.type,null,e.pendingProps,null))?e.memoizedState=n:ue||(n=e.type,t=e.pendingProps,i=Sc(Ji.current).createElement(n),i[mt]=e,i[Bt]=t,yt(i,n,t),ct(i),e.stateNode=i):e.memoizedState=sv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return pd(e),t===null&&ue&&(i=e.stateNode=Q0(e.type,e.pendingProps,Ji.current),pt=e,mn=!0,r=Re,wr(e.type)?(tm=r,Re=yn(i.firstChild)):Re=r),ft(t,e,e.pendingProps.children,n),Lu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ue&&((r=i=Re)&&(i=mI(i,e.type,e.pendingProps,mn),i!==null?(e.stateNode=i,pt=e,Re=yn(i.firstChild),mn=!1,r=!0):r=!1),r||mr(e)),pd(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Wd(r,s)?i=null:a!==null&&Wd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=lp(t,e,NC,null,null,n),rl._currentValue=r),Lu(t,e),ft(t,e,i,n),e.child;case 6:return t===null&&ue&&((t=n=Re)&&(n=pI(n,e.pendingProps,mn),n!==null?(e.stateNode=n,pt=e,Re=null,t=!0):t=!1),t||mr(e)),null;case 13:return i0(t,e,n);case 4:return tc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zr(e,null,i,n):ft(t,e,i,n),e.child;case 11:return Oy(t,e,e.type,e.pendingProps,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Pi(e,e.type,i.value),ft(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Jr(e),r=_t(r),i=i(r),e.flags|=1,ft(t,e,i,n),e.child;case 14:return My(t,e,e.type,e.pendingProps,n);case 15:return t0(t,e,e.type,e.pendingProps,n);case 19:return r0(t,e,n);case 31:return PC(t,e,n);case 22:return n0(t,e,n,e.pendingProps);case 24:return Jr(e),i=_t(We),t===null?(r=ip(),r===null&&(r=Te,s=np(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},sp(e),Pi(e,We,r)):(t.lanes&n&&(Dd(t,e),Oo(e,null,null,n),Do()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Pi(e,We,i)):(i=s.cache,Pi(e,We,i),i!==r.cache&&Nd(e,[We],n,!0))),ft(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function Wn(t){t.flags|=4}function Df(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(N0())t.flags|=8192;else throw $r=uc,rp}else t.flags&=-16777217}function By(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!J0(e))if(N0())t.flags|=8192;else throw $r=uc,rp}function fu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?xT():536870912,t.lanes|=e,la|=e)}function ao(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function jC(t,e,n){var i=e.pendingProps;switch(tp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return we(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),hi(We),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ts(e)?Wn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bf())),we(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Wn(e),s!==null?(we(e),By(e,s)):(we(e),Df(e,r,null,i,n))):s?s!==t.memoizedState?(Wn(e),we(e),By(e,s)):(we(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Wn(e),we(e),Df(e,r,t,i,n)),null;case 27:if(nc(e),n=Ji.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return we(e),null}t=Un.current,Ts(e)?py(e):(t=Q0(r,i,n),e.stateNode=t,Wn(e))}return we(e),null;case 5:if(nc(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return we(e),null}if(s=Un.current,Ts(e))py(e);else{var a=Sc(Ji.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[mt]=e,s[Bt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(yt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wn(e)}}return we(e),Df(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Wn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Ji.current,Ts(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=pt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[mt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||G0(t.nodeValue,n)),t||mr(e,!0)}else t=Sc(t).createTextNode(i),t[mt]=e,e.stateNode=t}return we(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ts(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[mt]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),t=!1}else n=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?($t(e),e):($t(e),null);if(e.flags&128)throw Error(L(558))}return we(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Ts(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[mt]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),r=!1}else r=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?($t(e),e):($t(e),null)}return $t(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),fu(e,e.updateQueue),we(e),null);case 4:return na(),t===null&&Ip(e.stateNode.containerInfo),we(e),null;case 10:return hi(e.type),we(e),null;case 19:if(ht(Fe),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)ao(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hc(t),s!==null){for(e.flags|=128,ao(i,!1),t=s.updateQueue,e.updateQueue=t,fu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)ab(n,t),n=n.sibling;return Se(Fe,Fe.current&1|2),ue&&ii(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Wt()>_c&&(e.flags|=128,r=!0,ao(i,!1),e.lanes=4194304)}else{if(!r)if(t=hc(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,fu(e,t),ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ue)return we(e),null}else 2*Wt()-i.renderingStartTime>_c&&n!==536870912&&(e.flags|=128,r=!0,ao(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,n=Fe.current,Se(Fe,r?n&1|2:n&1),ue&&ii(e,i.treeForkCount),t):(we(e),null);case 22:case 23:return $t(e),ap(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),n=e.updateQueue,n!==null&&fu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ht(Gr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),hi(We),we(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function BC(t,e){switch(tp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(We),na(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return nc(e),null;case 31:if(e.memoizedState!==null){if($t(e),e.alternate===null)throw Error(L(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if($t(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(Fe),null;case 4:return na(),null;case 10:return hi(e.type),null;case 22:case 23:return $t(e),ap(),t!==null&&ht(Gr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return hi(We),null;case 25:return null;default:return null}}function a0(t,e){switch(tp(e),e.tag){case 3:hi(We),na();break;case 26:case 27:case 5:nc(e);break;case 4:na();break;case 31:e.memoizedState!==null&&$t(e);break;case 13:$t(e);break;case 19:ht(Fe);break;case 10:hi(e.type);break;case 22:case 23:$t(e),ap(),t!==null&&ht(Gr);break;case 24:hi(We)}}function Rl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_e(e,e.return,l)}}function pr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){_e(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){_e(e,e.return,f)}}function o0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{gb(e,n)}catch(i){_e(t,t.return,i)}}}function l0(t,e,n){n.props=ts(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function Vo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){_e(t,e,r)}}function Ln(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function u0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_e(t,t.return,r)}}function Of(t,e,n){try{var i=t.stateNode;lI(i,t.type,n,e),i[Bt]=e}catch(r){_e(t,t.return,r)}}function c0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ai));else if(i!==4&&(i===27&&wr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(qd(t,e,n),t=t.sibling;t!==null;)qd(t,e,n),t=t.sibling}function gc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&wr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function h0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);yt(e,i,n),e[mt]=t,e[Bt]=n}catch(s){_e(t,t.return,s)}}var ri=!1,Xe=!1,Vf=!1,zy=typeof WeakSet=="function"?WeakSet:Set,ut=null;function zC(t,e){if(t=t.containerInfo,Qd=Cc,t=JT(t),Xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var _;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===t)break t;if(g===n&&++c===r&&(l=a),g===s&&++f===i&&(u=a),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xd={focusedElem:t,selectionRange:n},Cc=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){switch(e=ut,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var I=ts(n.type,r);t=i.getSnapshotBeforeUpdate(I,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(N){_e(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Jd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function f0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n),i&4&&Rl(5,n);break;case 1:if(Zn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_e(n,n.return,a)}else{var r=ts(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&o0(n),i&512&&Vo(n,n.return);break;case 3:if(Zn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{gb(t,e)}catch(a){_e(n,n.return,a)}}break;case 27:e===null&&i&4&&h0(n);case 26:case 5:Zn(t,n),e===null&&i&4&&u0(n),i&512&&Vo(n,n.return);break;case 12:Zn(t,n);break;case 31:Zn(t,n),i&4&&p0(t,n);break;case 13:Zn(t,n),i&4&&g0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=XC.bind(null,n),gI(t,n))));break;case 22:if(i=n.memoizedState!==null||ri,!i){e=e!==null&&e.memoizedState!==null||Xe,r=ri;var s=Xe;ri=i,(Xe=e)&&!s?ti(t,n,(n.subtreeFlags&8772)!==0):Zn(t,n),ri=r,Xe=s}break;case 30:break;default:Zn(t,n)}}function d0(t){var e=t.alternate;e!==null&&(t.alternate=null,d0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Fm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Oe=null,kt=!1;function Jn(t,e,n){for(n=n.child;n!==null;)m0(t,e,n),n=n.sibling}function m0(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 26:Xe||Ln(n,e),Jn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Ln(n,e);var i=Oe,r=kt;wr(n.type)&&(Oe=n.stateNode,kt=!1),Jn(t,e,n),Uo(n.stateNode),Oe=i,kt=r;break;case 5:Xe||Ln(n,e);case 6:if(i=Oe,r=kt,Oe=null,Jn(t,e,n),Oe=i,kt=r,Oe!==null)if(kt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(n.stateNode)}catch(s){_e(n,e,s)}else try{Oe.removeChild(n.stateNode)}catch(s){_e(n,e,s)}break;case 18:Oe!==null&&(kt?(t=Oe,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),fa(t)):ev(Oe,n.stateNode));break;case 4:i=Oe,r=kt,Oe=n.stateNode.containerInfo,kt=!0,Jn(t,e,n),Oe=i,kt=r;break;case 0:case 11:case 14:case 15:pr(2,n,e),Xe||pr(4,n,e),Jn(t,e,n);break;case 1:Xe||(Ln(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&l0(n,e,i)),Jn(t,e,n);break;case 21:Jn(t,e,n);break;case 22:Xe=(i=Xe)||n.memoizedState!==null,Jn(t,e,n),Xe=i;break;default:Jn(t,e,n)}}function p0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fa(t)}catch(n){_e(e,e.return,n)}}}function g0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fa(t)}catch(n){_e(e,e.return,n)}}function qC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zy),e;default:throw Error(L(435,t.tag))}}function du(t,e){var n=qC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=WC.bind(null,t,i);i.then(r,r)}})}function Mt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(wr(l.type)){Oe=l.stateNode,kt=!1;break e}break;case 5:Oe=l.stateNode,kt=!1;break e;case 3:case 4:Oe=l.stateNode.containerInfo,kt=!0;break e}l=l.return}if(Oe===null)throw Error(L(160));m0(s,a,r),Oe=null,kt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)_0(e,t),e=e.sibling}var Tn=null;function _0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mt(e,t),Vt(t),i&4&&(pr(3,t,t.return),Rl(3,t),pr(5,t,t.return));break;case 1:Mt(e,t),Vt(t),i&512&&(Xe||n===null||Ln(n,n.return)),i&64&&ri&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Tn;if(Mt(e,t),Vt(t),i&512&&(Xe||n===null||Ln(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[bl]||s[mt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),yt(s,i,n),s[mt]=t,ct(s),i=s;break e;case"link":var a=ov("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),yt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=ov("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),yt(s,i,n),r.head.appendChild(s);break;default:throw Error(L(468,i))}s[mt]=t,ct(s),i=s}t.stateNode=i}else lv(r,t.type,t.stateNode);else t.stateNode=av(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?lv(r,t.type,t.stateNode):av(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Of(t,t.memoizedProps,n.memoizedProps)}break;case 27:Mt(e,t),Vt(t),i&512&&(Xe||n===null||Ln(n,n.return)),n!==null&&i&4&&Of(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Mt(e,t),Vt(t),i&512&&(Xe||n===null||Ln(n,n.return)),t.flags&32){r=t.stateNode;try{ra(r,"")}catch(I){_e(t,t.return,I)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Of(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Vf=!0);break;case 6:if(Mt(e,t),Vt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(I){_e(t,t.return,I)}}break;case 3:if(ju=null,r=Tn,Tn=Ac(e.containerInfo),Mt(e,t),Tn=r,Vt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(e.containerInfo)}catch(I){_e(t,t.return,I)}Vf&&(Vf=!1,y0(t));break;case 4:i=Tn,Tn=Ac(t.stateNode.containerInfo),Mt(e,t),Vt(t),Tn=i;break;case 12:Mt(e,t),Vt(t);break;case 31:Mt(e,t),Vt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 13:Mt(e,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ch=Wt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=ri,f=Xe;if(ri=c||r,Xe=f||u,Mt(e,t),Xe=f,ri=c,Vt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||ri||Xe||Br(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){_e(u,u.return,I)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(I){_e(u,u.return,I)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;r?tv(_,!0):tv(u.stateNode,!1)}catch(I){_e(u,u.return,I)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,du(t,n))));break;case 19:Mt(e,t),Vt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 30:break;case 21:break;default:Mt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(c0(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var r=n.stateNode,s=Mf(t);gc(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ra(a,""),n.flags&=-33);var l=Mf(t);gc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Mf(t);qd(t,c,u);break;default:throw Error(L(161))}}catch(f){_e(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;y0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)f0(t,e.alternate,e),e=e.sibling}function Br(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:pr(4,e,e.return),Br(e);break;case 1:Ln(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&l0(e,e.return,n),Br(e);break;case 27:Uo(e.stateNode);case 26:case 5:Ln(e,e.return),Br(e);break;case 22:e.memoizedState===null&&Br(e);break;case 30:Br(e);break;default:Br(e)}t=t.sibling}}function ti(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ti(r,s,n),Rl(4,s);break;case 1:if(ti(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){_e(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)pb(u[r],l)}catch(c){_e(i,i.return,c)}}n&&a&64&&o0(s),Vo(s,s.return);break;case 27:h0(s);case 26:case 5:ti(r,s,n),n&&i===null&&a&4&&u0(s),Vo(s,s.return);break;case 12:ti(r,s,n);break;case 31:ti(r,s,n),n&&a&4&&p0(r,s);break;case 13:ti(r,s,n),n&&a&4&&g0(r,s);break;case 22:s.memoizedState===null&&ti(r,s,n),Vo(s,s.return);break;case 30:break;default:ti(r,s,n)}e=e.sibling}}function bp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Al(n))}function Sp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Al(t))}function En(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v0(t,e,n,i),e=e.sibling}function v0(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:En(t,e,n,i),r&2048&&Rl(9,e);break;case 1:En(t,e,n,i);break;case 3:En(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Al(t)));break;case 12:if(r&2048){En(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){_e(e,e.return,u)}}else En(t,e,n,i);break;case 31:En(t,e,n,i);break;case 13:En(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?En(t,e,n,i):ko(t,e):s._visibility&2?En(t,e,n,i):(s._visibility|=2,As(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&bp(a,e);break;case 24:En(t,e,n,i),r&2048&&Sp(e.alternate,e);break;default:En(t,e,n,i)}}function As(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:As(s,a,l,u,r),Rl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?As(s,a,l,u,r):ko(s,a):(f._visibility|=2,As(s,a,l,u,r)),r&&c&2048&&bp(a.alternate,a);break;case 24:As(s,a,l,u,r),r&&c&2048&&Sp(a.alternate,a);break;default:As(s,a,l,u,r)}e=e.sibling}}function ko(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:ko(n,i),r&2048&&bp(i.alternate,i);break;case 24:ko(n,i),r&2048&&Sp(i.alternate,i);break;default:ko(n,i)}e=e.sibling}}var _o=8192;function bs(t,e,n){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)E0(t,e,n),t=t.sibling}function E0(t,e,n){switch(t.tag){case 26:bs(t,e,n),t.flags&_o&&t.memoizedState!==null&&II(n,Tn,t.memoizedState,t.memoizedProps);break;case 5:bs(t,e,n);break;case 3:case 4:var i=Tn;Tn=Ac(t.stateNode.containerInfo),bs(t,e,n),Tn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_o,_o=16777216,bs(t,e,n),_o=i):bs(t,e,n));break;default:bs(t,e,n)}}function T0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function oo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,S0(i,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b0(t),t=t.sibling}function b0(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&pr(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Pu(t)):oo(t);break;default:oo(t)}}function Pu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,S0(i,t)}T0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:pr(8,e,e.return),Pu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Pu(e));break;default:Pu(e)}t=t.sibling}}function S0(t,e){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:pr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=t;ut!==null;){i=ut;var r=i.sibling,s=i.return;if(d0(i),i===n){ut=null;break e}if(r!==null){r.return=s,ut=r;break e}ut=s}}}var HC={getCacheForType:function(t){var e=_t(We),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return _t(We).controller.signal}},FC=typeof WeakMap=="function"?WeakMap:Map,de=0,Te=null,re=null,le=0,ge=0,Gt=null,Yi=!1,Ra=!1,Ap=!1,yi=0,Be=0,gr=0,Kr=0,wp=0,Yt=0,la=0,Lo=null,Lt=null,Hd=!1,ch=0,A0=0,_c=1/0,yc=null,nr=null,it=0,ir=null,ua=null,fi=0,Fd=0,Gd=null,w0=null,Po=0,$d=null;function en(){return de&2&&le!==0?le&-le:W.T!==null?Cp():VT()}function R0(){if(Yt===0)if(!(le&536870912)||ue){var t=su;su<<=1,!(su&3932160)&&(su=262144),Yt=t}else Yt=536870912;return t=nn.current,t!==null&&(t.flags|=32),Yt}function jt(t,e,n){(t===Te&&(ge===2||ge===9)||t.cancelPendingCommit!==null)&&(ca(t,0),Qi(t,le,Yt,!1)),Tl(t,n),(!(de&2)||t!==Te)&&(t===Te&&(!(de&2)&&(Kr|=n),Be===4&&Qi(t,le,Yt,!1)),Kn(t))}function C0(t,e,n){if(de&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||El(t,e),r=i?KC(t,e):kf(t,e,!0),s=i;do{if(r===0){Ra&&!i&&Qi(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!GC(n)){r=kf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Lo;var u=l.current.memoizedState.isDehydrated;if(u&&(ca(l,a).flags|=256),a=kf(l,a,!1),a!==2){if(Ap&&!u){l.errorRecoveryDisabledLanes|=s,Kr|=s,r=4;break e}s=Lt,Lt=r,s!==null&&(Lt===null?Lt=s:Lt.push.apply(Lt,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){ca(t,0),Qi(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Qi(i,e,Yt,!Yi);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(r=ch+300-Wt(),10<r)){if(Qi(i,e,Yt,!Yi),Zc(i,0,!0)!==0)break e;fi=e,i.timeoutHandle=K0(qy.bind(null,i,n,Lt,yc,Hd,e,Yt,Kr,la,Yi,s,"Throttled",-0,0),r);break e}qy(i,n,Lt,yc,Hd,e,Yt,Kr,la,Yi,s,null,-0,0)}}break}while(!0);Kn(t)}function qy(t,e,n,i,r,s,a,l,u,c,f,m,g,_){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},E0(e,s,m);var I=(s&62914560)===s?ch-Wt():(s&4194048)===s?A0-Wt():0;if(I=NI(m,I),I!==null){fi=s,t.cancelPendingCommit=I(Fy.bind(null,t,e,s,n,i,r,a,l,u,f,m,null,g,_)),Qi(t,s,a,!c);return}}Fy(t,e,s,n,i,r,a,l,u)}function GC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!tn(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e,n,i){e&=~wp,e&=~Kr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Zt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&DT(t,n,e)}function hh(){return de&6?!0:(Cl(0),!1)}function Rp(){if(re!==null){if(ge===0)var t=re.return;else t=re,oi=fs=null,hp(t),Ks=null,Zo=0,t=re;for(;t!==null;)a0(t.alternate,t),t=t.return;re=null}}function ca(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,hI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),fi=0,Rp(),Te=t,re=n=ci(t.current,null),le=e,ge=0,Gt=null,Yi=!1,Ra=El(t,e),Ap=!1,la=Yt=wp=Kr=gr=Be=0,Lt=Lo=null,Hd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Zt(i),s=1<<r;e|=t[r],i&=~s}return yi=e,ih(),n}function I0(t,e){te=null,W.H=tl,e===wa||e===sh?(e=Ey(),ge=3):e===rp?(e=Ey(),ge=4):ge=e===Ep?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Gt=e,re===null&&(Be=1,mc(t,dn(e,t.current)))}function N0(){var t=nn.current;return t===null?!0:(le&4194048)===le?_n===null:(le&62914560)===le||le&536870912?t===_n:!1}function x0(){var t=W.H;return W.H=tl,t===null?tl:t}function D0(){var t=W.A;return W.A=HC,t}function vc(){Be=4,Yi||(le&4194048)!==le&&nn.current!==null||(Ra=!0),!(gr&134217727)&&!(Kr&134217727)||Te===null||Qi(Te,le,Yt,!1)}function kf(t,e,n){var i=de;de|=2;var r=x0(),s=D0();(Te!==t||le!==e)&&(yc=null,ca(t,e)),e=!1;var a=Be;e:do try{if(ge!==0&&re!==null){var l=re,u=Gt;switch(ge){case 8:Rp(),a=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(e=!0);var c=ge;if(ge=0,Gt=null,zs(t,l,u,c),n&&Ra){a=0;break e}break;default:c=ge,ge=0,Gt=null,zs(t,l,u,c)}}$C(),a=Be;break}catch(f){I0(t,f)}while(!0);return e&&t.shellSuspendCounter++,oi=fs=null,de=i,W.H=r,W.A=s,re===null&&(Te=null,le=0,ih()),a}function $C(){for(;re!==null;)O0(re)}function KC(t,e){var n=de;de|=2;var i=x0(),r=D0();Te!==t||le!==e?(yc=null,_c=Wt()+500,ca(t,e)):Ra=El(t,e);e:do try{if(ge!==0&&re!==null){e=re;var s=Gt;t:switch(ge){case 1:ge=0,Gt=null,zs(t,e,s,1);break;case 2:case 9:if(vy(s)){ge=0,Gt=null,Hy(e);break}e=function(){ge!==2&&ge!==9||Te!==t||(ge=7),Kn(t)},s.then(e,e);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:vy(s)?(ge=0,Gt=null,Hy(e)):(ge=0,Gt=null,zs(t,e,s,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(a?J0(a):l.stateNode.complete){ge=0,Gt=null;var u=l.sibling;if(u!==null)re=u;else{var c=l.return;c!==null?(re=c,fh(c)):re=null}break t}}ge=0,Gt=null,zs(t,e,s,5);break;case 6:ge=0,Gt=null,zs(t,e,s,6);break;case 8:Rp(),Be=6;break e;default:throw Error(L(462))}}YC();break}catch(f){I0(t,f)}while(!0);return oi=fs=null,W.H=i,W.A=r,de=n,re!==null?0:(Te=null,le=0,ih(),Be)}function YC(){for(;re!==null&&!_R();)O0(re)}function O0(t){var e=s0(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?fh(t):re=e}function Hy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ly(n,e,e.pendingProps,e.type,void 0,le);break;case 11:e=Ly(n,e,e.pendingProps,e.type.render,e.ref,le);break;case 5:hp(e);default:a0(n,e),e=re=ab(e,yi),e=s0(n,e,yi)}t.memoizedProps=t.pendingProps,e===null?fh(t):re=e}function zs(t,e,n,i){oi=fs=null,hp(e),Ks=null,Zo=0;var r=e.return;try{if(LC(t,r,e,n,le)){Be=1,mc(t,dn(n,t.current)),re=null;return}}catch(s){if(r!==null)throw re=r,s;Be=1,mc(t,dn(n,t.current)),re=null;return}e.flags&32768?(ue||i===1?t=!0:Ra||le&536870912?t=!1:(Yi=t=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),M0(e,t)):fh(e)}function fh(t){var e=t;do{if(e.flags&32768){M0(e,Yi);return}t=e.return;var n=jC(e.alternate,e,yi);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Be===0&&(Be=5)}function M0(t,e){do{var n=BC(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Be=6,re=null}function Fy(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do dh();while(it!==0);if(de&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(s=e.lanes|e.childLanes,s|=Wm,CR(t,n,s,a,l,u),t===Te&&(re=Te=null,le=0),ua=e,ir=t,fi=n,Fd=s,Gd=r,w0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,JC(ic,function(){return U0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,r=me.p,me.p=2,a=de,de|=4;try{zC(t,e,n)}finally{de=a,me.p=r,W.T=i}}it=1,V0(),k0(),L0()}}function V0(){if(it===1){it=0;var t=ir,e=ua,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=W.T,W.T=null;var i=me.p;me.p=2;var r=de;de|=4;try{_0(e,t);var s=Xd,a=JT(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&WT(l.ownerDocument.documentElement,l)){if(u!==null&&Xm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var _=g.getSelection(),I=l.textContent.length,N=Math.min(u.start,I),D=u.end===void 0?N:Math.min(u.end,I);!_.extend&&N>D&&(a=D,D=N,N=a);var b=fy(l,N),v=fy(l,D);if(b&&v&&(_.rangeCount!==1||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var T=m.createRange();T.setStart(b.node,b.offset),_.removeAllRanges(),N>D?(_.addRange(T),_.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),_.addRange(T))}}}}for(m=[],_=l;_=_.parentNode;)_.nodeType===1&&m.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var x=m[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Cc=!!Qd,Xd=Qd=null}finally{de=r,me.p=i,W.T=n}}t.current=e,it=2}}function k0(){if(it===2){it=0;var t=ir,e=ua,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=W.T,W.T=null;var i=me.p;me.p=2;var r=de;de|=4;try{f0(t,e.alternate,e)}finally{de=r,me.p=i,W.T=n}}it=3}}function L0(){if(it===4||it===3){it=0,yR();var t=ir,e=ua,n=fi,i=w0;e.subtreeFlags&10256||e.flags&10256?it=5:(it=0,ua=ir=null,P0(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(nr=null),Hm(n),e=e.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,r=me.p,me.p=2,W.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{W.T=e,me.p=r}}fi&3&&dh(),Kn(t),r=t.pendingLanes,n&261930&&r&42?t===$d?Po++:(Po=0,$d=t):Po=0,Cl(0)}}function P0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Al(e)))}function dh(){return V0(),k0(),L0(),U0()}function U0(){if(it!==5)return!1;var t=ir,e=Fd;Fd=0;var n=Hm(fi),i=W.T,r=me.p;try{me.p=32>n?32:n,W.T=null,n=Gd,Gd=null;var s=ir,a=fi;if(it=0,ua=ir=null,fi=0,de&6)throw Error(L(331));var l=de;if(de|=4,b0(s.current),v0(s,s.current,a,n),de=l,Cl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(vl,s)}catch{}return!0}finally{me.p=r,W.T=i,P0(t,e)}}function Gy(t,e,n){e=dn(n,e),e=jd(t.stateNode,e,2),t=tr(t,e,2),t!==null&&(Tl(t,2),Kn(t))}function _e(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){t=dn(n,t),n=Zb(2),i=tr(e,n,2),i!==null&&(e0(n,i,e,t),Tl(i,2),Kn(i));break}}e=e.return}}function Lf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new FC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Ap=!0,r.add(n),t=QC.bind(null,t,e,n),e.then(t,t))}function QC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Te===t&&(le&n)===n&&(Be===4||Be===3&&(le&62914560)===le&&300>Wt()-ch?!(de&2)&&ca(t,0):wp|=n,la===le&&(la=0)),Kn(t)}function j0(t,e){e===0&&(e=xT()),t=hs(t,e),t!==null&&(Tl(t,e),Kn(t))}function XC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j0(t,n)}function WC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),j0(t,n)}function JC(t,e){return zm(t,e)}var Ec=null,ws=null,Kd=!1,Tc=!1,Pf=!1,Xi=0;function Kn(t){t!==ws&&t.next===null&&(ws===null?Ec=ws=t:ws=ws.next=t),Tc=!0,Kd||(Kd=!0,eI())}function Cl(t,e){if(!Pf&&Tc){Pf=!0;do for(var n=!1,i=Ec;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Zt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,$y(i,s))}else s=le,s=Zc(i,i===Te?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||El(i,s)||(n=!0,$y(i,s));i=i.next}while(n);Pf=!1}}function ZC(){B0()}function B0(){Tc=Kd=!1;var t=0;Xi!==0&&cI()&&(t=Xi);for(var e=Wt(),n=null,i=Ec;i!==null;){var r=i.next,s=z0(i,e);s===0?(i.next=null,n===null?Ec=r:n.next=r,r===null&&(ws=n)):(n=i,(t!==0||s&3)&&(Tc=!0)),i=r}it!==0&&it!==5||Cl(t),Xi!==0&&(Xi=0)}function z0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Zt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=RR(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=Te,n=le,n=Zc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ge===2||ge===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&hf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||El(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&hf(i),Hm(n)){case 2:case 8:n=IT;break;case 32:n=ic;break;case 268435456:n=NT;break;default:n=ic}return i=q0.bind(null,t),n=zm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&hf(i),t.callbackPriority=2,t.callbackNode=null,2}function q0(t,e){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(dh()&&t.callbackNode!==n)return null;var i=le;return i=Zc(t,t===Te?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(C0(t,i,e),z0(t,Wt()),t.callbackNode!=null&&t.callbackNode===n?q0.bind(null,t):null)}function $y(t,e){if(dh())return null;C0(t,e,!0)}function eI(){fI(function(){de&6?zm(CT,ZC):B0()})}function Cp(){if(Xi===0){var t=sa;t===0&&(t=ru,ru<<=1,!(ru&261888)&&(ru=256)),Xi=t}return Xi}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Iu(""+t)}function Yy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function tI(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Ky((r[Bt]||null).action),a=i.submitter;a&&(e=(e=a[Bt]||null)?Ky(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new eh("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xi!==0){var u=a?Yy(r,a):new FormData(r);Pd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Yy(r,a):new FormData(r),Pd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Uf=0;Uf<wd.length;Uf++){var jf=wd[Uf],nI=jf.toLowerCase(),iI=jf[0].toUpperCase()+jf.slice(1);In(nI,"on"+iI)}In(eb,"onAnimationEnd");In(tb,"onAnimationIteration");In(nb,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(vC,"onTransitionRun");In(EC,"onTransitionStart");In(TC,"onTransitionCancel");In(ib,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function H0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){sc(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){sc(f)}r.currentTarget=null,s=u}}}}function ie(t,e){var n=e[_d];n===void 0&&(n=e[_d]=new Set);var i=t+"__bubble";n.has(i)||(F0(e,t,2,!1),n.add(i))}function Bf(t,e,n){var i=0;e&&(i|=4),F0(n,t,i,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Ip(t){if(!t[mu]){t[mu]=!0,kT.forEach(function(n){n!=="selectionchange"&&(rI.has(n)||Bf(n,!1,t),Bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Bf("selectionchange",!1,e))}}function F0(t,e,n,i){switch(iS(e)){case 2:var r=OI;break;case 8:r=MI;break;default:r=Op}n=r.bind(null,e,n,t),r=void 0,!bd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function zf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Os(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}HT(function(){var c=s,f=$m(n),m=[];e:{var g=rb.get(t);if(g!==void 0){var _=eh,I=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":_=WR;break;case"focusin":I="focus",_=gf;break;case"focusout":I="blur",_=gf;break;case"beforeblur":case"afterblur":_=gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=eC;break;case eb:case tb:case nb:_=qR;break;case ib:_=nC;break;case"scroll":case"scrollend":_=PR;break;case"wheel":_=rC;break;case"copy":case"cut":case"paste":_=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=ry;break;case"toggle":case"beforetoggle":_=aC}var N=(e&4)!==0,D=!N&&(t==="scroll"||t==="scrollend"),b=N?g!==null?g+"Capture":null:g;N=[];for(var v=c,T;v!==null;){var x=v;if(T=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||T===null||b===null||(x=Yo(v,b),x!=null&&N.push(il(v,x,T))),D)break;v=v.return}0<N.length&&(g=new _(g,I,null,n,f),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==Td&&(I=n.relatedTarget||n.fromElement)&&(Os(I)||I[ba]))break e;if((_||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=c,I=I?Os(I):null,I!==null&&(D=yl(I),N=I.tag,I!==D||N!==5&&N!==27&&N!==6)&&(I=null)):(_=null,I=c),_!==I)){if(N=ny,x="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=ry,x="onPointerLeave",b="onPointerEnter",v="pointer"),D=_==null?g:po(_),T=I==null?g:po(I),g=new N(x,v+"leave",_,n,f),g.target=D,g.relatedTarget=T,x=null,Os(f)===c&&(N=new N(b,v+"enter",I,n,f),N.target=T,N.relatedTarget=D,x=N),D=x,_&&I)t:{for(N=sI,b=_,v=I,T=0,x=b;x;x=N(x))T++;x=0;for(var B=v;B;B=N(B))x++;for(;0<T-x;)b=N(b),T--;for(;0<x-T;)v=N(v),x--;for(;T--;){if(b===v||v!==null&&b===v.alternate){N=b;break t}b=N(b),v=N(v)}N=null}else N=null;_!==null&&Qy(m,g,_,N,!1),I!==null&&D!==null&&Qy(m,D,I,N,!0)}}e:{if(g=c?po(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var q=ly;else if(oy(g))if(QT)q=gC;else{q=mC;var S=dC}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Gm(c.elementType)&&(q=ly):q=pC;if(q&&(q=q(t,c))){YT(m,q,n,f);break e}S&&S(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&Ed(g,"number",g.value)}switch(S=c?po(c):window,t){case"focusin":(oy(S)||S.contentEditable==="true")&&(ks=S,Sd=c,Io=null);break;case"focusout":Io=Sd=ks=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,dy(m,n,f);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":dy(m,n,f)}var E;if(Qm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vs?$T(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(GT&&n.locale!=="ko"&&(Vs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vs&&(E=FT()):(Ki=f,Km="value"in Ki?Ki.value:Ki.textContent,Vs=!0)),S=bc(c,A),0<S.length&&(A=new iy(A,t,null,n,f),m.push({event:A,listeners:S}),E?A.data=E:(E=KT(n),E!==null&&(A.data=E)))),(E=lC?uC(t,n):cC(t,n))&&(A=bc(c,"onBeforeInput"),0<A.length&&(S=new iy("onBeforeInput","beforeinput",null,n,f),m.push({event:S,listeners:A}),S.data=E)),tI(m,t,c,n,f)}H0(m,e)})}function il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Yo(t,n),r!=null&&i.unshift(il(t,r,s)),r=Yo(t,e),r!=null&&i.push(il(t,r,s))),t.tag===3)return i;t=t.return}return[]}function sI(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Yo(n,s),c!=null&&a.unshift(il(n,c,u))):r||(c=Yo(n,s),c!=null&&a.push(il(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var aI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(aI,`
`).replace(oI,"")}function G0(t,e){return e=Xy(e),Xy(t)===e}function ye(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ra(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ra(t,""+i);break;case"className":ou(t,"class",i);break;case"tabIndex":ou(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ou(t,n,i);break;case"style":qT(t,i,s);break;case"data":if(e!=="object"){ou(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Iu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ye(t,e,"name",r.name,r,null),ye(t,e,"formEncType",r.formEncType,r,null),ye(t,e,"formMethod",r.formMethod,r,null),ye(t,e,"formTarget",r.formTarget,r,null)):(ye(t,e,"encType",r.encType,r,null),ye(t,e,"method",r.method,r,null),ye(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Iu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ai);break;case"onScroll":i!=null&&ie("scroll",t);break;case"onScrollEnd":i!=null&&ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Iu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ie("beforetoggle",t),ie("toggle",t),Cu(t,"popover",i);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kR.get(n)||n,Cu(t,n,i))}}function Yd(t,e,n,i,r,s){switch(n){case"style":qT(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ra(t,i):(typeof i=="number"||typeof i=="bigint")&&ra(t,""+i);break;case"onScroll":i!=null&&ie("scroll",t);break;case"onScrollEnd":i!=null&&ie("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!LT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Bt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Cu(t,n,i)}}}function yt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",t),ie("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:ye(t,e,s,a,n,null)}}r&&ye(t,e,"srcSet",n.srcSet,n,null),i&&ye(t,e,"src",n.src,n,null);return;case"input":ie("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:ye(t,e,i,f,n,null)}}jT(t,s,l,u,c,a,r,!1);return;case"select":ie("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ye(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Fs(t,!!i,e,!1):n!=null&&Fs(t,!!i,n,!0);return;case"textarea":ie("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:ye(t,e,a,l,n,null)}zT(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ye(t,e,u,i,n,null)}return;case"dialog":ie("beforetoggle",t),ie("toggle",t),ie("cancel",t),ie("close",t);break;case"iframe":case"object":ie("load",t);break;case"video":case"audio":for(i=0;i<nl.length;i++)ie(nl[i],t);break;case"image":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"embed":case"source":case"link":ie("error",t),ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:ye(t,e,c,i,n,null)}return;default:if(Gm(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Yd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ye(t,e,l,i,n,null))}function lI(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(_ in n){var m=n[_];if(n.hasOwnProperty(_)&&m!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(_)||ye(t,e,_,null,i,m)}}for(var g in i){var _=i[g];if(m=n[g],i.hasOwnProperty(g)&&(_!=null||m!=null))switch(g){case"type":s=_;break;case"name":r=_;break;case"checked":c=_;break;case"defaultChecked":f=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,e));break;default:_!==m&&ye(t,e,g,_,i,m)}}vd(t,a,l,u,c,f,s,r);return;case"select":_=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||ye(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ye(t,e,r,s,i,u)}e=l,n=a,i=_,g!=null?Fs(t,!!n,g,!1):!!i!=!!n&&(e!=null?Fs(t,!!n,e,!0):Fs(t,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ye(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(L(91));break;default:r!==s&&ye(t,e,a,r,i,s)}BT(t,g,_);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":t.selected=!1;break;default:ye(t,e,I,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ye(t,e,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)g=n[N],n.hasOwnProperty(N)&&g!=null&&!i.hasOwnProperty(N)&&ye(t,e,N,null,i,g);for(c in i)if(g=i[c],_=n[c],i.hasOwnProperty(c)&&g!==_&&(g!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,e));break;default:ye(t,e,c,g,i,_)}return;default:if(Gm(e)){for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!==void 0&&!i.hasOwnProperty(D)&&Yd(t,e,D,void 0,i,g);for(f in i)g=i[f],_=n[f],!i.hasOwnProperty(f)||g===_||g===void 0&&_===void 0||Yd(t,e,f,g,i,_);return}}for(var b in n)g=n[b],n.hasOwnProperty(b)&&g!=null&&!i.hasOwnProperty(b)&&ye(t,e,b,null,i,g);for(m in i)g=i[m],_=n[m],!i.hasOwnProperty(m)||g===_||g==null&&_==null||ye(t,e,m,g,i,_)}function Wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Wy(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&Wy(m)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Xd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qf=null;function cI(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,hI=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,fI=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(dI)}:K0;function dI(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function ev(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),fa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Uo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Uo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[bl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Uo(t.ownerDocument.body);n=r}while(n);fa(e)}function tv(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Jd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jd(n),Fm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function mI(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[bl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=yn(t.nextSibling),t===null)break}return null}function pI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=yn(t.nextSibling),t===null))return null;return t}function Y0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=yn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gI(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var tm=null;function nv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return yn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Q0(t,e,n){switch(e=Sc(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function Uo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Fm(t)}var vn=new Map,rv=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=me.d;me.d={f:_I,r:yI,D:vI,C:EI,L:TI,m:bI,X:AI,S:SI,M:wI};function _I(){var t=Ai.f(),e=hh();return t||e}function yI(t){var e=Sa(t);e!==null&&e.tag===5&&e.type==="form"?qb(e):Ai.r(t)}var Ca=typeof document>"u"?null:document;function X0(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var r=fn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),rv.has(r)||(rv.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),yt(e,"link",t),ct(e),i.head.appendChild(e)))}}function vI(t){Ai.D(t),X0("dns-prefetch",t,null)}function EI(t,e){Ai.C(t,e),X0("preconnect",t,e)}function TI(t,e,n){Ai.L(t,e,n);var i=Ca;if(i&&t&&e){var r='link[rel="preload"][as="'+fn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+fn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+fn(n.imageSizes)+'"]')):r+='[href="'+fn(t)+'"]';var s=r;switch(e){case"style":s=ha(t);break;case"script":s=Ia(t)}vn.has(s)||(t=Ne({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),vn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Il(s))||e==="script"&&i.querySelector(Nl(s))||(e=i.createElement("link"),yt(e,"link",t),ct(e),i.head.appendChild(e)))}}function bI(t,e){Ai.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+fn(i)+'"][href="'+fn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ia(t)}if(!vn.has(s)&&(t=Ne({rel:"modulepreload",href:t},e),vn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nl(s)))return}i=n.createElement("link"),yt(i,"link",t),ct(i),n.head.appendChild(i)}}}function SI(t,e,n){Ai.S(t,e,n);var i=Ca;if(i&&t){var r=Hs(i).hoistableStyles,s=ha(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Il(s)))l.loading=5;else{t=Ne({rel:"stylesheet",href:t,"data-precedence":e},n),(n=vn.get(s))&&Np(t,n);var u=a=i.createElement("link");ct(u),yt(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Uu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function AI(t,e){Ai.X(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,r=Ia(t),s=i.get(r);s||(s=n.querySelector(Nl(r)),s||(t=Ne({src:t,async:!0},e),(e=vn.get(r))&&xp(t,e),s=n.createElement("script"),ct(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function wI(t,e){Ai.M(t,e);var n=Ca;if(n&&t){var i=Hs(n).hoistableScripts,r=Ia(t),s=i.get(r);s||(s=n.querySelector(Nl(r)),s||(t=Ne({src:t,async:!0,type:"module"},e),(e=vn.get(r))&&xp(t,e),s=n.createElement("script"),ct(s),yt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function sv(t,e,n,i){var r=(r=Ji.current)?Ac(r):null;if(!r)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ha(n.href),n=Hs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ha(n.href);var s=Hs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(Il(t)))&&!s._p&&(a.instance=s,a.state.loading=5),vn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},vn.set(t,n),s||RI(r,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ia(n),n=Hs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function ha(t){return'href="'+fn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function W0(t){return Ne({},t,{"data-precedence":t.precedence,precedence:null})}function RI(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),yt(e,"link",n),ct(e),t.head.appendChild(e))}function Ia(t){return'[src="'+fn(t)+'"]'}function Nl(t){return"script[async]"+t}function av(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+fn(n.href)+'"]');if(i)return e.instance=i,ct(i),i;var r=Ne({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ct(i),yt(i,"style",r),Uu(i,n.precedence,t),e.instance=i;case"stylesheet":r=ha(n.href);var s=t.querySelector(Il(r));if(s)return e.state.loading|=4,e.instance=s,ct(s),s;i=W0(n),(r=vn.get(r))&&Np(i,r),s=(t.ownerDocument||t).createElement("link"),ct(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),yt(s,"link",i),e.state.loading|=4,Uu(s,n.precedence,t),e.instance=s;case"script":return s=Ia(n.src),(r=t.querySelector(Nl(s)))?(e.instance=r,ct(r),r):(i=n,(r=vn.get(s))&&(i=Ne({},n),xp(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),ct(r),yt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Uu(i,n.precedence,t));return e.instance}function Uu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Np(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function xp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ju=null;function ov(t,e,n){if(ju===null){var i=new Map,r=ju=new Map;r.set(n,i)}else r=ju,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[bl]||s[mt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function lv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function CI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function J0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function II(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=ha(i.href),s=e.querySelector(Il(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=wc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,ct(s);return}s=e.ownerDocument||e,i=W0(i),(r=vn.get(r))&&Np(i,r),s=s.createElement("link"),ct(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),yt(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=wc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Hf=0;function NI(t,e){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Hf===0&&(Hf=62500*uI());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Hf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Bu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,e.forEach(xI,t),Rc=null,wc.call(t))}function xI(t,e){if(!(e.state.loading&4)){var n=Rc.get(t);if(n)var i=n.get(null);else{n=new Map,Rc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=wc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var rl={$$typeof:si,Provider:null,Consumer:null,_currentValue:Hr,_currentValue2:Hr,_threadCount:0};function DI(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.hiddenUpdates=ff(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Z0(t,e,n,i,r,s,a,l,u,c,f,m){return t=new DI(t,e,n,a,u,c,f,m,l),e=1,s===!0&&(e|=24),s=Kt(3,null,null,e),t.current=s,s.stateNode=t,e=np(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},sp(s),t}function eS(t){return t?(t=Us,t):Us}function tS(t,e,n,i,r,s){r=eS(r),i.context===null?i.context=r:i.pendingContext=r,i=er(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=tr(t,i,e),n!==null&&(jt(n,t,e),xo(n,t,e))}function uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dp(t,e){uv(t,e),(t=t.alternate)&&uv(t,e)}function nS(t){if(t.tag===13||t.tag===31){var e=hs(t,67108864);e!==null&&jt(e,t,67108864),Dp(t,67108864)}}function cv(t){if(t.tag===13||t.tag===31){var e=en();e=qm(e);var n=hs(t,e);n!==null&&jt(n,t,e),Dp(t,e)}}var Cc=!0;function OI(t,e,n,i){var r=W.T;W.T=null;var s=me.p;try{me.p=2,Op(t,e,n,i)}finally{me.p=s,W.T=r}}function MI(t,e,n,i){var r=W.T;W.T=null;var s=me.p;try{me.p=8,Op(t,e,n,i)}finally{me.p=s,W.T=r}}function Op(t,e,n,i){if(Cc){var r=nm(i);if(r===null)zf(t,e,i,Ic,n),hv(t,i);else if(kI(r,t,e,n,i))i.stopPropagation();else if(hv(t,i),e&4&&-1<VI.indexOf(t)){for(;r!==null;){var s=Sa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ur(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Zt(a);l.entanglements[1]|=u,a&=~u}Kn(s),!(de&6)&&(_c=Wt()+500,Cl(0))}}break;case 31:case 13:l=hs(s,2),l!==null&&jt(l,s,2),hh(),Dp(s,2)}if(s=nm(i),s===null&&zf(t,e,i,Ic,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else zf(t,e,i,null,n)}}function nm(t){return t=$m(t),Mp(t)}var Ic=null;function Mp(t){if(Ic=null,t=Os(t),t!==null){var e=yl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=bT(e),t!==null)return t;t=null}else if(n===31){if(t=ST(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ic=t,null}function iS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vR()){case CT:return 2;case IT:return 8;case ic:case ER:return 32;case NT:return 268435456;default:return 32}default:return 32}}var im=!1,rr=null,sr=null,ar=null,sl=new Map,al=new Map,Bi=[],VI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function lo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Sa(e),e!==null&&nS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function kI(t,e,n,i,r){switch(e){case"focusin":return rr=lo(rr,t,e,n,i,r),!0;case"dragenter":return sr=lo(sr,t,e,n,i,r),!0;case"mouseover":return ar=lo(ar,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return sl.set(s,lo(sl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,al.set(s,lo(al.get(s)||null,t,e,n,i,r)),!0}return!1}function rS(t){var e=Os(t.target);if(e!==null){var n=yl(e);if(n!==null){if(e=n.tag,e===13){if(e=bT(n),e!==null){t.blockedOn=e,Q_(t.priority,function(){cv(n)});return}}else if(e===31){if(e=ST(n),e!==null){t.blockedOn=e,Q_(t.priority,function(){cv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Td=i,n.target.dispatchEvent(i),Td=null}else return e=Sa(n),e!==null&&nS(e),t.blockedOn=n,!1;e.shift()}return!0}function fv(t,e,n){zu(t)&&n.delete(e)}function LI(){im=!1,rr!==null&&zu(rr)&&(rr=null),sr!==null&&zu(sr)&&(sr=null),ar!==null&&zu(ar)&&(ar=null),sl.forEach(fv),al.forEach(fv)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,im||(im=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,LI)))}var gu=null;function dv(t){gu!==t&&(gu=t,st.unstable_scheduleCallback(st.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Mp(i||n)===null)continue;break}var s=Sa(n);s!==null&&(t.splice(e,3),e-=3,Pd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function fa(t){function e(u){return pu(u,t)}rr!==null&&pu(rr,t),sr!==null&&pu(sr,t),ar!==null&&pu(ar,t),sl.forEach(e),al.forEach(e);for(var n=0;n<Bi.length;n++){var i=Bi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)rS(n),n.blockedOn===null&&Bi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Bt]||null;if(typeof s=="function")a||dv(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Bt]||null)l=a.formAction;else if(Mp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),dv(n)}}}function sS(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Vp(t){this._internalRoot=t}mh.prototype.render=Vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=en();tS(n,i,t,e,null,null)};mh.prototype.unmount=Vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tS(t.current,2,null,t,null,null),hh(),e[ba]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=VT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&rS(t)}};var mv=ET.version;if(mv!=="19.2.4")throw Error(L(527,mv,"19.2.4"));me.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=fR(e),t=t!==null?AT(t):null,t=t===null?null:t.stateNode,t};var PI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{vl=_u.inject(PI),Jt=_u}catch{}}Wc.createRoot=function(t,e){if(!TT(t))throw Error(L(299));var n=!1,i="",r=Xb,s=Wb,a=Jb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Z0(t,1,!1,null,null,n,i,null,r,s,a,sS),t[ba]=e.current,Ip(t),new Vp(e)};Wc.hydrateRoot=function(t,e,n){if(!TT(t))throw Error(L(299));var i=!1,r="",s=Xb,a=Wb,l=Jb,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=Z0(t,1,!0,e,n??null,i,r,u,s,a,l,sS),e.context=eS(null),n=e.current,i=en(),i=qm(i),r=er(i),r.callback=null,tr(n,r,i),n=i,e.current.lanes=n,Tl(e,n),Kn(e),t[ba]=e.current,Ip(t),new mh(e)};Wc.version="19.2.4";function aS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aS)}catch(t){console.error(t)}}aS(),mT.exports=Wc;var UI=mT.exports;const jI=rT(UI);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pv="popstate";function BI(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return rm("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ol(r)}return qI(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zI(){return Math.random().toString(36).substring(2,10)}function gv(t,e){return{usr:t.state,key:t.key,idx:e}}function rm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||i||zI()}}function ol({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function qI(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let D=f(),b=D==null?null:D-c;c=D,u&&u({action:l,location:N.location,delta:b})}function g(D,b){l="PUSH";let v=rm(N.location,D,b);c=f()+1;let T=gv(v,c),x=N.createHref(v);try{a.pushState(T,"",x)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(x)}s&&u&&u({action:l,location:N.location,delta:1})}function _(D,b){l="REPLACE";let v=rm(N.location,D,b);c=f();let T=gv(v,c),x=N.createHref(v);a.replaceState(T,"",x),s&&u&&u({action:l,location:N.location,delta:0})}function I(D){return HI(D)}let N={get action(){return l},get location(){return t(r,a)},listen(D){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(pv,m),u=D,()=>{r.removeEventListener(pv,m),u=null}},createHref(D){return e(r,D)},createURL:I,encodeLocation(D){let b=I(D);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:_,go(D){return a.go(D)}};return N}function HI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Me(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ol(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function oS(t,e,n="/"){return FI(t,e,n,!1)}function FI(t,e,n,i){let r=typeof e=="string"?Na(e):e,s=vi(r.pathname||"/",n);if(s==null)return null;let a=lS(t);GI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=nN(s);l=eN(a[u],c,i)}return l}function lS(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Me(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=di([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Me(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),lS(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:JI(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of uS(a.path))s(a,l,!0,c)}),e}function uS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=uS(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function GI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var $I=/^:[\w-]+$/,KI=3,YI=2,QI=1,XI=10,WI=-2,_v=t=>t==="*";function JI(t,e){let n=t.split("/"),i=n.length;return n.some(_v)&&(i+=WI),e&&(i+=YI),n.filter(r=>!_v(r)).reduce((r,s)=>r+($I.test(s)?KI:s===""?QI:XI),i)}function ZI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function eN(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Nc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=Nc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:di([s,m.pathname]),pathnameBase:aN(di([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=di([s,m.pathnameBase]))}return a}function Nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},g)=>{if(f==="*"){let I=l[g]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const _=l[g];return m&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function tN(t,e=!1,n=!0){wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function nN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var iN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rN(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Na(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=yv(n.substring(1),"/"):s=yv(n,e)):s=e,{pathname:s,search:oN(i),hash:lN(r)}}function yv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ff(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kp(t){let e=sN(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Lp(t,e,n,i=!1){let r;typeof t=="string"?r=Na(t):(r={...t},Me(!r.pathname||!r.pathname.includes("?"),Ff("?","pathname","search",r)),Me(!r.pathname||!r.pathname.includes("#"),Ff("#","pathname","hash",r)),Me(!r.search||!r.search.includes("#"),Ff("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=rN(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var di=t=>t.join("/").replace(/\/\/+/g,"/"),aN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,uN=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function hN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hS(t,e){let n=t;if(typeof n!="string"||!iN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(cS)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=vi(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{wn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fS=["POST","PUT","PATCH","DELETE"];new Set(fS);var fN=["GET",...fS];new Set(fN);var xa=V.createContext(null);xa.displayName="DataRouter";var ph=V.createContext(null);ph.displayName="DataRouterState";var dN=V.createContext(!1),dS=V.createContext({isTransitioning:!1});dS.displayName="ViewTransition";var mN=V.createContext(new Map);mN.displayName="Fetchers";var pN=V.createContext(null);pN.displayName="Await";var rn=V.createContext(null);rn.displayName="Navigation";var xl=V.createContext(null);xl.displayName="Location";var Nn=V.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var Pp=V.createContext(null);Pp.displayName="RouteError";var mS="REACT_ROUTER_ERROR",gN="REDIRECT",_N="ROUTE_ERROR_RESPONSE";function yN(t){if(t.startsWith(`${mS}:${gN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vN(t){if(t.startsWith(`${mS}:${_N}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uN(e.status,e.statusText,e.data)}catch{}}function EN(t,{relative:e}={}){Me(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(rn),{hash:r,pathname:s,search:a}=Dl(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:di([n,s])),i.createHref({pathname:l,search:a,hash:r})}function Da(){return V.useContext(xl)!=null}function Yn(){return Me(Da(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(xl).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gS(t){V.useContext(rn).static||V.useLayoutEffect(t)}function Oa(){let{isDataRoute:t}=V.useContext(Nn);return t?VN():TN()}function TN(){Me(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(xa),{basename:e,navigator:n}=V.useContext(rn),{matches:i}=V.useContext(Nn),{pathname:r}=Yn(),s=JSON.stringify(kp(i)),a=V.useRef(!1);return gS(()=>{a.current=!0}),V.useCallback((u,c={})=>{if(wn(a.current,pS),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Lp(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:di([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,r,t])}V.createContext(null);function bN(){let{matches:t}=V.useContext(Nn),e=t[t.length-1];return e?e.params:{}}function Dl(t,{relative:e}={}){let{matches:n}=V.useContext(Nn),{pathname:i}=Yn(),r=JSON.stringify(kp(n));return V.useMemo(()=>Lp(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function SN(t,e){return _S(t,e)}function _S(t,e,n,i,r){var v;Me(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(rn),{matches:a}=V.useContext(Nn),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let T=m&&m.path||"";vS(c,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Yn(),_;if(e){let T=typeof e=="string"?Na(e):e;Me(f==="/"||((v=T.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=g;let I=_.pathname||"/",N=I;if(f!=="/"){let T=f.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(T.length).join("/")}let D=oS(t,{pathname:N});wn(m||D!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),wn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=IN(D&&D.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:di([f,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:di([f,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,i,r);return e&&b?V.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},b):b}function AN(){let t=MN(),e=cN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:s},"ErrorBoundary")," or"," ",V.createElement("code",{style:s},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,a)}var wN=V.createElement(AN,null),yS=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=vN(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(Nn.Provider,{value:this.props.routeContext},V.createElement(Pp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(RN,{error:t},e):e}};yS.contextType=dN;var Gf=new WeakMap;function RN({children:t,error:e}){let{basename:n}=V.useContext(rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=yN(e.digest);if(i){let r=Gf.get(e);if(r)throw r;let s=hS(i.location,n);if(cS&&!Gf.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Gf.set(e,a),a}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function CN({routeContext:t,match:e,children:n}){let i=V.useContext(xa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Nn.Provider,{value:t},n)}function IN(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Me(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:_}=n,I=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||I){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(f,m)=>{var g,_;i(f,{location:n.location,params:((_=(g=n.matches)==null?void 0:g[0])==null?void 0:_.params)??{},unstable_pattern:hN(n.matches),errorInfo:m})}:void 0;return s.reduceRight((f,m,g)=>{let _,I=!1,N=null,D=null;n&&(_=a&&m.route.id?a[m.route.id]:void 0,N=m.route.errorElement||wN,l&&(u<0&&g===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,D=null):u===g&&(I=!0,D=m.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,g+1)),v=()=>{let T;return _?T=N:I?T=D:m.route.Component?T=V.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,V.createElement(CN,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?V.createElement(yS,{location:n.location,revalidation:n.revalidation,component:N,error:_,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:c}):v()},null)}function Up(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NN(t){let e=V.useContext(xa);return Me(e,Up(t)),e}function xN(t){let e=V.useContext(ph);return Me(e,Up(t)),e}function DN(t){let e=V.useContext(Nn);return Me(e,Up(t)),e}function jp(t){let e=DN(t),n=e.matches[e.matches.length-1];return Me(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ON(){return jp("useRouteId")}function MN(){var i;let t=V.useContext(Pp),e=xN("useRouteError"),n=jp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function VN(){let{router:t}=NN("useNavigate"),e=jp("useNavigate"),n=V.useRef(!1);return gS(()=>{n.current=!0}),V.useCallback(async(r,s={})=>{wn(n.current,pS),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var vv={};function vS(t,e,n){!e&&!vv[t]&&(vv[t]=!0,wn(!1,n))}V.memo(kN);function kN({routes:t,future:e,state:n,onError:i}){return _S(t,void 0,n,i,e)}function LN({to:t,replace:e,state:n,relative:i}){Me(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=V.useContext(rn);wn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=V.useContext(Nn),{pathname:a}=Yn(),l=Oa(),u=Lp(t,kp(s),a,i==="path"),c=JSON.stringify(u);return V.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:i})},[l,c,i,e,n]),null}function ni(t){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Me(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=Na(n));let{pathname:c="/",search:f="",hash:m="",state:g=null,key:_="default"}=n,I=V.useMemo(()=>{let N=vi(c,l);return N==null?null:{location:{pathname:N,search:f,hash:m,state:g,key:_},navigationType:i}},[l,c,f,m,g,_,i]);return wn(I!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(rn.Provider,{value:u},V.createElement(xl.Provider,{children:e,value:I}))}function UN({children:t,location:e}){return SN(sm(t),e)}function sm(t,e=[]){let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let s=[...e,r];if(i.type===V.Fragment){n.push.apply(n,sm(i.props.children,s));return}Me(i.type===ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=sm(i.props.children,s)),n.push(a)}),n}var qu="get",Hu="application/x-www-form-urlencoded";function gh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jN(t){return gh(t)&&t.tagName.toLowerCase()==="button"}function BN(t){return gh(t)&&t.tagName.toLowerCase()==="form"}function zN(t){return gh(t)&&t.tagName.toLowerCase()==="input"}function qN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HN(t,e){return t.button===0&&(!e||e==="_self")&&!qN(t)}var yu=null;function FN(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(t){return t!=null&&!GN.has(t)?(wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):t}function $N(t,e){let n,i,r,s,a;if(BN(t)){let l=t.getAttribute("action");i=l?vi(l,e):null,n=t.getAttribute("method")||qu,r=$f(t.getAttribute("enctype"))||Hu,s=new FormData(t)}else if(jN(t)||zN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?vi(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||qu,r=$f(t.getAttribute("formenctype"))||$f(l.getAttribute("enctype"))||Hu,s=new FormData(l,t),!FN()){let{name:c,type:f,value:m}=t;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,m)}}else{if(gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qu,i=null,r=Hu,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KN(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&vi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function YN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XN(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await YN(s,n);return a.links?a.links():[]}return[]}));return e2(i.flat(1).filter(QN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ev(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function WN(t,e,{includeHydrateFallback:n}={}){return JN(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function JN(t){return[...new Set(t)]}function ZN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function e2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(ZN(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function ES(){let t=V.useContext(xa);return Bp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t2(){let t=V.useContext(ph);return Bp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zp=V.createContext(void 0);zp.displayName="FrameworkContext";function TS(){let t=V.useContext(zp);return Bp(t,"You must render this element inside a <HydratedRouter> element"),t}function n2(t,e){let n=V.useContext(zp),[i,r]=V.useState(!1),[s,a]=V.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,g=V.useRef(null);V.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let N=b=>{b.forEach(v=>{a(v.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return g.current&&D.observe(g.current),()=>{D.disconnect()}}},[t]),V.useEffect(()=>{if(i){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[i]);let _=()=>{r(!0)},I=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:uo(l,_),onBlur:uo(u,I),onMouseEnter:uo(c,_),onMouseLeave:uo(f,I),onTouchStart:uo(m,_)}]:[!1,g,{}]}function uo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function i2({page:t,...e}){let{router:n}=ES(),i=V.useMemo(()=>oS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(s2,{page:t,matches:i,...e}):null}function r2(t){let{manifest:e,routeModules:n}=TS(),[i,r]=V.useState([]);return V.useEffect(()=>{let s=!1;return XN(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function s2({page:t,matches:e,...n}){let i=Yn(),{future:r,manifest:s,routeModules:a}=TS(),{basename:l}=ES(),{loaderData:u,matches:c}=t2(),f=V.useMemo(()=>Ev(t,e,c,s,i,"data"),[t,e,c,s,i]),m=V.useMemo(()=>Ev(t,e,c,s,i,"assets"),[t,e,c,s,i]),g=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let N=new Set,D=!1;if(e.forEach(v=>{var x;let T=s.routes[v.route.id];!T||!T.hasLoader||(!f.some(B=>B.route.id===v.route.id)&&v.route.id in u&&((x=a[v.route.id])!=null&&x.shouldRevalidate)||T.hasClientLoader?D=!0:N.add(v.route.id))}),N.size===0)return[];let b=KN(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return D&&N.size>0&&b.searchParams.set("_routes",e.filter(v=>N.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,i,s,f,e,t,a]),_=V.useMemo(()=>WN(m,s),[m,s]),I=r2(m);return V.createElement(V.Fragment,null,g.map(N=>V.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),_.map(N=>V.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),I.map(({key:N,link:D})=>V.createElement("link",{key:N,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function a2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var o2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o2&&(window.__reactRouterVersion="7.13.0")}catch{}function l2({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=V.useRef();r.current==null&&(r.current=BI({window:i,v5Compat:!0}));let s=r.current,[a,l]=V.useState({action:s.action,location:s.location}),u=V.useCallback(c=>{n===!1?l(c):V.startTransition(()=>l(c))},[n]);return V.useLayoutEffect(()=>s.listen(u),[s,u]),V.createElement(PN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,..._},I){let{basename:N,unstable_useTransitions:D}=V.useContext(rn),b=typeof c=="string"&&bS.test(c),v=hS(c,N);c=v.to;let T=EN(c,{relative:r}),[x,B,q]=n2(i,_),S=f2(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:D});function E(R){e&&e(R),R.defaultPrevented||S(R)}let A=V.createElement("a",{..._,...q,href:v.absoluteURL||T,onClick:v.isExternal||s?e:E,ref:a2(I,B),target:u,"data-discover":!b&&n==="render"?"true":void 0});return x&&!b?V.createElement(V.Fragment,null,A,V.createElement(i2,{page:T})):A});Li.displayName="Link";var u2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let m=Dl(a,{relative:c.relative}),g=Yn(),_=V.useContext(ph),{navigator:I,basename:N}=V.useContext(rn),D=_!=null&&_2(m)&&l===!0,b=I.encodeLocation?I.encodeLocation(m).pathname:m.pathname,v=g.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(v=v.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&N&&(T=vi(T,N)||T);const x=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let B=v===b||!r&&v.startsWith(b)&&v.charAt(x)==="/",q=T!=null&&(T===b||!r&&T.startsWith(b)&&T.charAt(b.length)==="/"),S={isActive:B,isPending:q,isTransitioning:D},E=B?e:void 0,A;typeof i=="function"?A=i(S):A=[i,B?"active":null,q?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(S):s;return V.createElement(Li,{...c,"aria-current":E,className:A,ref:f,style:R,to:a,viewTransition:l},typeof u=="function"?u(S):u)});u2.displayName="NavLink";var c2=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=qu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,..._},I)=>{let{unstable_useTransitions:N}=V.useContext(rn),D=p2(),b=g2(l,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&bS.test(l),x=B=>{if(u&&u(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,S=(q==null?void 0:q.getAttribute("formmethod"))||a,E=()=>D(q||B.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});N&&n!==!1?V.startTransition(()=>E()):E()};return V.createElement("form",{ref:I,method:v,action:b,onSubmit:i?u:x,..._,"data-discover":!T&&t==="render"?"true":void 0})});c2.displayName="Form";function h2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SS(t){let e=V.useContext(xa);return Me(e,h2(t)),e}function f2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=Oa(),f=Yn(),m=Dl(t,{relative:s});return V.useCallback(g=>{if(HN(g,e)){g.preventDefault();let _=n!==void 0?n:ol(f)===ol(m),I=()=>c(t,{replace:_,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?V.startTransition(()=>I()):I()}},[f,c,m,n,i,e,t,r,s,a,l,u])}var d2=0,m2=()=>`__${String(++d2)}__`;function p2(){let{router:t}=SS("useSubmit"),{basename:e}=V.useContext(rn),n=ON(),i=t.fetch,r=t.navigate;return V.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:f,body:m}=$N(s,e);if(a.navigate===!1){let g=a.fetcherKey||m2();await i(g,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function g2(t,{relative:e}={}){let{basename:n}=V.useContext(rn),i=V.useContext(Nn);Me(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Dl(t||".",{relative:e})},a=Yn();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:di([n,s.pathname])),ol(s)}function _2(t,{relative:e}={}){let n=V.useContext(dS);Me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=SS("useViewTransitionState"),r=Dl(t,{relative:e});if(!n.isTransitioning)return!1;let s=vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nc(r.pathname,a)!=null||Nc(r.pathname,s)!=null}const y2="_navbar_1jfl5_1",v2="_navbarContent_1jfl5_16",E2="_logo_1jfl5_23",T2="_navLinks_1jfl5_34",b2="_navItem_1jfl5_40",S2="_activeNavItem_1jfl5_50",A2="_ctaButton_1jfl5_54",w2="_menuButton_1jfl5_72",It={navbar:y2,navbarContent:v2,logo:E2,navLinks:T2,navItem:b2,activeNavItem:S2,ctaButton:A2,menuButton:w2},R2=()=>{const[t,e]=V.useState(!1),n=Yn();return V.useEffect(()=>{const i=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),p.jsx("nav",{className:`${It.navbar} ${t?It.scrolled:""}`,children:p.jsxs("div",{className:`${It.navbarContent} container`,children:[p.jsxs(Li,{to:"/",className:It.logo,children:["Layer1",p.jsx("span",{children:".Studio"})]}),p.jsxs("div",{className:It.navLinks,children:[p.jsx(Li,{to:"/services",className:`${It.navItem} ${n.pathname==="/services"?It.activeNavItem:""}`,children:"Services"}),p.jsx(Li,{to:"/portfolio",className:`${It.navItem} ${n.pathname==="/portfolio"?It.activeNavItem:""}`,children:"Portfolio"}),p.jsx(Li,{to:"/careers",className:`${It.navItem} ${n.pathname==="/careers"?It.activeNavItem:""}`,children:"Careers"}),p.jsx(Li,{to:"/contact",className:`${It.navItem} ${n.pathname==="/contact"?It.activeNavItem:""}`,children:"Contact"}),p.jsxs(Li,{to:"/contact",className:It.ctaButton,children:["Book a Call",p.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"arrow_forward"})]})]}),p.jsx("button",{className:It.menuButton,children:p.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]})})},C2="_footer_c31mc_1",I2="_footerGrid_c31mc_8",N2="_brandColumn_c31mc_15",x2="_logo_c31mc_21",D2="_description_c31mc_32",O2="_columnTitle_c31mc_39",M2="_linkList_c31mc_47",V2="_linkItem_c31mc_53",k2="_locationItem_c31mc_64",L2="_locationName_c31mc_68",P2="_bottomBar_c31mc_79",U2="_legalLinks_c31mc_90",j2="_legalLink_c31mc_90",Ue={footer:C2,footerGrid:I2,brandColumn:N2,logo:x2,description:D2,columnTitle:O2,linkList:M2,linkItem:V2,locationItem:k2,locationName:L2,bottomBar:P2,legalLinks:U2,legalLink:j2},B2=()=>p.jsx("footer",{className:Ue.footer,children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:Ue.footerGrid,children:[p.jsxs("div",{className:Ue.brandColumn,children:[p.jsxs("div",{className:Ue.logo,children:["Layer1",p.jsx("span",{children:".Studio"})]}),p.jsx("p",{className:Ue.description,children:"Building the foundations of the digital future from our studios in London and Colombo."}),p.jsx("div",{className:Ue.linkList,children:p.jsx("a",{href:"mailto:hello@layer1.studio",className:Ue.linkItem,style:{color:"#fff",fontWeight:600},children:"hello@layer1.studio"})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:Ue.columnTitle,children:"Locations"}),p.jsx("div",{className:Ue.locationItem,children:p.jsx("p",{className:Ue.locationName,children:"London, UK"})}),p.jsx("div",{className:Ue.locationItem,children:p.jsx("p",{className:Ue.locationName,children:"Colombo, Sri Lanka"})})]}),p.jsxs("div",{children:[p.jsx("h5",{className:Ue.columnTitle,children:"Connect"}),p.jsxs("div",{className:Ue.linkList,children:[p.jsx("a",{href:"#",className:Ue.linkItem,children:"LinkedIn"}),p.jsx("a",{href:"#",className:Ue.linkItem,children:"Twitter"}),p.jsx("a",{href:"#",className:Ue.linkItem,children:"Instagram"}),p.jsx("a",{href:"#",className:Ue.linkItem,children:"Dribbble"})]})]})]}),p.jsxs("div",{className:Ue.bottomBar,children:[p.jsx("p",{children:" 2026 Layer1.Studio. All rights reserved."}),p.jsxs("div",{className:Ue.legalLinks,children:[p.jsx("a",{href:"#",className:Ue.legalLink,children:"Privacy Policy"}),p.jsx("a",{href:"#",className:Ue.legalLink,children:"Terms of Service"})]})]})]})}),z2="_hero_tq6s7_1",q2="_heroContent_tq6s7_8",H2="_badge_tq6s7_14",F2="_title_tq6s7_28",G2="_subtitle_tq6s7_35",$2="_buttonGroup_tq6s7_43",K2="_primaryButton_tq6s7_49",Y2="_secondaryButton_tq6s7_68",Q2="_glow_tq6s7_85",ei={hero:z2,heroContent:q2,badge:H2,title:F2,subtitle:G2,buttonGroup:$2,primaryButton:K2,secondaryButton:Y2,glow:Q2},X2=()=>p.jsxs("section",{className:`${ei.hero} hero-gradient`,children:[p.jsx("div",{className:"container",children:p.jsxs("div",{className:ei.heroContent,children:[p.jsx("span",{className:ei.badge,children:"Engineering with Heart & Logic"}),p.jsx("h1",{className:`${ei.title} text-gradient`,children:"Building code that holds its own."}),p.jsx("p",{className:ei.subtitle,children:"We're a collective of product thinkers and engineers who care more about how things work than how they're marketed. Minimalist apps, complex systems, one standard: excellence."}),p.jsxs("div",{className:ei.buttonGroup,children:[p.jsxs("button",{className:ei.primaryButton,children:["Tell us a story",p.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"})]}),p.jsx("button",{className:ei.secondaryButton,children:"The things we've built"})]})]})}),p.jsx("div",{className:ei.glow})]}),W2="_philosophy_1frf5_1",J2="_grid_1frf5_6",Z2="_title_1frf5_13",ex="_description_1frf5_18",tx="_featureList_1frf5_25",nx="_feature_1frf5_25",ix="_iconWrapper_1frf5_36",rx="_featureTitle_1frf5_49",sx="_featureText_1frf5_56",ax="_visualWrapper_1frf5_61",ox="_glassVisualization_1frf5_65",lx="_vizLogo_1frf5_78",$e={philosophy:W2,grid:J2,title:Z2,description:ex,featureList:tx,feature:nx,iconWrapper:ix,featureTitle:rx,featureText:sx,visualWrapper:ax,glassVisualization:ox,vizLogo:lx},ux=()=>p.jsx("section",{id:"philosophy",className:$e.philosophy,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:$e.grid,children:[p.jsxs("div",{children:[p.jsx("h2",{className:$e.title,children:"Our Core Belief"}),p.jsx("p",{className:$e.description,children:"Layer 1 is the floor where everything starts. In code, it's the logic that survives the hype cycles. We're not here for the quick ship; we're here for the systems that still make sense ten years from now."}),p.jsxs("div",{className:$e.featureList,children:[p.jsxs("div",{className:$e.feature,children:[p.jsx("div",{className:$e.iconWrapper,children:p.jsx("span",{className:"material-symbols-outlined",children:"architecture"})}),p.jsxs("div",{children:[p.jsx("h4",{className:$e.featureTitle,children:"Build it right, once."}),p.jsx("p",{className:$e.featureText,children:"We hate technical debt as much as you do. Our patterns are clean, intentional, and predictably solid."})]})]}),p.jsxs("div",{className:$e.feature,children:[p.jsx("div",{className:$e.iconWrapper,children:p.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),p.jsxs("div",{children:[p.jsx("h4",{className:$e.featureTitle,children:"Speed with context."}),p.jsx("p",{className:$e.featureText,children:"Shipping fast is easy. Shipping right while moving fast takes discipline. We have the scars to prove we have both."})]})]}),p.jsxs("div",{className:$e.feature,children:[p.jsx("div",{className:$e.iconWrapper,children:p.jsx("span",{className:"material-symbols-outlined",children:"trending_up"})}),p.jsxs("div",{children:[p.jsx("h4",{className:$e.featureTitle,children:"Growing pains, solved."}),p.jsx("p",{className:$e.featureText,children:"Whether it's your first ten fans or a million global users, your infrastructure shouldn't be the thing that keeps you up at night."})]})]})]})]}),p.jsx("div",{className:$e.visualWrapper,children:p.jsx("div",{className:$e.glassVisualization,children:p.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDixvRaV__254DeMwb1TezHT5-q6q5ocjBBl1AiWwqFDMNzSXOzH-iTS_t3xI7nhulXQSmjBh_ZDClhFM7C6vMzawJYgKHYz8tAV3cOPF7i1j2qL89elfa95wZ-oqLjzs10XFRImxabKde3cLjaW6-d7hl0564lqoYWX_neZq-jvVHlSN-g8AFNUUA-MFY8F8I254Pof1ZVhWzsUB4d2_bh4AjcTJG6Hssbv7dUViSrhhNHh7AQ9fe-k3aznf2a_XxF4tJoXTafr-WT",alt:"Philosophy Viz",className:$e.vizLogo})})})]})})}),cx="_capabilities_lnslm_1",hx="_header_lnslm_5",fx="_title_lnslm_10",dx="_subtitle_lnslm_15",mx="_grid_lnslm_22",px="_card_lnslm_28",gx="_iconWrapper_lnslm_43",_x="_cardTitle_lnslm_61",yx="_cardText_lnslm_68",vx="_list_lnslm_74",Ex="_listItem_lnslm_80",Tx="_checkIcon_lnslm_89",on={capabilities:cx,header:hx,title:fx,subtitle:dx,grid:mx,card:px,iconWrapper:gx,cardTitle:_x,cardText:yx,list:vx,listItem:Ex,checkIcon:Tx},bx=()=>{const t=[{icon:"language",title:"Web Systems",text:"We build the kind of websites that feel like software. Fast, responsive, and impossible to ignore.",list:["Custom SaaS Dashboards","E-commerce Engines","Interactive Experiences"]},{icon:"stay_primary_portrait",title:"Mobile & Beyond",text:"iOS, Android, or anything with a screen. We focus on the thumb-feel and the split-second interactions.",list:["Consumer Apps","Enterprise Solutions","Offline-First Design"]},{icon:"layers",title:"Backend & Infrastructure",text:"The invisible part that matters the most. Secure, distributed, and ready for whatever the internet throws at it.",list:["API Architecture","Database Optimization","DevSecOps & Security"]}];return p.jsx("section",{id:"services",className:on.capabilities,children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:on.header,children:[p.jsx("h2",{className:on.title,children:"What we do best"}),p.jsx("p",{className:on.subtitle,children:"Specialized engineering for the things that usually fail."})]}),p.jsx("div",{className:on.grid,children:t.map((e,n)=>p.jsxs("div",{className:on.card,children:[p.jsx("div",{className:on.iconWrapper,children:p.jsx("span",{className:"material-symbols-outlined",children:e.icon})}),p.jsx("h3",{className:on.cardTitle,children:e.title}),p.jsx("p",{className:on.cardText,children:e.text}),p.jsx("ul",{className:on.list,children:e.list.map((i,r)=>p.jsxs("li",{className:on.listItem,children:[p.jsx("span",{className:`material-symbols-outlined ${on.checkIcon}`,children:"check_circle"}),i]},r))})]},n))})]})})},Sx="_portfolioPreview_m0cth_1",Ax="_header_m0cth_7",wx="_titleWrapper_m0cth_15",Rx="_title_m0cth_15",Cx="_subtitle_m0cth_24",Ix="_exploreButton_m0cth_29",Nx="_grid_m0cth_45",xx="_projectCard_m0cth_51",Dx="_imageWrapper_m0cth_55",Ox="_projectImage_m0cth_66",Mx="_overlay_m0cth_74",Vx="_cardContent_m0cth_91",kx="_projectTitle_m0cth_95",Lx="_projectText_m0cth_102",Px="_tagGroup_m0cth_109",Ux="_tag_m0cth_109",Tt={portfolioPreview:Sx,header:Ax,titleWrapper:wx,title:Rx,subtitle:Cx,exploreButton:Ix,grid:Nx,projectCard:xx,imageWrapper:Dx,projectImage:Ox,overlay:Mx,cardContent:Vx,projectTitle:kx,projectText:Lx,tagGroup:Px,tag:Ux},jx=()=>{const t=[{title:"OmniChannel CRM",text:"Enterprise-grade customer management system for a Fortune 500 retailer.",tags:["Node.js","Postgres"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC4_cbDAndJwZVOFPkfnWrYBKzbaO4n4rCY-mJ7m0SkSToxDUZ6s-Vu4pSwlEmc7BtkU9Xq_F5lL8ghrqzYiS7FpsLl-4GM_eUfG2obKIkOQcmx2YeS_JnarSUoR7hcXFLysetVpUes4uW1bw1bIxLDOSut7RsOEBpcOl12GKrjo47XAFZ4KprT0CBAvsG-o2i7r-uACqfiN8LbMVX4UIh4IVwP29qFqpfDZ8u6Aqn_vNcE4-60hAZuLLUL6e_v6FO5EgdvWMNl3pcY"},{title:"Vault FinTech",text:"Next-generation mobile banking experience with real-time asset tracking.",tags:["Flutter","Go"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC6WiSTZ-crmpTbyxwY6Zi-1S04T36K_CZT5x56EPBVcfxeym20RVOopuMFEUrg59fzjkiLMKCznMiFEC1NFwkLl1iw7BDNF--WHn3P06zcSUtK5-jKIpEPCR-7gUgOgmC6ZSeq1PGfDF9su9QX9TN-rnx6myFFPA11HUrL03T1hlcz7c6YYl0rbEaBpXYvnb4gdU-QzY92h98GVdRE9xY3uWZ7Jo62ipsJr6hq-4ODZtD8M4QTC8pnS6M5HMbKR3AOE66KLrDjMNvr"}];return p.jsx("section",{id:"projects",className:Tt.portfolioPreview,children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:Tt.header,children:[p.jsxs("div",{className:Tt.titleWrapper,children:[p.jsx("h2",{className:Tt.title,children:"Hand-picked work"}),p.jsx("p",{className:Tt.subtitle,children:"A few things we're proud of. We don't just build apps; we build tools people actually use."})]}),p.jsxs("a",{href:"/portfolio",className:Tt.exploreButton,children:["See how we did it",p.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]}),p.jsx("div",{className:Tt.grid,children:t.map((e,n)=>p.jsxs("div",{className:Tt.projectCard,children:[p.jsxs("div",{className:Tt.imageWrapper,children:[p.jsx("img",{src:e.image,alt:e.title,className:Tt.projectImage}),p.jsx("div",{className:Tt.overlay})]}),p.jsxs("div",{className:Tt.cardContent,children:[p.jsx("h4",{className:Tt.projectTitle,children:e.title}),p.jsx("p",{className:Tt.projectText,children:e.text}),p.jsx("div",{className:Tt.tagGroup,children:e.tags.map((i,r)=>p.jsx("span",{className:Tt.tag,children:i},r))})]})]},n))})]})})},Bx=()=>p.jsxs("main",{children:[p.jsx(X2,{}),p.jsx(ux,{}),p.jsx(bx,{}),p.jsx(jx,{})]}),zx="_servicesPage_1xekf_1",qx="_heroSection_1xekf_5",Hx="_heroContent_1xekf_10",Fx="_badge_1xekf_14",Gx="_title_1xekf_28",$x="_subtitle_1xekf_39",Kx="_methodology_1xekf_45",Yx="_sectionHeader_1xekf_52",Qx="_sectionTitle_1xekf_56",Xx="_sectionSubtitle_1xekf_61",Wx="_processGrid_1xekf_66",Jx="_processStep_1xekf_72",Zx="_stepHeader_1xekf_76",eD="_numberCircle_1xekf_83",tD="_dashedLine_1xekf_104",nD="_stepTitle_1xekf_114",iD="_stepText_1xekf_119",rD="_ctaSection_1xekf_125",sD="_ctaBox_1xekf_129",aD="_ctaTitle_1xekf_152",oD="_ctaSubtitle_1xekf_157",lD="_ctaButtons_1xekf_164",uD="_primaryCta_1xekf_170",cD="_secondaryCta_1xekf_179",xe={servicesPage:zx,heroSection:qx,heroContent:Hx,badge:Fx,title:Gx,subtitle:$x,methodology:Kx,sectionHeader:Yx,sectionTitle:Qx,sectionSubtitle:Xx,processGrid:Wx,processStep:Jx,stepHeader:Zx,numberCircle:eD,dashedLine:tD,stepTitle:nD,stepText:iD,ctaSection:rD,ctaBox:sD,ctaTitle:aD,ctaSubtitle:oD,ctaButtons:lD,primaryCta:uD,secondaryCta:cD},hD=()=>{const t=[{number:"01",title:"Sense-making",text:"We start by asking a lot of questions. We strip away the noise to find the core of what you're building."},{number:"02",title:"The Forge",text:"Where logic meets craft. We write code that is clean enough to read and fast enough to fly."},{number:"03",title:"Momentum",text:"Setting it live is just the beginning. We make sure the first 24 hours (and the next 2400) are seamless."},{number:"04",title:"The Horizon",text:"We stay in your corner. As you grow, we're there to make sure the foundation holds firm."}];return p.jsxs("div",{className:xe.servicesPage,children:[p.jsx("section",{className:xe.heroSection,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:xe.heroContent,children:[p.jsx("span",{className:xe.badge,children:"Our craft"}),p.jsxs("h1",{className:`${xe.title} text-gradient`,children:["Foundations for ",p.jsx("span",{children:"the future."})]}),p.jsx("p",{className:xe.subtitle,children:"We don't do 'average'. We build complex, hard-working software for people who have big ideas and little time for bugs."})]})})}),p.jsx("section",{className:xe.methodology,children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:xe.sectionHeader,children:[p.jsx("h2",{className:xe.sectionTitle,children:"How we work"}),p.jsx("p",{className:xe.sectionSubtitle,children:"No magic, just a very disciplined process that gets things done."})]}),p.jsx("div",{className:xe.processGrid,children:t.map((e,n)=>p.jsxs("div",{className:xe.processStep,children:[p.jsxs("div",{className:xe.stepHeader,children:[p.jsx("div",{className:xe.numberCircle,children:e.number}),n<t.length-1&&p.jsx("div",{className:xe.dashedLine})]}),p.jsx("h3",{className:xe.stepTitle,children:e.title}),p.jsx("p",{className:xe.stepText,children:e.text})]},n))})]})}),p.jsx("section",{className:xe.ctaSection,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:xe.ctaBox,children:[p.jsx("h2",{className:xe.ctaTitle,children:"Let's build something real."}),p.jsx("p",{className:xe.ctaSubtitle,children:"If you're tired of generic solutions, we should talk. We build the things that most people find too difficult."}),p.jsxs("div",{className:xe.ctaButtons,children:[p.jsx("button",{className:xe.primaryCta,children:"Say Hello"}),p.jsx("button",{className:xe.secondaryCta,children:"See our work"})]})]})})})]})},fD=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},dD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(g=64)),i.push(n[f],n[m],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||m==null)throw new mD;const g=s<<2|l>>4;if(i.push(g),c!==64){const _=l<<4&240|c>>2;if(i.push(_),m!==64){const I=c<<6&192|m;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pD=function(t){const e=AS(t);return wS.encodeByteArray(e,!0)},xc=function(t){return pD(t).replace(/\./g,"")},RS=function(t){try{return wS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=()=>gD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof Tv>"u")return;const t=Tv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RS(t[1]);return e&&JSON.parse(e)},_h=()=>{try{return fD()||_D()||yD()||vD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CS=t=>{var e,n;return(n=(e=_h())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},IS=t=>{const e=CS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},NS=()=>{var t;return(t=_h())==null?void 0:t.config},xS=t=>{var e;return(e=_h())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xc(JSON.stringify(n)),xc(JSON.stringify(a)),""].join(".")}const jo={};function TD(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function bD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bv=!1;function Hp(t,e){if(typeof window>"u"||typeof document>"u"||!Rr(window.location.host)||jo[t]===e||jo[t]||bv)return;jo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=TD().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{bv=!0,a()},g}function f(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=bD(i),_=n("text"),I=document.getElementById(_)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;l(T),f(D,N);const x=c();u(v,b),T.append(v,I,D,x),document.body.appendChild(T)}s?(I.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function AD(){var e;const t=(e=_h())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ID(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ND(){return!AD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xD(){try{return typeof indexedDB=="object"}catch{return!1}}function DD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="FirebaseError";class Qn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=OD,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?MD(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Qn(r,l,i)}}function MD(t,e){return t.replace(VD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const VD=/\{\$([^}]+)}/g;function kD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ns(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(Sv(s)&&Sv(a)){if(!ns(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function vo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LD(t,e){const n=new PD(t,e);return n.subscribe.bind(n)}class PD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Kf),r.error===void 0&&(r.error=Kf),r.complete===void 0&&(r.complete=Kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ED;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zD(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BD(t){return t===zr?void 0:t}function zD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const HD={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},FD=se.INFO,GD={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},$D=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=GD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=FD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const KD=(t,e)=>e.some(n=>t instanceof n);let Av,wv;function YD(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QD(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,am=new WeakMap,MS=new WeakMap,Yf=new WeakMap,Gp=new WeakMap;function XD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(or(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),Gp.set(e,t),e}function WD(t){if(am.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});am.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JD(t){om=t(om)}function ZD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qf(this),e,...n);return MS.set(i,e.sort?e.sort():[e]),or(i)}:QD().includes(t)?function(...e){return t.apply(Qf(this),e),or(OS.get(this))}:function(...e){return or(t.apply(Qf(this),e))}}function eO(t){return typeof t=="function"?ZD(t):(t instanceof IDBTransaction&&WD(t),KD(t,YD())?new Proxy(t,om):t)}function or(t){if(t instanceof IDBRequest)return XD(t);if(Yf.has(t))return Yf.get(t);const e=eO(t);return e!==t&&(Yf.set(t,e),Gp.set(e,t)),e}const Qf=t=>Gp.get(t);function tO(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=or(a);return i&&a.addEventListener("upgradeneeded",u=>{i(or(a.result),u.oldVersion,u.newVersion,or(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const nO=["get","getKey","getAll","getAllKeys","count"],iO=["put","add","delete","clear"],Xf=new Map;function Rv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=iO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nO.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Xf.set(e,s),s}JD(t=>({...t,get:(e,n,i)=>Rv(e,n)||t.get(e,n,i),has:(e,n)=>!!Rv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",Cv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Fp("@firebase/app"),aO="@firebase/app-compat",oO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",cO="@firebase/app-check",hO="@firebase/auth",fO="@firebase/auth-compat",dO="@firebase/database",mO="@firebase/data-connect",pO="@firebase/database-compat",gO="@firebase/functions",_O="@firebase/functions-compat",yO="@firebase/installations",vO="@firebase/installations-compat",EO="@firebase/messaging",TO="@firebase/messaging-compat",bO="@firebase/performance",SO="@firebase/performance-compat",AO="@firebase/remote-config",wO="@firebase/remote-config-compat",RO="@firebase/storage",CO="@firebase/storage-compat",IO="@firebase/firestore",NO="@firebase/ai",xO="@firebase/firestore-compat",DO="firebase",OO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",MO={[lm]:"fire-core",[aO]:"fire-core-compat",[lO]:"fire-analytics",[oO]:"fire-analytics-compat",[cO]:"fire-app-check",[uO]:"fire-app-check-compat",[hO]:"fire-auth",[fO]:"fire-auth-compat",[dO]:"fire-rtdb",[mO]:"fire-data-connect",[pO]:"fire-rtdb-compat",[gO]:"fire-fn",[_O]:"fire-fn-compat",[yO]:"fire-iid",[vO]:"fire-iid-compat",[EO]:"fire-fcm",[TO]:"fire-fcm-compat",[bO]:"fire-perf",[SO]:"fire-perf-compat",[AO]:"fire-rc",[wO]:"fire-rc-compat",[RO]:"fire-gcs",[CO]:"fire-gcs-compat",[IO]:"fire-fst",[xO]:"fire-fst-compat",[NO]:"fire-vertex","fire-js":"fire-js",[DO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,VO=new Map,cm=new Map;function Iv(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(cm.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of Dc.values())Iv(n,t);for(const n of VO.values())Iv(n,t);return!0}function yh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Ol("app","Firebase",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=OO;function VS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:um,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw lr.create("bad-app-name",{appName:String(r)});if(n||(n=NS()),!n)throw lr.create("no-options");const s=Dc.get(r);if(s){if(ns(n,s.options)&&ns(i,s.config))return s;throw lr.create("duplicate-app",{appName:r})}const a=new qD(r);for(const u of cm.values())a.addComponent(u);const l=new LO(n,i,a);return Dc.set(r,l),l}function $p(t=um){const e=Dc.get(t);if(!e&&t===um&&NS())return VS();if(!e)throw lr.create("no-app",{appName:t});return e}function jn(t,e,n){let i=MO[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}is(new _r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="firebase-heartbeat-database",UO=1,ll="firebase-heartbeat-store";let Wf=null;function kS(){return Wf||(Wf=tO(PO,UO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Wf}async function jO(t){try{const n=(await kS()).transaction(ll),i=await n.objectStore(ll).get(LS(t));return await n.done,i}catch(e){if(e instanceof Qn)Ei.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function Nv(t,e){try{const i=(await kS()).transaction(ll,"readwrite");await i.objectStore(ll).put(e,LS(t)),await i.done}catch(n){if(n instanceof Qn)Ei.warn(n.message);else{const i=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function LS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1024,zO=30;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>zO){const a=GO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:i,unsentEntries:r}=HO(this._heartbeatsCache.heartbeats),s=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ei.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function HO(t,e=BO){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Dv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Dv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xD()?DD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dv(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}function GO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){is(new _r("platform-logger",e=>new rO(e),"PRIVATE")),is(new _r("heartbeat",e=>new qO(e),"PRIVATE")),jn(lm,Cv,t),jn(lm,Cv,"esm2020"),jn("fire-js","")}$O("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,PS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function A(){}A.prototype=E.prototype,S.F=E.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(R,C,O){for(var w=Array(arguments.length-2),at=2;at<arguments.length;at++)w[at-2]=arguments[at];return E.prototype[C].apply(R,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,E,A){A||(A=0);const R=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)R[C]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(C=0;C<16;++C)R[C]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=S.g[0],A=S.g[1],C=S.g[2];let O=S.g[3],w;w=E+(O^A&(C^O))+R[0]+3614090360&4294967295,E=A+(w<<7&4294967295|w>>>25),w=O+(C^E&(A^C))+R[1]+3905402710&4294967295,O=E+(w<<12&4294967295|w>>>20),w=C+(A^O&(E^A))+R[2]+606105819&4294967295,C=O+(w<<17&4294967295|w>>>15),w=A+(E^C&(O^E))+R[3]+3250441966&4294967295,A=C+(w<<22&4294967295|w>>>10),w=E+(O^A&(C^O))+R[4]+4118548399&4294967295,E=A+(w<<7&4294967295|w>>>25),w=O+(C^E&(A^C))+R[5]+1200080426&4294967295,O=E+(w<<12&4294967295|w>>>20),w=C+(A^O&(E^A))+R[6]+2821735955&4294967295,C=O+(w<<17&4294967295|w>>>15),w=A+(E^C&(O^E))+R[7]+4249261313&4294967295,A=C+(w<<22&4294967295|w>>>10),w=E+(O^A&(C^O))+R[8]+1770035416&4294967295,E=A+(w<<7&4294967295|w>>>25),w=O+(C^E&(A^C))+R[9]+2336552879&4294967295,O=E+(w<<12&4294967295|w>>>20),w=C+(A^O&(E^A))+R[10]+4294925233&4294967295,C=O+(w<<17&4294967295|w>>>15),w=A+(E^C&(O^E))+R[11]+2304563134&4294967295,A=C+(w<<22&4294967295|w>>>10),w=E+(O^A&(C^O))+R[12]+1804603682&4294967295,E=A+(w<<7&4294967295|w>>>25),w=O+(C^E&(A^C))+R[13]+4254626195&4294967295,O=E+(w<<12&4294967295|w>>>20),w=C+(A^O&(E^A))+R[14]+2792965006&4294967295,C=O+(w<<17&4294967295|w>>>15),w=A+(E^C&(O^E))+R[15]+1236535329&4294967295,A=C+(w<<22&4294967295|w>>>10),w=E+(C^O&(A^C))+R[1]+4129170786&4294967295,E=A+(w<<5&4294967295|w>>>27),w=O+(A^C&(E^A))+R[6]+3225465664&4294967295,O=E+(w<<9&4294967295|w>>>23),w=C+(E^A&(O^E))+R[11]+643717713&4294967295,C=O+(w<<14&4294967295|w>>>18),w=A+(O^E&(C^O))+R[0]+3921069994&4294967295,A=C+(w<<20&4294967295|w>>>12),w=E+(C^O&(A^C))+R[5]+3593408605&4294967295,E=A+(w<<5&4294967295|w>>>27),w=O+(A^C&(E^A))+R[10]+38016083&4294967295,O=E+(w<<9&4294967295|w>>>23),w=C+(E^A&(O^E))+R[15]+3634488961&4294967295,C=O+(w<<14&4294967295|w>>>18),w=A+(O^E&(C^O))+R[4]+3889429448&4294967295,A=C+(w<<20&4294967295|w>>>12),w=E+(C^O&(A^C))+R[9]+568446438&4294967295,E=A+(w<<5&4294967295|w>>>27),w=O+(A^C&(E^A))+R[14]+3275163606&4294967295,O=E+(w<<9&4294967295|w>>>23),w=C+(E^A&(O^E))+R[3]+4107603335&4294967295,C=O+(w<<14&4294967295|w>>>18),w=A+(O^E&(C^O))+R[8]+1163531501&4294967295,A=C+(w<<20&4294967295|w>>>12),w=E+(C^O&(A^C))+R[13]+2850285829&4294967295,E=A+(w<<5&4294967295|w>>>27),w=O+(A^C&(E^A))+R[2]+4243563512&4294967295,O=E+(w<<9&4294967295|w>>>23),w=C+(E^A&(O^E))+R[7]+1735328473&4294967295,C=O+(w<<14&4294967295|w>>>18),w=A+(O^E&(C^O))+R[12]+2368359562&4294967295,A=C+(w<<20&4294967295|w>>>12),w=E+(A^C^O)+R[5]+4294588738&4294967295,E=A+(w<<4&4294967295|w>>>28),w=O+(E^A^C)+R[8]+2272392833&4294967295,O=E+(w<<11&4294967295|w>>>21),w=C+(O^E^A)+R[11]+1839030562&4294967295,C=O+(w<<16&4294967295|w>>>16),w=A+(C^O^E)+R[14]+4259657740&4294967295,A=C+(w<<23&4294967295|w>>>9),w=E+(A^C^O)+R[1]+2763975236&4294967295,E=A+(w<<4&4294967295|w>>>28),w=O+(E^A^C)+R[4]+1272893353&4294967295,O=E+(w<<11&4294967295|w>>>21),w=C+(O^E^A)+R[7]+4139469664&4294967295,C=O+(w<<16&4294967295|w>>>16),w=A+(C^O^E)+R[10]+3200236656&4294967295,A=C+(w<<23&4294967295|w>>>9),w=E+(A^C^O)+R[13]+681279174&4294967295,E=A+(w<<4&4294967295|w>>>28),w=O+(E^A^C)+R[0]+3936430074&4294967295,O=E+(w<<11&4294967295|w>>>21),w=C+(O^E^A)+R[3]+3572445317&4294967295,C=O+(w<<16&4294967295|w>>>16),w=A+(C^O^E)+R[6]+76029189&4294967295,A=C+(w<<23&4294967295|w>>>9),w=E+(A^C^O)+R[9]+3654602809&4294967295,E=A+(w<<4&4294967295|w>>>28),w=O+(E^A^C)+R[12]+3873151461&4294967295,O=E+(w<<11&4294967295|w>>>21),w=C+(O^E^A)+R[15]+530742520&4294967295,C=O+(w<<16&4294967295|w>>>16),w=A+(C^O^E)+R[2]+3299628645&4294967295,A=C+(w<<23&4294967295|w>>>9),w=E+(C^(A|~O))+R[0]+4096336452&4294967295,E=A+(w<<6&4294967295|w>>>26),w=O+(A^(E|~C))+R[7]+1126891415&4294967295,O=E+(w<<10&4294967295|w>>>22),w=C+(E^(O|~A))+R[14]+2878612391&4294967295,C=O+(w<<15&4294967295|w>>>17),w=A+(O^(C|~E))+R[5]+4237533241&4294967295,A=C+(w<<21&4294967295|w>>>11),w=E+(C^(A|~O))+R[12]+1700485571&4294967295,E=A+(w<<6&4294967295|w>>>26),w=O+(A^(E|~C))+R[3]+2399980690&4294967295,O=E+(w<<10&4294967295|w>>>22),w=C+(E^(O|~A))+R[10]+4293915773&4294967295,C=O+(w<<15&4294967295|w>>>17),w=A+(O^(C|~E))+R[1]+2240044497&4294967295,A=C+(w<<21&4294967295|w>>>11),w=E+(C^(A|~O))+R[8]+1873313359&4294967295,E=A+(w<<6&4294967295|w>>>26),w=O+(A^(E|~C))+R[15]+4264355552&4294967295,O=E+(w<<10&4294967295|w>>>22),w=C+(E^(O|~A))+R[6]+2734768916&4294967295,C=O+(w<<15&4294967295|w>>>17),w=A+(O^(C|~E))+R[13]+1309151649&4294967295,A=C+(w<<21&4294967295|w>>>11),w=E+(C^(A|~O))+R[4]+4149444226&4294967295,E=A+(w<<6&4294967295|w>>>26),w=O+(A^(E|~C))+R[11]+3174756917&4294967295,O=E+(w<<10&4294967295|w>>>22),w=C+(E^(O|~A))+R[2]+718787259&4294967295,C=O+(w<<15&4294967295|w>>>17),w=A+(O^(C|~E))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+O&4294967295}i.prototype.v=function(S,E){E===void 0&&(E=S.length);const A=E-this.blockSize,R=this.C;let C=this.h,O=0;for(;O<E;){if(C==0)for(;O<=A;)r(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<E;)if(R[C++]=S.charCodeAt(O++),C==this.blockSize){r(this,R),C=0;break}}else for(;O<E;)if(R[C++]=S[O++],C==this.blockSize){r(this,R),C=0;break}}this.h=C,this.o+=E},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;E=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=E&255,E/=256;for(this.v(S),S=Array(16),E=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)S[E++]=this.g[A]>>>R&255;return S};function s(S,E){var A=l;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=E(S)}function a(S,E){this.h=E;const A=[];let R=!0;for(let C=S.length-1;C>=0;C--){const O=S[C]|0;R&&O==E||(A[C]=O,R=!1)}this.g=A}var l={};function u(S){return-128<=S&&S<128?s(S,function(E){return new a([E|0],E<0?-1:0)}):new a([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return D(c(-S));const E=[];let A=1;for(let R=0;S>=A;R++)E[R]=S/A|0,A*=4294967296;return new a(E,0)}function f(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return D(f(S.substring(1),E));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(E,8));let R=m;for(let O=0;O<S.length;O+=8){var C=Math.min(8,S.length-O);const w=parseInt(S.substring(O,O+C),E);C<8?(C=c(Math.pow(E,C)),R=R.j(C).add(c(w))):(R=R.j(A),R=R.add(c(w)))}return R}var m=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-D(this).m();let S=0,E=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);S+=(R>=0?R:4294967296+R)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(N(this))return"-"+D(this).toString(S);const E=c(Math.pow(S,6));var A=this;let R="";for(;;){const C=x(A,E).g;A=b(A,C.j(E));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=C,I(A))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=b(this,S),N(S)?-1:I(S)?0:1};function D(S){const E=S.g.length,A=[];for(let R=0;R<E;R++)A[R]=~S.g[R];return new a(A,~S.h).add(g)}t.abs=function(){return N(this)?D(this):this},t.add=function(S){const E=Math.max(this.g.length,S.g.length),A=[];let R=0;for(let C=0;C<=E;C++){let O=R+(this.i(C)&65535)+(S.i(C)&65535),w=(O>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);R=w>>>16,O&=65535,w&=65535,A[C]=w<<16|O}return new a(A,A[A.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(D(E))}t.j=function(S){if(I(this)||I(S))return m;if(N(this))return N(S)?D(this).j(D(S)):D(D(this).j(S));if(N(S))return D(this.j(D(S)));if(this.l(_)<0&&S.l(_)<0)return c(this.m()*S.m());const E=this.g.length+S.g.length,A=[];for(var R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<S.g.length;C++){const O=this.i(R)>>>16,w=this.i(R)&65535,at=S.i(C)>>>16,qt=S.i(C)&65535;A[2*R+2*C]+=w*qt,v(A,2*R+2*C),A[2*R+2*C+1]+=O*qt,v(A,2*R+2*C+1),A[2*R+2*C+1]+=w*at,v(A,2*R+2*C+1),A[2*R+2*C+2]+=O*at,v(A,2*R+2*C+2)}for(S=0;S<E;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=E;S<2*E;S++)A[S]=0;return new a(A,0)};function v(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function T(S,E){this.g=S,this.h=E}function x(S,E){if(I(E))throw Error("division by zero");if(I(S))return new T(m,m);if(N(S))return E=x(D(S),E),new T(D(E.g),D(E.h));if(N(E))return E=x(S,D(E)),new T(D(E.g),E.h);if(S.g.length>30){if(N(S)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=E;R.l(S)<=0;)A=B(A),R=B(R);var C=q(A,1),O=q(R,1);for(R=q(R,2),A=q(A,2);!I(R);){var w=O.add(R);w.l(S)<=0&&(C=C.add(A),O=w),R=q(R,1),A=q(A,1)}return E=b(S,C.j(E)),new T(C,E)}for(C=m;S.l(E)>=0;){for(A=Math.max(1,Math.floor(S.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=c(A),w=O.j(E);N(w)||w.l(S)>0;)A-=R,O=c(A),w=O.j(E);I(O)&&(O=g),C=C.add(O),S=b(S,w)}return new T(C,S)}t.B=function(S){return x(this,S).h},t.and=function(S){const E=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)&S.i(R);return new a(A,this.h&S.h)},t.or=function(S){const E=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)|S.i(R);return new a(A,this.h|S.h)},t.xor=function(S){const E=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)^S.i(R);return new a(A,this.h^S.h)};function B(S){const E=S.g.length+1,A=[];for(let R=0;R<E;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new a(A,S.h)}function q(S,E){const A=E>>5;E%=32;const R=S.g.length-A,C=[];for(let O=0;O<R;O++)C[O]=E>0?S.i(O+A)>>>E|S.i(O+A+1)<<32-E:S.i(O+A);return new a(C,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,PS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,ur=a}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var US,Eo,jS,Fu,hm,BS,zS,qS;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var M=o[y];if(!(M in d))break e;d=d[M]}o=o[o.length-1],y=d[o],h=h(y),h!=y&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.push([y,h[y]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(y,M,k){for(var z=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)z[ne-2]=arguments[ne];return h.prototype[M].apply(y,z)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function _(o){const h=o.length;if(h>0){const d=Array(h);for(let y=0;y<h;y++)d[y]=o[y];return d}return[]}function I(o,h){for(let y=1;y<arguments.length;y++){const M=arguments[y];var d=typeof M;if(d=d!="object"?d:M?Array.isArray(M)?"array":d:"null",d=="array"||d=="object"&&typeof M.length=="number"){d=o.length||0;const k=M.length||0;o.length=d+k;for(let z=0;z<k;z++)o[d+z]=M[z]}else o.push(M)}}class N{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function D(o){a.setTimeout(()=>{throw o},0)}function b(){var o=S;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const y=T.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var T=new N(()=>new x,o=>o.reset());class x{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let B,q=!1,S=new v,E=()=>{const o=Promise.resolve(void 0);B=()=>{o.then(A)}};function A(){for(var o;o=b();){try{o.h.call(o.g)}catch(d){D(d)}var h=T;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}q=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function at(o,h){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(at,C),at.prototype.init=function(o,h){const d=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var qt="closure_listenable_"+(Math.random()*1e6|0),H=0;function P(o,h,d,y,M){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=M,this.key=++H,this.da=this.fa=!1}function Y(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ce(o,h,d){for(const y in o)h.call(d,o[y],y,o)}function Ve(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function sn(o){const h={};for(const d in o)h[d]=o[d];return h}const xr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _s(o,h){let d,y;for(let M=1;M<arguments.length;M++){y=arguments[M];for(d in y)o[d]=y[d];for(let k=0;k<xr.length;k++)d=xr[k],Object.prototype.hasOwnProperty.call(y,d)&&(o[d]=y[d])}}function an(o){this.src=o,this.g={},this.h=0}an.prototype.add=function(o,h,d,y,M){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const z=Ph(o,h,y,M);return z>-1?(h=o[z],d||(h.fa=!1)):(h=new P(h,this.src,k,!!y,M),h.fa=d,o.push(h)),h};function wi(o,h){const d=h.type;if(d in o.g){var y=o.g[d],M=Array.prototype.indexOf.call(y,h,void 0),k;(k=M>=0)&&Array.prototype.splice.call(y,M,1),k&&(Y(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Ph(o,h,d,y){for(let M=0;M<o.length;++M){const k=o[M];if(!k.da&&k.listener==h&&k.capture==!!d&&k.ha==y)return M}return-1}var Uh="closure_lm_"+(Math.random()*1e6|0),jh={};function Hg(o,h,d,y,M){if(Array.isArray(h)){for(let k=0;k<h.length;k++)Hg(o,h[k],d,y,M);return null}return d=$g(d),o&&o[qt]?o.J(h,d,l(y)?!!y.capture:!1,M):dw(o,h,d,!1,y,M)}function dw(o,h,d,y,M,k){if(!h)throw Error("Invalid event type");const z=l(M)?!!M.capture:!!M;let ne=zh(o);if(ne||(o[Uh]=ne=new an(o)),d=ne.add(h,d,y,z,k),d.proxy)return d;if(y=mw(),d.proxy=y,y.src=o,y.listener=d,o.addEventListener)O||(M=z),M===void 0&&(M=!1),o.addEventListener(h.toString(),y,M);else if(o.attachEvent)o.attachEvent(Gg(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function mw(){function o(d){return h.call(o.src,o.listener,d)}const h=pw;return o}function Fg(o,h,d,y,M){if(Array.isArray(h))for(var k=0;k<h.length;k++)Fg(o,h[k],d,y,M);else y=l(y)?!!y.capture:!!y,d=$g(d),o&&o[qt]?(o=o.i,k=String(h).toString(),k in o.g&&(h=o.g[k],d=Ph(h,d,y,M),d>-1&&(Y(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[k],o.h--)))):o&&(o=zh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Ph(h,d,y,M)),(d=o>-1?h[o]:null)&&Bh(d))}function Bh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[qt])wi(h.i,o);else{var d=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(d,y,o.capture):h.detachEvent?h.detachEvent(Gg(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=zh(h))?(wi(d,o),d.h==0&&(d.src=null,h[Uh]=null)):Y(o)}}}function Gg(o){return o in jh?jh[o]:jh[o]="on"+o}function pw(o,h){if(o.da)o=!0;else{h=new at(h,this);const d=o.listener,y=o.ha||o.src;o.fa&&Bh(o),o=d.call(y,h)}return o}function zh(o){return o=o[Uh],o instanceof an?o:null}var qh="__closure_events_fn_"+(Math.random()*1e9>>>0);function $g(o){return typeof o=="function"?o:(o[qh]||(o[qh]=function(h){return o.handleEvent(h)}),o[qh])}function Et(){R.call(this),this.i=new an(this),this.M=this,this.G=null}m(Et,R),Et.prototype[qt]=!0,Et.prototype.removeEventListener=function(o,h,d,y){Fg(this,o,h,d,y)};function Rt(o,h){var d,y=o.G;if(y)for(d=[];y;y=y.G)d.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new C(h,o);else if(h instanceof C)h.target=h.target||o;else{var M=h;h=new C(y,o),_s(h,M)}M=!0;let k,z;if(d)for(z=d.length-1;z>=0;z--)k=h.g=d[z],M=Fl(k,y,!0,h)&&M;if(k=h.g=o,M=Fl(k,y,!0,h)&&M,M=Fl(k,y,!1,h)&&M,d)for(z=0;z<d.length;z++)k=h.g=d[z],M=Fl(k,y,!1,h)&&M}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let y=0;y<d.length;y++)Y(d[y]);delete o.g[h],o.h--}}this.G=null},Et.prototype.J=function(o,h,d,y){return this.i.add(String(o),h,!1,d,y)},Et.prototype.K=function(o,h,d,y){return this.i.add(String(o),h,!0,d,y)};function Fl(o,h,d,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let k=0;k<h.length;++k){const z=h[k];if(z&&!z.da&&z.capture==d){const ne=z.listener,nt=z.ha||z.src;z.fa&&wi(o.i,z),M=ne.call(nt,y)!==!1&&M}}return M&&!y.defaultPrevented}function gw(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Kg(o){o.g=gw(()=>{o.g=null,o.i&&(o.i=!1,Kg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class _w extends R{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Kg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(o){R.call(this),this.h=o,this.g={}}m(Ba,R);var Yg=[];function Qg(o){ce(o.g,function(h,d){this.g.hasOwnProperty(d)&&Bh(h)},o),o.g={}}Ba.prototype.N=function(){Ba.Z.N.call(this),Qg(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hh=a.JSON.stringify,yw=a.JSON.parse,vw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Xg(){}function Wg(){}var za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fh(){C.call(this,"d")}m(Fh,C);function Gh(){C.call(this,"c")}m(Gh,C);var Dr={},Jg=null;function Gl(){return Jg=Jg||new Et}Dr.Ia="serverreachability";function Zg(o){C.call(this,Dr.Ia,o)}m(Zg,C);function qa(o){const h=Gl();Rt(h,new Zg(h))}Dr.STAT_EVENT="statevent";function e_(o,h){C.call(this,Dr.STAT_EVENT,o),this.stat=h}m(e_,C);function Ct(o){const h=Gl();Rt(h,new e_(h,o))}Dr.Ja="timingevent";function t_(o,h){C.call(this,Dr.Ja,o),this.size=h}m(t_,C);function Ha(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function Ew(o,h,d,y,M,k){o.info(function(){if(o.g)if(k){var z="",ne=k.split("&");for(let Ee=0;Ee<ne.length;Ee++){var nt=ne[Ee].split("=");if(nt.length>1){const ot=nt[0];nt=nt[1];const Dn=ot.split("_");z=Dn.length>=2&&Dn[1]=="type"?z+(ot+"="+nt+"&"):z+(ot+"=redacted&")}}}else z=null;else z=k;return"XMLHTTP REQ ("+y+") [attempt "+M+"]: "+h+`
`+d+`
`+z})}function Tw(o,h,d,y,M,k,z){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+M+"]: "+h+`
`+d+`
`+k+" "+z})}function ys(o,h,d,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+Sw(o,d)+(y?" "+y:"")})}function bw(o,h){o.info(function(){return"TIMEOUT: "+h})}Fa.prototype.info=function(){};function Sw(o,h){if(!o.g)return h;if(!h)return null;try{const k=JSON.parse(h);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var d=k[o];if(!(d.length<2)){var y=d[1];if(Array.isArray(y)&&!(y.length<1)){var M=y[0];if(M!="noop"&&M!="stop"&&M!="close")for(let z=1;z<y.length;z++)y[z]=""}}}}return Hh(k)}catch{return h}}var $l={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},n_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},i_;function $h(){}m($h,Xg),$h.prototype.g=function(){return new XMLHttpRequest},i_=new $h;function Ga(o){return encodeURIComponent(String(o))}function Aw(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function Ri(o,h,d,y){this.j=o,this.i=h,this.l=d,this.S=y||1,this.V=new Ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new r_}function r_(){this.i=null,this.g="",this.h=!1}var s_={},Kh={};function Yh(o,h,d){o.M=1,o.A=Yl(xn(h)),o.u=d,o.R=!0,a_(o,null)}function a_(o,h){o.F=Date.now(),Kl(o),o.B=xn(o.A);var d=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),v_(d.i,"t",y),o.C=0,d=o.j.L,o.h=new r_,o.g=P_(o.j,d?h:null,!o.u),o.P>0&&(o.O=new _w(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,y=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(Yg[0]=M.toString()),M=Yg);for(let k=0;k<M.length;k++){const z=Hg(d,M[k],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.J?sn(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),qa(),Ew(o.i,o.v,o.B,o.l,o.S,o.u)}Ri.prototype.ba=function(o){o=o.target;const h=this.O;h&&Ni(o)==3?h.j():this.Y(o)},Ri.prototype.Y=function(o){try{if(o==this.g)e:{const ne=Ni(this.g),nt=this.g.ya(),Ee=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||R_(this.g)))){this.K||ne!=4||nt==7||(nt==8||Ee<=0?qa(3):qa(2)),Qh(this);var h=this.g.ca();this.X=h;var d=ww(this);if(this.o=h==200,Tw(this.i,this.v,this.B,this.l,this.S,ne,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,M=this.g;if((y=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var k=y;break t}}k=null}if(o=k)ys(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xh(this,o);else{this.o=!1,this.m=3,Ct(12),Or(this),$a(this);break e}}if(this.R){o=!0;let ot;for(;!this.K&&this.C<d.length;)if(ot=Rw(this,d),ot==Kh){ne==4&&(this.m=4,Ct(14),o=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==s_){this.m=4,Ct(15),ys(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else ys(this.i,this.l,ot,null),Xh(this,ot);if(o_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||d.length!=0||this.h.h||(this.m=1,Ct(16),o=!1),this.o=this.o&&o,!o)ys(this.i,this.l,d,"[Invalid Chunked Response]"),Or(this),$a(this);else if(d.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),sf(z),z.P=!0,Ct(11))}}else ys(this.i,this.l,d,null),Xh(this,d);ne==4&&Or(this),this.o&&!this.K&&(ne==4?M_(this.j,this):(this.o=!1,Kl(this)))}else Bw(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Or(this),$a(this)}}}catch{}finally{}};function ww(o){if(!o_(o))return o.g.la();const h=R_(o.g);if(h==="")return"";let d="";const y=h.length,M=Ni(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Or(o),$a(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<y;k++)o.h.h=!0,d+=o.h.i.decode(h[k],{stream:!(M&&k==y-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function o_(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Rw(o,h){var d=o.C,y=h.indexOf(`
`,d);return y==-1?Kh:(d=Number(h.substring(d,y)),isNaN(d)?s_:(y+=1,y+d>h.length?Kh:(h=h.slice(y,y+d),o.C=y+d,h)))}Ri.prototype.cancel=function(){this.K=!0,Or(this)};function Kl(o){o.T=Date.now()+o.H,l_(o,o.H)}function l_(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ha(c(o.aa,o),h)}function Qh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Ri.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(bw(this.i,this.B),this.M!=2&&(qa(),Ct(17)),Or(this),this.m=2,$a(this)):l_(this,this.T-o)};function $a(o){o.j.I==0||o.K||M_(o.j,o)}function Or(o){Qh(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,Qg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Xh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||Wh(d.h,o))){if(!o.L&&Wh(d.h,o)&&d.I==3){try{var y=d.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var M=y;if(M[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Zl(d),Wl(d);else break e;rf(d),Ct(18)}}else d.xa=M[1],0<d.xa-d.K&&M[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Ha(c(d.Va,d),6e3));h_(d.h)<=1&&d.ta&&(d.ta=void 0)}else Vr(d,11)}else if((o.L||d.g==o)&&Zl(d),!w(h))for(M=d.Ba.g.parse(h),h=0;h<M.length;h++){let Ee=M[h];const ot=Ee[0];if(!(ot<=d.K))if(d.K=ot,Ee=Ee[1],d.I==2)if(Ee[0]=="c"){d.M=Ee[1],d.ba=Ee[2];const Dn=Ee[3];Dn!=null&&(d.ka=Dn,d.j.info("VER="+d.ka));const kr=Ee[4];kr!=null&&(d.za=kr,d.j.info("SVER="+d.za));const xi=Ee[5];xi!=null&&typeof xi=="number"&&xi>0&&(y=1.5*xi,d.O=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const Di=o.g;if(Di){const tu=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var k=y.h;k.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Jh(k,k.h),k.h=null))}if(y.G){const af=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(y.wa=af,Ae(y.J,y.G,af))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),y=d;var z=o;if(y.na=L_(y,y.L?y.ba:null,y.W),z.L){f_(y.h,z);var ne=z,nt=y.O;nt&&(ne.H=nt),ne.D&&(Qh(ne),Kl(ne)),y.g=z}else D_(y);d.i.length>0&&Jl(d)}else Ee[0]!="stop"&&Ee[0]!="close"||Vr(d,7);else d.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Vr(d,7):nf(d):Ee[0]!="noop"&&d.l&&d.l.qa(Ee),d.A=0)}}qa(4)}catch{}}var Cw=class{constructor(o,h){this.g=o,this.map=h}};function u_(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function c_(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function h_(o){return o.h?1:o.g?o.g.size:0}function Wh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Jh(o,h){o.g?o.g.add(h):o.h=h}function f_(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}u_.prototype.cancel=function(){if(this.i=d_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function d_(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return _(o.i)}var m_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Iw(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const y=o[d].indexOf("=");let M,k=null;y>=0?(M=o[d].substring(0,y),k=o[d].substring(y+1)):M=o[d],h(M,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ci(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof Ci?(this.l=o.l,Ka(this,o.j),this.o=o.o,this.g=o.g,Ya(this,o.u),this.h=o.h,Zh(this,E_(o.i)),this.m=o.m):o&&(h=String(o).match(m_))?(this.l=!1,Ka(this,h[1]||"",!0),this.o=Qa(h[2]||""),this.g=Qa(h[3]||"",!0),Ya(this,h[4]),this.h=Qa(h[5]||"",!0),Zh(this,h[6]||"",!0),this.m=Qa(h[7]||"")):(this.l=!1,this.i=new Wa(null,this.l))}Ci.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(Xa(h,p_,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Xa(h,p_,!0),"@"),o.push(Ga(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Xa(d,d.charAt(0)=="/"?Dw:xw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Xa(d,Mw)),o.join("")},Ci.prototype.resolve=function(o){const h=xn(this);let d=!!o.j;d?Ka(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var y=o.h;if(d)Ya(h,o.u);else if(d=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var M=h.h.lastIndexOf("/");M!=-1&&(y=h.h.slice(0,M+1)+y)}if(M=y,M==".."||M==".")y="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){y=M.lastIndexOf("/",0)==0,M=M.split("/");const k=[];for(let z=0;z<M.length;){const ne=M[z++];ne=="."?y&&z==M.length&&k.push(""):ne==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),y&&z==M.length&&k.push("")):(k.push(ne),y=!0)}y=k.join("/")}else y=M}return d?h.h=y:d=o.i.toString()!=="",d?Zh(h,E_(o.i)):d=!!o.m,d&&(h.m=o.m),h};function xn(o){return new Ci(o)}function Ka(o,h,d){o.j=d?Qa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Ya(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Zh(o,h,d){h instanceof Wa?(o.i=h,Vw(o.i,o.l)):(d||(h=Xa(h,Ow)),o.i=new Wa(h,o.l))}function Ae(o,h,d){o.i.set(h,d)}function Yl(o){return Ae(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Qa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xa(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,Nw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Nw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var p_=/[#\/\?@]/g,xw=/[#\?:]/g,Dw=/[#\?]/g,Ow=/[#\?@]/g,Mw=/#/g;function Wa(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Mr(o){o.g||(o.g=new Map,o.h=0,o.i&&Iw(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Wa.prototype,t.add=function(o,h){Mr(this),this.i=null,o=vs(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function g_(o,h){Mr(o),h=vs(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function __(o,h){return Mr(o),h=vs(o,h),o.g.has(h)}t.forEach=function(o,h){Mr(this),this.g.forEach(function(d,y){d.forEach(function(M){o.call(h,M,y,this)},this)},this)};function y_(o,h){Mr(o);let d=[];if(typeof h=="string")__(o,h)&&(d=d.concat(o.g.get(vs(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return Mr(this),this.i=null,o=vs(this,o),__(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=y_(this,o),o.length>0?String(o[0]):h):h};function v_(o,h,d){g_(o,h),d.length>0&&(o.i=null,o.g.set(vs(o,h),_(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var d=h[y];const M=Ga(d);d=y_(this,d);for(let k=0;k<d.length;k++){let z=M;d[k]!==""&&(z+="="+Ga(d[k])),o.push(z)}}return this.i=o.join("&")};function E_(o){const h=new Wa;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function vs(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Vw(o,h){h&&!o.j&&(Mr(o),o.i=null,o.g.forEach(function(d,y){const M=y.toLowerCase();y!=M&&(g_(this,y),v_(this,M,d))},o)),o.j=h}function kw(o,h){const d=new Fa;if(a.Image){const y=new Image;y.onload=f(Ii,d,"TestLoadImage: loaded",!0,h,y),y.onerror=f(Ii,d,"TestLoadImage: error",!1,h,y),y.onabort=f(Ii,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=f(Ii,d,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function Lw(o,h){const d=new Fa,y=new AbortController,M=setTimeout(()=>{y.abort(),Ii(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(k=>{clearTimeout(M),k.ok?Ii(d,"TestPingServer: ok",!0,h):Ii(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Ii(d,"TestPingServer: error",!1,h)})}function Ii(o,h,d,y,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),y(d)}catch{}}function Pw(){this.g=new vw}function ef(o){this.i=o.Sb||null,this.h=o.ab||!1}m(ef,Xg),ef.prototype.g=function(){return new Ql(this.i,this.h)};function Ql(o,h){Et.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ql,Et),t=Ql.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Za(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;T_(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function T_(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Ja(this):Za(this),this.readyState==3&&T_(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Ja(this))},t.Na=function(o){this.g&&(this.response=o,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Za(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Za(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function b_(o){let h="";return ce(o,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function tf(o,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=b_(d),typeof o=="string"?d!=null&&Ga(d):Ae(o,h,d))}function Pe(o){Et.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Pe,Et);var Uw=/^https?$/i,jw=["POST","PUT"];t=Pe.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():i_.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(k){S_(this,k);return}if(o=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var M in y)d.set(M,y[M]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const k of y.keys())d.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(k=>k.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(jw,h,void 0)>=0)||y||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,z]of d)this.g.setRequestHeader(k,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){S_(this,k)}};function S_(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,A_(o),Xl(o)}function A_(o){o.A||(o.A=!0,Rt(o,"complete"),Rt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Rt(this,"complete"),Rt(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),Pe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?w_(this):this.Xa())},t.Xa=function(){w_(this)};function w_(o){if(o.h&&typeof s<"u"){if(o.v&&Ni(o)==4)setTimeout(o.Ca.bind(o),0);else if(Rt(o,"readystatechange"),Ni(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=k===0){let z=String(o.D).match(m_)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),y=!Uw.test(z?z.toLowerCase():"")}d=y}if(d)Rt(o,"complete"),Rt(o,"success");else{o.o=6;try{var M=Ni(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",A_(o)}}finally{Xl(o)}}}}function Xl(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||Rt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),yw(h)}};function R_(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Bw(o){const h={};o=(o.g&&Ni(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var d=Aw(o[y]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const k=h[M]||[];h[M]=k,k.push(d)}Ve(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function eo(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function C_(o){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=eo("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=eo("baseRetryDelayMs",5e3,o),this.Za=eo("retryDelaySeedMs",1e4,o),this.Ta=eo("forwardChannelMaxRetries",2,o),this.va=eo("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new u_(o&&o.concurrentRequestLimit),this.Ba=new Pw,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=C_.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,y){Ct(0),this.W=o,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.J=L_(this,null,this.W),Jl(this)};function nf(o){if(I_(o),o.I==3){var h=o.V++,d=xn(o.J);if(Ae(d,"SID",o.M),Ae(d,"RID",h),Ae(d,"TYPE","terminate"),to(o,d),h=new Ri(o,o.j,h),h.M=2,h.A=Yl(xn(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=P_(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Kl(h)}k_(o)}function Wl(o){o.g&&(sf(o),o.g.cancel(),o.g=null)}function I_(o){Wl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Zl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Jl(o){if(!c_(o.h)&&!o.m){o.m=!0;var h=o.Ea;B||E(),q||(B(),q=!0),S.add(h,o),o.D=0}}function zw(o,h){return h_(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ha(c(o.Ea,o,h),V_(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new Ri(this,this.j,o);let k=this.o;if(this.U&&(k?(k=sn(k),_s(k,this.U)):k=this.U),this.u!==null||this.R||(M.J=k,k=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=x_(this,M,h),d=xn(this.J),Ae(d,"RID",o),Ae(d,"CVER",22),this.G&&Ae(d,"X-HTTP-Session-Id",this.G),to(this,d),k&&(this.R?h="headers="+Ga(b_(k))+"&"+h:this.u&&tf(d,this.u,k)),Jh(this.h,M),this.Ra&&Ae(d,"TYPE","init"),this.S?(Ae(d,"$req",h),Ae(d,"SID","null"),M.U=!0,Yh(M,d,null)):Yh(M,d,h),this.I=2}}else this.I==3&&(o?N_(this,o):this.i.length==0||c_(this.h)||N_(this))};function N_(o,h){var d;h?d=h.l:d=o.V++;const y=xn(o.J);Ae(y,"SID",o.M),Ae(y,"RID",d),Ae(y,"AID",o.K),to(o,y),o.u&&o.o&&tf(y,o.u,o.o),d=new Ri(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=x_(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Jh(o.h,d),Yh(d,y,h)}function to(o,h){o.H&&ce(o.H,function(d,y){Ae(h,y,d)}),o.l&&ce({},function(d,y){Ae(h,y,d)})}function x_(o,h,d){d=Math.min(o.i.length,d);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var M=o.i;let ne=-1;for(;;){const nt=["count="+d];ne==-1?d>0?(ne=M[0].g,nt.push("ofs="+ne)):ne=0:nt.push("ofs="+ne);let Ee=!0;for(let ot=0;ot<d;ot++){var k=M[ot].g;const Dn=M[ot].map;if(k-=ne,k<0)ne=Math.max(0,M[ot].g-100),Ee=!1;else try{k="req"+k+"_"||"";try{var z=Dn instanceof Map?Dn:Object.entries(Dn);for(const[kr,xi]of z){let Di=xi;l(xi)&&(Di=Hh(xi)),nt.push(k+kr+"="+encodeURIComponent(Di))}}catch(kr){throw nt.push(k+"type="+encodeURIComponent("_badmap")),kr}}catch{y&&y(Dn)}}if(Ee){z=nt.join("&");break e}}z=void 0}return o=o.i.splice(0,d),h.G=o,z}function D_(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;B||E(),q||(B(),q=!0),S.add(h,o),o.A=0}}function rf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ha(c(o.Da,o),V_(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,O_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ha(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Wl(this),O_(this))};function sf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function O_(o){o.g=new Ri(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=xn(o.na);Ae(h,"RID","rpc"),Ae(h,"SID",o.M),Ae(h,"AID",o.K),Ae(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ae(h,"TO",o.ia),Ae(h,"TYPE","xmlhttp"),to(o,h),o.u&&o.o&&tf(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Yl(xn(h)),d.u=null,d.R=!0,a_(d,o)}t.Va=function(){this.C!=null&&(this.C=null,Wl(this),rf(this),Ct(19))};function Zl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function M_(o,h){var d=null;if(o.g==h){Zl(o),sf(o),o.g=null;var y=2}else if(Wh(o.h,h))d=h.G,f_(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var M=o.D;y=Gl(),Rt(y,new t_(y,d)),Jl(o)}else D_(o);else if(M=h.m,M==3||M==0&&h.X>0||!(y==1&&zw(o,h)||y==2&&rf(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),M){case 1:Vr(o,5);break;case 4:Vr(o,10);break;case 3:Vr(o,6);break;default:Vr(o,2)}}}function V_(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function Vr(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),y=o.Ua;const M=!y;y=new Ci(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ka(y,"https"),Yl(y),M?kw(y.toString(),d):Lw(y.toString(),d)}else Ct(2);o.I=0,o.l&&o.l.pa(h),k_(o),I_(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function k_(o){if(o.I=0,o.ja=[],o.l){const h=d_(o.h);(h.length!=0||o.i.length!=0)&&(I(o.ja,h),I(o.ja,o.i),o.h.i.length=0,_(o.i),o.i.length=0),o.l.oa()}}function L_(o,h,d){var y=d instanceof Ci?xn(d):new Ci(d);if(y.g!="")h&&(y.g=h+"."+y.g),Ya(y,y.u);else{var M=a.location;y=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const k=new Ci(null);y&&Ka(k,y),h&&(k.g=h),M&&Ya(k,M),d&&(k.h=d),y=k}return d=o.G,h=o.wa,d&&h&&Ae(y,d,h),Ae(y,"VER",o.ka),to(o,y),y}function P_(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Pe(new ef({ab:d})):new Pe(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function U_(){}t=U_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eu(){}eu.prototype.g=function(o,h){return new Ht(o,h)};function Ht(o,h){Et.call(this),this.g=new C_(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!w(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Es(this)}m(Ht,Et),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){nf(this.g)},Ht.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Hh(o),o=d);h.i.push(new Cw(h.Ya++,o)),h.I==3&&Jl(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,nf(this.g),delete this.g,Ht.Z.N.call(this)};function j_(o){Fh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m(j_,Fh);function B_(){Gh.call(this),this.status=1}m(B_,Gh);function Es(o){this.g=o}m(Es,U_),Es.prototype.ra=function(){Rt(this.g,"a")},Es.prototype.qa=function(o){Rt(this.g,new j_(o))},Es.prototype.pa=function(o){Rt(this.g,new B_)},Es.prototype.oa=function(){Rt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,qS=function(){return new eu},zS=function(){return Gl()},BS=Dr,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,Fu=$l,n_.COMPLETE="complete",jS=n_,Wg.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Eo=Wg,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,US=Pe}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.8.0";function KO(t){Ma=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Fp("@firebase/firestore");function Rs(){return rs.logLevel}function G(t,...e){if(rs.logLevel<=se.DEBUG){const n=e.map(Kp);rs.debug(`Firestore (${Ma}): ${t}`,...n)}}function Ti(t,...e){if(rs.logLevel<=se.ERROR){const n=e.map(Kp);rs.error(`Firestore (${Ma}): ${t}`,...n)}}function da(t,...e){if(rs.logLevel<=se.WARN){const n=e.map(Kp);rs.warn(`Firestore (${Ma}): ${t}`,...n)}}function Kp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,HS(t,i,n)}function HS(t,e,n){let i=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ti(i),new Error(i)}function pe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||HS(e,r,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class QO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XO{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe(typeof i.accessToken=="string",31837,{l:i}),new FS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class WO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new WO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const i=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=e4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function fm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return Jf(r)===Jf(s)?ae(r,s):Jf(r)?1:-1}return ae(t.length,e.length)}const t4=55296,n4=57343;function Jf(t){const e=t.charCodeAt(0);return e>=t4&&e<=n4}function ma(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class Mn{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&X(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=Mn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const i=Mn.isNumericId(e),r=Mn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class be extends Mn{construct(e,n,i){return new be(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new be(n)}static emptyPath(){return new be([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Mn{construct(e,n,i){return new gt(e,n,i)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new gt([Vv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new $(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new $(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new $(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(be.fromString(e))}static fromName(e){return new K(be.fromString(e).popFirst(5))}static empty(){return new K(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){if(!n)throw new $(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,i){if(e===!0&&i===!0)throw new $(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kv(t){if(!K.isDocumentKey(t))throw new $(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lv(t){if(K.isDocumentKey(t))throw new $(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $S(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new $(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vl(t,e){if(!$S(t))throw new $(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new $(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-62135596800,Uv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Uv);return new Ce(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pv)throw new $(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:et("string",Ce._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Ce(0,0))}static max(){return new J(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function s4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new Ce(n+1,0):new Ce(n,i));return new yr(r,K.empty(),e)}function a4(t){return new yr(t.readTime,t.key,ul)}class yr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new yr(J.min(),K.empty(),ul)}static max(){return new yr(J.max(),K.empty(),ul)}}function o4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==l4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(r=>r?j.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new j((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new j((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function c4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function Th(t){return t==null}function Oc(t){return t===0&&1/t==-1/0}function h4(t){return typeof t=="number"&&Number.isInteger(t)&&!Oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="";function f4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jv(e)),e=d4(t.get(n),e);return jv(e)}function d4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case KS:n+="";break;default:n+=s}}return n}function jv(t){return t+KS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??dt.RED,this.left=r??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new dt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new rt(gt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QS("Invalid base64 string: "+s):s}}(e);return new vt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=m4.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Er(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",WS="__type__",JS="__previous_value__",ZS="__local_write_time__";function Xp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WS])==null?void 0:i.stringValue)===XS}function bh(t){const e=t.mapValue.fields[JS];return Xp(e)?bh(e):e}function cl(t){const e=vr(t.mapValue.fields[ZS].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,i,r,s,a,l,u,c,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=m}}const Mc="(default)";class hl{constructor(e,n){this.projectId=e,this.database=n||Mc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}function g4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="__type__",_4="__max__",Tu={mapValue:{}},tA="__vector__",Vc="value";function Tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xp(t)?4:v4(t)?9007199254740991:y4(t)?10:11:X(28295,{value:t})}function Gn(t,e){if(t===e)return!0;const n=Tr(t);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=vr(r.timestampValue),l=vr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Er(r.bytesValue).isEqual(Er(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return He(r.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return He(r.integerValue)===He(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=He(r.doubleValue),l=He(s.doubleValue);return a===l?Oc(a)===Oc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ma(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Bv(a)!==Bv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Gn(a[u],l[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function fl(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function pa(t,e){if(t===e)return 0;const n=Tr(t),i=Tr(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=He(s.integerValue||s.doubleValue),u=He(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return qv(t.timestampValue,e.timestampValue);case 4:return qv(cl(t),cl(e));case 5:return fm(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Er(s),u=Er(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=ae(l[c],u[c]);if(f!==0)return f}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ae(He(s.latitude),He(a.latitude));return l!==0?l:ae(He(s.longitude),He(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var g,_,I,N;const l=s.fields||{},u=a.fields||{},c=(g=l[Vc])==null?void 0:g.arrayValue,f=(_=u[Vc])==null?void 0:_.arrayValue,m=ae(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return m!==0?m:Hv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Tu.mapValue&&a===Tu.mapValue)return 0;if(s===Tu.mapValue)return 1;if(a===Tu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=fm(u[m],f[m]);if(g!==0)return g;const _=pa(l[u[m]],c[f[m]]);if(_!==0)return _}return ae(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function qv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=vr(t),i=vr(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function Hv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=pa(n[r],i[r]);if(s)return s}return ae(n.length,i.length)}function ga(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=dm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${dm(n.fields[a])}`;return r+"}"}(t.mapValue):X(61005,{value:t})}function Gu(t){switch(Tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(t);return e?16+Gu(e):16;case 5:return 2*t.stringValue.length;case 6:return Er(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Gu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Cr(i.fields,(s,a)=>{r+=s.length+Gu(a)}),r}(t.mapValue);default:throw X(13486,{value:t})}}function Fv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mm(t){return!!t&&"integerValue"in t}function Wp(t){return!!t&&"arrayValue"in t}function Gv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function y4(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eA])==null?void 0:i.stringValue)===tA}function Bo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bo(t.arrayValue.values[n]);return e}return{...t}}function v4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(n)}setAll(e){let n=gt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Bo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];$u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Cr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ut(Bo(this.value))}}function nA(t){const e=[];return Cr(t.fields,(n,i)=>{const r=new gt([n]);if($u(i)){const s=nA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new At(e,0,J.min(),J.min(),J.min(),Ut.empty(),0)}static newFoundDocument(e,n,i,r){return new At(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new At(e,2,n,J.min(),J.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,J.min(),J.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function Kv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(a.referenceValue),n.key):i=pa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function E4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class Je extends iA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new b4(e,n,i):n==="array-contains"?new w4(e,i):n==="in"?new R4(e,i):n==="not-in"?new C4(e,i):n==="array-contains-any"?new I4(e,i):new Je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new S4(e,i):new A4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pa(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends iA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rn(e,n)}matches(e){return rA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rA(t){return t.op==="and"}function sA(t){return T4(t)&&rA(t)}function T4(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function pm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(sA(t))return t.filters.map(e=>pm(e)).join(",");{const e=t.filters.map(n=>pm(n)).join(",");return`${t.op}(${e})`}}function aA(t,e){return t instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Gn(i.value,r.value)}(t,e):t instanceof Rn?function(i,r){return r instanceof Rn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&aA(a,r.filters[l]),!0):!1}(t,e):void X(19439)}function oA(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(t):"Filter"}class b4 extends Je{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class S4 extends Je{constructor(e,n){super(e,"in",n),this.keys=lA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A4 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=lA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class w4 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&fl(n.arrayValue,this.value)}}class R4 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class C4 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fl(this.value.arrayValue,n)}}class I4 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Qv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new N4(t,e,n,i,r,s,a)}function Jp(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>pm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),e.Te=n}return e.Te}function Zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yv(t.startAt,e.startAt)&&Yv(t.endAt,e.endAt)}function gm(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function x4(t,e,n,i,r,s,a,l){return new kl(t,e,n,i,r,s,a,l)}function eg(t){return new kl(t)}function Xv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D4(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function uA(t){return t.collectionGroup!==null}function zo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rt(gt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Lc(s,i))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new Lc(gt.keyField(),i))}return e.Ie}function Bn(t){const e=Z(t);return e.Ee||(e.Ee=O4(e,zo(t))),e.Ee}function O4(t,e){if(t.limitType==="F")return Qv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Lc(r.field,s)});const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return Qv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _m(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return Zp(Bn(t),Bn(e))&&t.limitType===e.limitType}function cA(t){return`${Jp(Bn(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>oA(r)).join(", ")}]`),Th(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ga(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ga(r)).join(",")),`Target(${i})`}(Bn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of zo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Kv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,zo(i),r)||i.endAt&&!function(a,l,u){const c=Kv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,zo(i),r))}(t,e)}function M4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hA(t){return(e,n)=>{let i=!1;for(const r of zo(t)){const s=V4(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function V4(t,e,n){const i=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?pa(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return YS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new Le(K.comparator);function bi(){return k4}const fA=new Le(K.comparator);function To(...t){let e=fA;for(const n of t)e=e.insert(n.key,n);return e}function dA(t){let e=fA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function qr(){return qo()}function mA(){return qo()}function qo(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const L4=new Le(K.comparator),P4=new rt(K.comparator);function oe(...t){let e=P4;for(const n of t)e=e.add(n);return e}const U4=new rt(ae);function j4(){return U4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function B4(t,e){return h4(e)?pA(e):tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function z4(t,e,n){return t instanceof Pc?function(r,s){const a={fields:{[WS]:{stringValue:XS},[ZS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Xp(s)&&(s=bh(s)),s&&(a.fields[JS]=s),{mapValue:a}}(n,e):t instanceof dl?_A(t,e):t instanceof ml?yA(t,e):function(r,s){const a=gA(r,s),l=Wv(a)+Wv(r.Ae);return mm(a)&&mm(r.Ae)?pA(l):tg(r.serializer,l)}(t,e)}function q4(t,e,n){return t instanceof dl?_A(t,e):t instanceof ml?yA(t,e):n}function gA(t,e){return t instanceof Uc?function(i){return mm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Pc extends wh{}class dl extends wh{constructor(e){super(),this.elements=e}}function _A(t,e){const n=vA(e);for(const i of t.elements)n.some(r=>Gn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ml extends wh{constructor(e){super(),this.elements=e}}function yA(t,e){let n=vA(e);for(const i of t.elements)n=n.filter(r=>!Gn(r,i));return{arrayValue:{values:n}}}class Uc extends wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wv(t){return He(t.integerValue||t.doubleValue)}function vA(t){return Wp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof dl&&r instanceof dl||i instanceof ml&&r instanceof ml?ma(i.elements,r.elements,Gn):i instanceof Uc&&r instanceof Uc?Gn(i.Ae,r.Ae):i instanceof Pc&&r instanceof Pc}(t.transform,e.transform)}class F4{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ng(t.key,Sn.none()):new Ll(t.key,t.data,Sn.none());{const n=t.data,i=Ut.empty();let r=new rt(gt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Ir(t.key,i,new Qt(r.toArray()),Sn.none())}}function G4(t,e,n){t instanceof Ll?function(r,s,a){const l=r.value.clone(),u=Zv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(r,s,a){if(!Ku(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Zv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(TA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ho(t,e,n,i){return t instanceof Ll?function(s,a,l,u){if(!Ku(s.precondition,a))return l;const c=s.value.clone(),f=eE(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ir?function(s,a,l,u){if(!Ku(s.precondition,a))return l;const c=eE(s.fieldTransforms,u,a),f=a.data;return f.setAll(TA(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,a,l){return Ku(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function $4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=gA(i.transform,r||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(i.field,s))}return n||null}function Jv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ma(i,r,(s,a)=>H4(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends Rh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ir extends Rh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Zv(t,e,n){const i=new Map;pe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,q4(a,l,n[r]))}return i}function eE(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,z4(s,a,e))}return i}class ng extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K4 extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&G4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ho(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ho(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=mA();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=EA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(n,i)=>Jv(n,i))&&ma(this.baseMutations,e.baseMutations,(n,i)=>Jv(n,i))}}class ig{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){pe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return L4}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new ig(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,he;function W4(t){switch(t){case U.OK:return X(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function bA(t){if(t===void 0)return Ti("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ye.OK:return U.OK;case Ye.CANCELLED:return U.CANCELLED;case Ye.UNKNOWN:return U.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return U.INTERNAL;case Ye.UNAVAILABLE:return U.UNAVAILABLE;case Ye.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ye.NOT_FOUND:return U.NOT_FOUND;case Ye.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ye.ABORTED:return U.ABORTED;case Ye.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ye.DATA_LOSS:return U.DATA_LOSS;default:return X(39323,{code:t})}}(he=Ye||(Ye={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new ur([4294967295,4294967295],0);function tE(t){const e=J4().encode(t),n=new PS;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ur([n,i],0),new ur([r,s],0)]}class rg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(i<0)throw new bo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ur.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(ur.fromNumber(i)));return r.compare(Z4)===1&&(r=new ur([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tE(e),[i,r]=nE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new rg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=tE(e),[i,r]=nE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ch(J.min(),r,new Le(ae),bi(),oe())}}class Pl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pl(i,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class SA{constructor(e,n){this.targetId=e,this.Ce=n}}class AA{constructor(e,n,i=vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class iE{constructor(){this.ve=0,this.Fe=rE(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),i=oe();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new Pl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=rE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eM{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.He=bu(),this.Je=bu(),this.Ze=new Le(ae)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(gm(s))if(i===0){const a=new K(s.path);this.et(n,a,At.newNoDocument(a,J.min()))}else pe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Er(i).toUint8Array()}catch(u){if(u instanceof QS)return da("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rg(a,r,s)}catch(u){return da(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&gm(l.target)){const u=new K(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,At.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=oe();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new Ch(e,n,this.Ze,this.je,i);return this.je=bi(),this.He=bu(),this.Je=bu(),this.Ze=new Le(ae),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rt(ae),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rt(ae),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Le(K.comparator)}function rE(){return new Le(K.comparator)}const tM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM={and:"AND",or:"OR"};class rM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sM(t,e){return jc(t,e.toTimestamp())}function zn(t){return pe(!!t,49232),J.fromTimestamp(function(n){const i=vr(n);return new Ce(i.seconds,i.nanos)}(t))}function sg(t,e){return Em(t,e).canonicalString()}function Em(t,e){const n=function(r){return new be(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RA(t){const e=be.fromString(t);return pe(DA(e),10190,{key:e.toString()}),e}function Tm(t,e){return sg(t.databaseId,e.path)}function Zf(t,e){const n=RA(e);if(n.get(1)!==t.databaseId.projectId)throw new $(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(IA(n))}function CA(t,e){return sg(t.databaseId,e)}function aM(t){const e=RA(t);return e.length===4?be.emptyPath():IA(e)}function bm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sE(t,e,n){return{name:Tm(t,e),fields:n.value.mapValue.fields}}function oM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(pe(f===void 0||typeof f=="string",58123),vt.fromBase64String(f||"")):(pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),vt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?U.UNKNOWN:bA(c.code);return new $(f,c.message||"")}(a);n=new AA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Zf(t,i.document.name),s=zn(i.document.updateTime),a=i.document.createTime?zn(i.document.createTime):J.min(),l=new Ut({mapValue:{fields:i.document.fields}}),u=At.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Yu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Zf(t,i.document),s=i.readTime?zn(i.readTime):J.min(),a=At.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Yu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Zf(t,i.document),s=i.removedTargetIds||[];n=new Yu([],s,r,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new X4(r,s),l=i.targetId;n=new SA(l,a)}}return n}function lM(t,e){let n;if(e instanceof Ll)n={update:sE(t,e.key,e.value)};else if(e instanceof ng)n={delete:Tm(t,e.key)};else if(e instanceof Ir)n={update:sE(t,e.key,e.data),updateMask:_M(e.fieldMask)};else{if(!(e instanceof K4))return X(16599,{dt:e.type});n={verify:Tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Pc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ml)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Uc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw X(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:sM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function uM(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?zn(r.updateTime):zn(s);return a.isEqual(J.min())&&(a=zn(s)),new F4(a,r.transformResults||[])}(n,e))):[]}function cM(t,e){return{documents:[CA(t,e.path)]}}function hM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CA(t,r);const s=function(c){if(c.length!==0)return xA(Rn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Is(g.field),direction:mM(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=vm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function fM(t){let e=aM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){pe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=NA(m);return g instanceof Rn&&sA(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(I){return new Lc(Ns(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Th(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,_=m.values||[];return new kc(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,_=m.values||[];return new kc(_,g)}(n.endAt)),x4(e,r,a,s,l,"F",u,c)}function dM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ns(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ns(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ns(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ns(n.unaryFilter.field);return Je.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Ns(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>NA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function mM(t){return tM[t]}function pM(t){return nM[t]}function gM(t){return iM[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Ns(t){return gt.fromServerFormat(t.fieldPath)}function xA(t){return t instanceof Je?function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:pM(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const i=n.getFilters().map(r=>xA(r));return i.length===1?i[0]:{compositeFilter:{op:gM(n.op),filters:i}}}(t):X(54877,{filter:t})}function _M(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function OA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,i,r,s=J.min(),a=J.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.yt=e}}function vM(t){const e=fM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Sn=new TM}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(yr.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class TM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new rt(be.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new rt(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MA=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(MA,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _a(0)}static ar(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",bM=1048576;function lE([t,e],[n,i]){const r=ae(t,n);return r===0?ae(e,i):r}class SM{constructor(e){this.Pr=e,this.buffer=new rt(lE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();lE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(oE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?G(oE,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.Ar(3e5)})}}class wM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Eh.ce);const i=new SM(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(aE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),Rs()<=se.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function RM(t,e){return new wM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ho(i.mutation,r,Qt.empty(),Ce.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,oe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=oe()){const r=qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=To();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,oe()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=bi();const a=qo(),l=function(){return qo()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Ir)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Ho(f.mutation,c,f.mutation.getFieldMask(),Ce.now())):a.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new IM(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=qo();let r=new Le((a,l)=>a-l),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Qt.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||oe()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=mA();f.forEach(g=>{if(!s.has(g)){const _=EA(n.get(g),i.get(g));_!==null&&m.set(g,_),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return j.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return D4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):j.resolve(qr());let l=ul,u=s;return a.next(c=>j.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(f=>({batchId:l,changes:dA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=To();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=To();return this.indexManager.getCollectionParents(e,s).next(l=>j.forEach(l,u=>{const c=function(m,g){return new kl(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,At.newInvalidDocument(f)))});let l=To();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Ho(f.mutation,c,Qt.empty(),Ce.now()),Ah(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:vM(r.bundledQuery),readTime:zn(r.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.overlays=new Le(K.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=qr();return j.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const r=qr(),s=n.length+1,a=new K(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return j.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Le((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=qr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=qr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return j.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Q4(n,i));let s=this.Lr.get(n);s===void 0&&(s=oe(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.kr=new rt(lt.Kr),this.qr=new rt(lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new lt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new lt(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new K(new be([])),i=new lt(n,e),r=new lt(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new K(new be([])),i=new lt(n,e),r=new lt(n,e+1);let s=oe();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new lt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class lt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return K.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(lt.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Y4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new lt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Qp:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new lt(n,0),r=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rt(ae);return n.forEach(r=>{const s=new lt(r,0),a=new lt(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),j.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;K.isDocumentKey(s)||(s=s.child(""));const a=new lt(new K(s),0);let l=new rt(ae);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){pe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return j.forEach(n.mutations,r=>{const s=new lt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new lt(n,0),r=this.Jr.firstAfterOrEqual(i);return j.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.ti=e,this.docs=function(){return new Le(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let i=bi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():At.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=bi();const a=n.path,l=new K(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||o4(a4(f),i)<=0||(r.has(f.key)||Ah(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X(9500)}ni(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new kM(this)}getSize(e){return j.resolve(this.size)}}class kM extends CM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.persistence=e,this.ri=new ms(n=>Jp(n),Zp),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new ag,this.targetCount=0,this.oi=_a._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),j.waitFor(s).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new OM,this.referenceDelegate=e(this),this.li=new LM(this),this.indexManager=new EM,this.remoteDocumentCache=function(r){return new VM(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new yM(n),this.Pi=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new MM(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);const r=new PM(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return j.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class PM extends u4{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new ag,this.Ai=null}static Vi(e){return new og(e)}get di(){if(this.Ai)return this.Ai;throw X(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,i=>{const r=K.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,J.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Bc{constructor(e,n){this.persistence=e,this.fi=new ms(i=>f4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=RM(this,n)}static Vi(e,n){return new Bc(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?j.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,J.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gu(e.data.value)),n}wr(e,n,i){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return j.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=oe(),r=oe();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new lg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return ND()?8:c4(wt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new UM;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(Rs()<=se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Rs()<=se.DEBUG&&G("QueryEngine","Query:",Cs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Rs()<=se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):j.resolve())}gs(e,n){if(Xv(n))return j.resolve(null);let i=Bn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ym(n,null,"F"),i=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=oe(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,ym(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,r){return Xv(n)||r.isEqual(J.min())?j.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?j.resolve(null):(Rs()<=se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cs(n)),this.Ds(e,a,n,s4(r,ul)).next(l=>l))})}bs(e,n){let i=new rt(hA(e));return n.forEach((r,s)=>{Ah(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return Rs()<=se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.fs.getDocumentsMatchingQuery(e,n,yr.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",BM=3e8;class zM{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Le(ae),this.Fs=new ms(s=>Jp(s),Zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function qM(t,e,n,i){return new zM(t,e,n,i)}async function kA(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=oe();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function HM(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let _=j.resolve();return g.forEach(I=>{_=_.next(()=>f.getEntry(u,I)).next(N=>{const D=c.docVersions.get(I);pe(D!==null,48541),N.version.compareTo(D)<0&&(m.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=oe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function LA(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function FM(t,e){const n=Z(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((f,m)=>{const g=r.get(m);if(!g)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,m)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,i)),r=r.insert(m,_),function(N,D,b){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=BM?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,_,f)&&l.push(n.li.updateTargetData(s,_))});let u=bi(),c=oe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(GM(s,a,e.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(J.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return j.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function GM(t,e,n){let i=oe(),r=oe();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=bi();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):G(ug,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function $M(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KM(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,j.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Wi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function Sm(t,e,n){const i=Z(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ka(a))throw a;G(ug,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function uE(t,e,n){const i=Z(t);let r=J.min(),s=oe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const m=Z(u),g=m.Fs.get(f);return g!==void 0?j.resolve(m.vs.get(g)):m.li.getTargetData(c,f)}(i,a,Bn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:J.min(),n?s:oe())).next(l=>(YM(i,M4(e),l),{documents:l,ks:s})))}function YM(t,e,n){let i=t.Ms.get(e)||J.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class cE{constructor(){this.activeTargetIds=j4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QM{constructor(){this.vo=new cE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(hE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Am(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class JM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Mc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=Am(),l=this.Qo(e,n.toUriEncodedString());G(ed,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),f=Rr(c);return this.zo(e,l,u,i,f).then(m=>(G(ed,`Received RPC '${e}' ${a}: `,m),m),m=>{throw da(ed,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=WM[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection",co=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Xs extends JM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xs.c_){const e=zS();co(e,BS.STAT_EVENT,n=>{n.stat===hm.PROXY?G(bt,"STAT_EVENT: detected buffering proxy"):n.stat===hm.NOPROXY&&G(bt,"STAT_EVENT: detected no buffering proxy")}),Xs.c_=!0}}zo(e,n,i,r,s){const a=Am();return new Promise((l,u)=>{const c=new US;c.setWithCredentials(!0),c.listenOnce(jS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fu.NO_ERROR:const m=c.getResponseJson();G(bt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Fu.TIMEOUT:G(bt,`RPC '${e}' ${a} timed out`),u(new $(U.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const g=c.getStatus();if(G(bt,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const N=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(I.status);u(new $(N,I.message))}else u(new $(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(U.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(bt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);G(bt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=Am(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");G(bt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let m=!1,g=!1;const _=new ZM({Ho:I=>{g?G(bt,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(m||(G(bt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),G(bt,`RPC '${e}' stream ${r} sending:`,I),f.send(I))},Jo:()=>f.close()});return co(f,Eo.EventType.OPEN,()=>{g||(G(bt,`RPC '${e}' stream ${r} transport opened.`),_.i_())}),co(f,Eo.EventType.CLOSE,()=>{g||(g=!0,G(bt,`RPC '${e}' stream ${r} transport closed`),_.o_(),this.E_(f))}),co(f,Eo.EventType.ERROR,I=>{g||(g=!0,da(bt,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),_.o_(new $(U.UNAVAILABLE,"The operation could not be completed")))}),co(f,Eo.EventType.MESSAGE,I=>{var N;if(!g){const D=I.data[0];pe(!!D,16349);const b=D,v=(b==null?void 0:b.error)||((N=b[0])==null?void 0:N.error);if(v){G(bt,`RPC '${e}' stream ${r} received error:`,v);const T=v.status;let x=function(S){const E=Ye[S];if(E!==void 0)return bA(E)}(T),B=v.message;x===void 0&&(x=U.INTERNAL,B="Unknown error status: "+T+" with message "+v.message),g=!0,_.o_(new $(x,B)),f.close()}else G(bt,`RPC '${e}' stream ${r} received:`,D),_.__(D)}}),Xs.u_(),setTimeout(()=>{_.s_()},0),_}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){return new Xs(t)}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new rM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs.c_=!1;class PA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class UA{constructor(e,n,i,r,s,a,l,u){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new $(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tV extends UA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oM(this.serializer,e),i=function(s){if(!("targetChange"in s))return J.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?zn(a.readTime):J.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=gm(u)?{documents:cM(s,u)}:{query:hM(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=wA(s,a.resumeToken);const c=vm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=jc(s,a.snapshotVersion.toTimestamp());const c=vm(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=dM(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.K_(n)}}class nV extends UA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uM(e.writeResults,e.commitTime),i=zn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>lM(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{}class rV extends iV{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new $(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Em(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(U.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,Em(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(U.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function sV(t,e,n,i){return new rV(t,e,n,i)}class aV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ti(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="RemoteStore";class oV{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{ps(this)&&(G(ss,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await Ul(c),c.Va.set("Unknown"),c.Ea.delete(4),await Nh(c)}(this))})}),this.Va=new aV(i,r)}}async function Nh(t){if(ps(t))for(const e of t.Ra)await e(!0)}async function Ul(t){for(const e of t.Ra)await e(!1)}function jA(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dg(n)?fg(n):La(n).O_()&&hg(n,e))}function cg(t,e){const n=Z(t),i=La(n);n.Ia.delete(e),i.O_()&&BA(n,e),n.Ia.size===0&&(i.O_()?i.L_():ps(n)&&n.Va.set("Unknown"))}function hg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).Z_(e)}function BA(t,e){t.da.$e(e),La(t).X_(e)}function fg(t){t.da=new eM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),La(t).start(),t.Va.ua()}function dg(t){return ps(t)&&!La(t).x_()&&t.Ia.size>0}function ps(t){return Z(t).Ea.size===0}function zA(t){t.da=void 0}async function lV(t){t.Va.set("Online")}async function uV(t){t.Ia.forEach((e,n)=>{hg(t,e)})}async function cV(t,e){zA(t),dg(t)?(t.Va.ha(e),fg(t)):t.Va.set("Unknown")}async function hV(t,e,n){if(t.Va.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){G(ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(t,i)}else if(e instanceof Yu?t.da.Xe(e):e instanceof SA?t.da.st(e):t.da.tt(e),!n.isEqual(J.min()))try{const i=await LA(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),BA(s,u);const m=new Wi(f.target,u,c,f.sequenceNumber);hg(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){G(ss,"Failed to raise snapshot:",i),await zc(t,i)}}async function zc(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await Ul(t),t.Va.set("Offline"),n||(n=()=>LA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ss,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nh(t)})}function qA(t,e){return e().catch(n=>zc(t,n,e))}async function xh(t){const e=Z(t),n=br(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qp;for(;fV(e);)try{const r=await $M(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,dV(e,r)}catch(r){await zc(e,r)}HA(e)&&FA(e)}function fV(t){return ps(t)&&t.Ta.length<10}function dV(t,e){t.Ta.push(e);const n=br(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function HA(t){return ps(t)&&!br(t).x_()&&t.Ta.length>0}function FA(t){br(t).start()}async function mV(t){br(t).ra()}async function pV(t){const e=br(t);for(const n of t.Ta)e.ea(n.mutations)}async function gV(t,e,n){const i=t.Ta.shift(),r=ig.from(i,e,n);await qA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await xh(t)}async function _V(t,e){e&&br(t).Y_&&await async function(i,r){if(function(a){return W4(a)&&a!==U.ABORTED}(r.code)){const s=i.Ta.shift();br(i).B_(),await qA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await xh(i)}}(t,e),HA(t)&&FA(t)}async function mE(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),G(ss,"RemoteStore received new credentials");const i=ps(n);n.Ea.add(3),await Ul(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nh(n)}async function yV(t,e){const n=Z(t);e?(n.Ea.delete(2),await Nh(n)):e||(n.Ea.add(2),await Ul(n),n.Va.set("Unknown"))}function La(t){return t.ma||(t.ma=function(n,i,r){const s=Z(n);return s.sa(),new tV(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:lV.bind(null,t),Yo:uV.bind(null,t),t_:cV.bind(null,t),J_:hV.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),dg(t)?fg(t):t.Va.set("Unknown")):(await t.ma.stop(),zA(t))})),t.ma}function br(t){return t.fa||(t.fa=function(n,i,r){const s=Z(n);return s.sa(),new nV(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mV.bind(null,t),t_:_V.bind(null,t),ta:pV.bind(null,t),na:gV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await xh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(ss,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new mg(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),ka(t))return new $(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static emptySet(e){return new Ws(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=To(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ws;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ga=new Le(K.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class ya{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ya(e,n,Ws.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class EV{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=gE(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new $(U.ABORTED,"Firestore shutting down"))}}function gE(){return new ms(t=>cA(t),Sh)}async function TV(t,e){const n=Z(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new vV,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=pg(a,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&gg(n)}async function bV(t,e){const n=Z(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SV(t,e){const n=Z(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&gg(n)}function AV(t,e,n){const i=Z(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function gg(t){t.Ca.forEach(e=>{e.next()})}var wm,_E;(_E=wm||(wm={})).Ma="default",_E.Cache="cache";class wV{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class $A{constructor(e){this.key=e}}class RV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=oe(),this.mutatedKeys=oe(),this.eu=hA(e),this.tu=new Ws(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new pE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const g=r.get(f),_=Ah(this.query,m)?m:null,I=!!g&&this.mutatedKeys.has(g.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;g&&_?g.data.isEqual(_.data)?I!==N&&(i.track({type:3,doc:_}),D=!0):this.su(g,_)||(i.track({type:2,doc:_}),D=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(l=!0)):!g&&_?(i.track({type:0,doc:_}),D=!0):g&&!_&&(i.track({type:1,doc:g}),D=!0,(u||c)&&(l=!0)),D&&(_?(a=a.add(_),s=N?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(_,I){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:D})}};return N(_)-N(I)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new ya(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=oe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new $A(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new GA(i))}),n}cu(e){this.Za=e.ks,this.Ya=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class CV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class IV{constructor(e){this.key=e,this.hu=!1}}class NV{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ms(l=>cA(l),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Le(K.comparator),this.Au=new Map,this.Vu=new ag,this.du={},this.mu=new Map,this.fu=_a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xV(t,e,n=!0){const i=JA(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await KA(i,e,n,!0),r}async function DV(t,e){const n=JA(t);await KA(n,e,!0,!1)}async function KA(t,e,n,i){const r=await KM(t.localStore,Bn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await OV(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,r),l}async function OV(t,e,n,i,r){t.pu=(m,g,_)=>async function(N,D,b,v){let T=D.view.ru(b);T.Ss&&(T=await uE(N.localStore,D.query,!1).then(({documents:S})=>D.view.ru(S,T)));const x=v&&v.targetChanges.get(D.targetId),B=v&&v.targetMismatches.get(D.targetId)!=null,q=D.view.applyChanges(T,N.isPrimaryClient,x,B);return vE(N,D.targetId,q.au),q.snapshot}(t,m,g,_);const s=await uE(t.localStore,e,!0),a=new RV(e,s.ks),l=a.ru(s.documents),u=Pl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);vE(t,n,c.au);const f=new CV(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function MV(t,e,n){const i=Z(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!Sh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Sm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&cg(i.remoteStore,r.targetId),Rm(i,r.targetId)}).catch(Va)):(Rm(i,r.targetId),await Sm(i.localStore,r.targetId,!0))}async function VV(t,e){const n=Z(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),cg(n.remoteStore,i.targetId))}async function kV(t,e,n){const i=qV(t);try{const r=await function(a,l){const u=Z(a),c=Ce.now(),f=l.reduce((_,I)=>_.add(I.key),oe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=bi(),N=oe();return u.xs.getEntries(_,f).next(D=>{I=D,I.forEach((b,v)=>{v.isValidDocument()||(N=N.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,I)).next(D=>{m=D;const b=[];for(const v of l){const T=$4(v,m.get(v.key).overlayedDocument);T!=null&&b.push(new Ir(v.key,T,nA(T.value.mapValue),Sn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,b,l)}).next(D=>{g=D;const b=D.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(_,D.batchId,b)})}).then(()=>({batchId:g.batchId,changes:dA(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Le(ae)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,r.batchId,n),await jl(i,r.changes),await xh(i.remoteStore)}catch(r){const s=pg(r,"Failed to persist write");n.reject(s)}}async function YA(t,e){const n=Z(t);try{const i=await FM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?pe(a.hu,14607):r.removedDocuments.size>0&&(pe(a.hu,42227),a.hu=!1))}),await jl(n,i,e)}catch(i){await Va(i)}}function yE(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.ba)g.va(l)&&(c=!0)}),c&&gg(u)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function LV(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Le(K.comparator);a=a.insert(s,At.newNoDocument(s,J.min()));const l=oe().add(s),u=new Ch(J.min(),new Map,new Le(ae),a,l);await YA(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(e),yg(i)}else await Sm(i.localStore,e,!1).then(()=>Rm(i,e,n)).catch(Va)}async function PV(t,e){const n=Z(t),i=e.batch.batchId;try{const r=await HM(n.localStore,e);XA(n,i,null),QA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jl(n,r)}catch(r){await Va(r)}}async function UV(t,e,n){const i=Z(t);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(pe(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);XA(i,e,n),QA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await jl(i,r)}catch(r){await Va(r)}}function QA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function XA(t,e,n){const i=Z(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||WA(t,i)})}function WA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(cg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),yg(t))}function vE(t,e,n){for(const i of n)i instanceof GA?(t.Vu.addReference(i.key,e),jV(t,i)):i instanceof $A?(G(_g,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||WA(t,i.key)):X(19791,{wu:i})}function jV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(G(_g,"New document in limbo: "+n),t.Eu.add(i),yg(t))}function yg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(be.fromString(e)),i=t.fu.next();t.Au.set(i,new IV(n)),t.Ru=t.Ru.insert(n,i),jA(t.remoteStore,new Wi(Bn(eg(n.path)),i,"TargetPurposeLimboResolution",Eh.ce))}}async function jl(t,e,n){const i=Z(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=lg.Es(u.targetId,c);s.push(m)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const f=Z(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>j.forEach(c,g=>j.forEach(g.Ts,_=>f.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>j.forEach(g.Is,_=>f.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!ka(m))throw m;G(ug,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const _=f.vs.get(g),I=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(I);f.vs=f.vs.insert(g,N)}}}(i.localStore,s))}async function BV(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){G(_g,"User change. New user:",e.toKey());const i=await kA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new $(U.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(n,i.Ns)}}function zV(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return oe().add(i.key);{let r=oe();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function JA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LV.bind(null,e),e.Pu.J_=SV.bind(null,e.eventManager),e.Pu.yu=AV.bind(null,e.eventManager),e}function qV(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UV.bind(null,e),e}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qM(this.persistence,new jM,e.initialUser,this.serializer)}Cu(e){return new VA(og.Vi,this.serializer)}Du(e){return new QM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class HV extends qc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof Bc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new AM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new VA(i=>Bc.Vi(i,n),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),await yV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EV}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),i=eV(e.databaseInfo);return sV(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new oV(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yE(this.syncEngine,n,0),function(){return fE.v()?new fE:new XM}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const m=new NV(r,s,a,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Z(r);G(ss,"RemoteStore shutting down."),s.Ea.add(5),await Ul(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class GV{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{G(Sr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(G(Sr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=pg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nd(t,e){t.asyncQueue.verifyOperationInProgress(),G(Sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await kA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $V(t);G(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>mE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>mE(e.remoteStore,r)),t._onlineComponents=e}async function $V(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Sr,"Using user provided OfflineComponentProvider");try{await nd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await nd(t,new qc)}}else G(Sr,"Using default OfflineComponentProvider"),await nd(t,new HV(void 0));return t._offlineComponents}async function ZA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Sr,"Using user provided OnlineComponentProvider"),await EE(t,t._uninitializedComponentsProvider._online)):(G(Sr,"Using default OnlineComponentProvider"),await EE(t,new Cm))),t._onlineComponents}function KV(t){return ZA(t).then(e=>e.syncEngine)}async function TE(t){const e=await ZA(t),n=e.eventManager;return n.onListen=xV.bind(null,e.syncEngine),n.onUnlisten=MV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VV.bind(null,e.syncEngine),n}function YV(t,e,n,i){const r=new FV(i),s=new wV(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>TV(await TE(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>bV(await TE(t),s))}}function QV(t,e){const n=new Yr;return t.asyncQueue.enqueueAndForget(async()=>kV(await KV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="ComponentProvider",bE=new Map;function WV(t,e,n,i,r){return new p4(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,e1(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t1,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bM)throw new $(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YO;switch(i.type){case"firstParty":return new JO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=bE.get(n);i&&(G(XV,"Removing Datastore"),bE.delete(n),i.terminate())}(this),Promise.resolve()}}function JV(t,e,n,i={}){var c;t=cr(t,Dh);const r=Rr(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(qp(`https://${l}`),Hp("Firestore",!0)),s.host!==t1&&s.host!==l&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!ns(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=St.MOCK_USER;else{f=DS(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new $(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new St(g)}t._authCredentials=new QO(new FS(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Vl(n,tt._jsonSchema))return new tt(e,i||null,new K(be.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),referencePath:et("string")};class hr extends Pa{constructor(e,n,i){super(e,n,eg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new K(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function Im(t,e,...n){if(t=ke(t),GS("collection","path",e),t instanceof Dh){const i=be.fromString(e,...n);return Lv(i),new hr(t,null,i)}{if(!(t instanceof tt||t instanceof hr))throw new $(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return Lv(i),new hr(t.firestore,null,i)}}function Nm(t,e,...n){if(t=ke(t),arguments.length===1&&(e=Yp.newId()),GS("doc","path",e),t instanceof Dh){const i=be.fromString(e,...n);return kv(i),new tt(t,null,new K(i))}{if(!(t instanceof tt||t instanceof hr))throw new $(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return kv(i),new tt(t.firestore,t instanceof hr?t.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PA(this,"async_queue_retry"),this._c=()=>{const i=td();i&&G(wE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=td();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;G(wE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ti("INTERNAL UNHANDLED ERROR: ",CE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=mg.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&X(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class va extends Dh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new RE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function ZV(t,e){const n=typeof t=="object"?t:$p(),i=typeof t=="string"?t:Mc,r=yh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=IS("firestore");s&&JV(r,...s)}return r}function n1(t){if(t._terminated)throw new $(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ek(t),t._firestoreClient}function ek(t){var i,r,s,a;const e=t._freezeSettings(),n=WV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(vt.fromBase64String(e))}catch(n){throw new $(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:et("string",gn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qn._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,qn._jsonSchema))return new qn(e.latitude,e.longitude)}}qn._jsonSchemaVersion="firestore/geoPoint/1.0",qn._jsonSchema={type:et("string",qn._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:An._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,An._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new An(e.vectorValues);throw new $(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}An._jsonSchemaVersion="firestore/vectorValue/1.0",An._jsonSchema={type:et("string",An._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^__.*__$/;class nk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{dataSource:t})}}class Tg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(r1(this.dataSource)&&tk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ik{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ih(e)}createContext(e,n,i,r=!1){return new Tg({dataSource:e,methodName:n,targetDoc:i,path:gt.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new ik(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rk(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);Sg("Data must be an object, but it was:",a,i);const l=s1(i,a);let u,c;if(s.merge)u=new Qt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=pl(e,m,n);if(!a.contains(g))throw new $(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);l1(f,g)||f.push(g)}u=new Qt(f),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new nk(new Ut(l),u,c)}class Oh extends Eg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function sk(t,e,n,i){const r=t.createContext(1,e,n);Sg("Data must be an object, but it was:",r,i);const s=[],a=Ut.empty();Cr(i,(u,c)=>{const f=o1(e,u,n);c=ke(c);const m=r.childContextForFieldPath(f);if(c instanceof Oh)s.push(f);else{const g=Bl(c,m);g!=null&&(s.push(f),a.set(f,g))}});const l=new Qt(s);return new i1(a,l,r.fieldTransforms)}function ak(t,e,n,i,r,s){const a=t.createContext(1,e,n),l=[pl(e,i,n)],u=[r];if(s.length%2!=0)throw new $(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(pl(e,s[g])),u.push(s[g+1]);const c=[],f=Ut.empty();for(let g=l.length-1;g>=0;--g)if(!l1(c,l[g])){const _=l[g];let I=u[g];I=ke(I);const N=a.childContextForFieldPath(_);if(I instanceof Oh)c.push(_);else{const D=Bl(I,N);D!=null&&(c.push(_),f.set(_,D))}}const m=new Qt(c);return new i1(f,m,a.fieldTransforms)}function ok(t,e,n,i=!1){return Bl(n,t.createContext(i?4:3,e))}function Bl(t,e){if(a1(t=ke(t)))return Sg("Unsupported field value:",e,t),s1(t,e);if(t instanceof Eg)return function(i,r){if(!r1(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Bl(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return B4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ce.fromDate(i);return{timestampValue:jc(r.serializer,s)}}if(i instanceof Ce){const s=new Ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(r.serializer,s)}}if(i instanceof qn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gn)return{bytesValue:wA(r.serializer,i._byteString)};if(i instanceof tt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof An)return function(a,l){const u=a instanceof An?a.toArray():a;return{mapValue:{fields:{[eA]:{stringValue:tA},[Vc]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return tg(l.serializer,f)})}}}}}}(i,r);if(OA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${vh(i)}`)}(t,e)}function s1(t,e){const n={};return YS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(t,(i,r)=>{const s=Bl(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function a1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof qn||t instanceof gn||t instanceof tt||t instanceof Eg||t instanceof An||OA(t))}function Sg(t,e,n){if(!a1(n)||!$S(n)){const i=vh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function pl(t,e,n){if((e=ke(e))instanceof vg)return e._internalPath;if(typeof e=="string")return o1(t,e);throw Hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const lk=new RegExp("[~\\*/\\[\\]]");function o1(t,e,n){if(e.search(lk)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vg(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new $(U.INVALID_ARGUMENT,l+t+u)}function l1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Cr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Vc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>He(a.doubleValue));return new An(n)}convertGeoPoint(e){return new qn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=vr(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=be.fromString(e);pe(DA(i),9688,{name:e});const r=new hl(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||Ti(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}const IE="@firebase/firestore",NE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(pl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ck extends c1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class fk extends Ag{}function dk(t,e,...n){let i=[];e instanceof Ag&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof Rg).length,l=s.filter(u=>u instanceof wg).length;if(a>1||a>0&&l>0)throw new $(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class wg extends fk{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new wg(e,n,i)}_apply(e){const n=this._parse(e);return h1(e._query,n),new Pa(e.firestore,e.converter,_m(e._query,n))}_parse(e){const n=bg(e.firestore);return function(s,a,l,u,c,f,m){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){OE(m,f);const I=[];for(const N of m)I.push(DE(u,s,N));g={arrayValue:{values:I}}}else g=DE(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||OE(m,f),g=ok(l,a,m,f==="in"||f==="not-in");return Je.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)h1(a,u),a=_m(a,u)}(e._query,n),new Pa(e.firestore,e.converter,_m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new $(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(e)&&n.indexOf("/")!==-1)throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(be.fromString(n));if(!K.isDocumentKey(i))throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fv(t,new K(i))}if(n instanceof tt)return Fv(t,n._key);throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function OE(t,e){if(!Array.isArray(t)||t.length===0)throw new $(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h1(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mk(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class So{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends c1{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(pl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:et("string",Qr._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Qu extends Qr{data(e={}){return super.data(e)}}class Js{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new So(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qu(this._firestore,this._userDataWriter,i.key,i,new So(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new So(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Qu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new So(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:pk(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:et("string",Js._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};function gk(t,e,n,...i){t=cr(t,tt);const r=cr(t.firestore,va),s=bg(r);let a;return a=typeof(e=ke(e))=="string"||e instanceof vg?ak(s,"updateDoc",t._key,e,n,i):sk(s,"updateDoc",t._key,e),Cg(r,[a.toMutation(t._key,Sn.exists(!0))])}function _k(t){return Cg(cr(t.firestore,va),[new ng(t._key,Sn.none())])}function f1(t,e){const n=cr(t.firestore,va),i=Nm(t),r=mk(t.converter,e),s=bg(t.firestore);return Cg(n,[rk(s,"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Sn.exists(!1))]).then(()=>i)}function yk(t,...e){var c,f,m;t=ke(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||xE(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xE(e[i])){const g=e[i];e[i]=(c=g.next)==null?void 0:c.bind(g),e[i+1]=(f=g.error)==null?void 0:f.bind(g),e[i+2]=(m=g.complete)==null?void 0:m.bind(g)}let s,a,l;if(t instanceof tt)a=cr(t.firestore,va),l=eg(t._key.path),s={next:g=>{e[i]&&e[i](vk(a,t,g))},error:e[i+1],complete:e[i+2]};else{const g=cr(t,Pa);a=cr(g.firestore,va),l=g._query;const _=new u1(a);s={next:I=>{e[i]&&e[i](new Js(a,_,g,I))},error:e[i+1],complete:e[i+2]},hk(t._query)}const u=n1(a);return YV(u,l,r,s)}function Cg(t,e){const n=n1(t);return QV(n,e)}function vk(t,e,n){const i=n.docs.get(e._key),r=new u1(t);return new Qr(t,r,e._key,i,new So(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){KO(ds),is(new _r("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new va(new XO(i.getProvider("auth-internal")),new ZO(a,i.getProvider("app-check-internal")),g4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),jn(IE,NE,e),jn(IE,NE,"esm2020")})();var Ek="firebase",Tk="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(Ek,Tk,"app");function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bk=d1,m1=new Ol("auth","Firebase",d1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Fp("@firebase/auth");function Sk(t,...e){Fc.logLevel<=se.WARN&&Fc.warn(`Auth (${ds}): ${t}`,...e)}function Xu(t,...e){Fc.logLevel<=se.ERROR&&Fc.error(`Auth (${ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw Ig(t,...e)}function Hn(t,...e){return Ig(t,...e)}function p1(t,e,n){const i={...bk(),[e]:n};return new Ol("auth","Firebase",i).create(e,{appName:t.name})}function fr(t){return p1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return m1.create(t,...e)}function Q(t,e,...n){if(!t)throw Ig(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Si(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Ak(){return ME()==="http:"||ME()==="https:"}function ME(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ak()||RD()||"connection"in navigator)?navigator.onLine:!0}function Rk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=SD()||CD()}get(){return wk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nk=new zl(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Nr(t,e,n,i,r={}){return _1(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=Ml({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return wD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Rr(t.emulatorConfig.host)&&(c.credentials="include"),g1.fetch()(await y1(t,t.config.apiHost,n,l),c)})}async function _1(t,e,n){t._canInitEmulator=!1;const i={...Ck,...e};try{const r=new Dk(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Au(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Au(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p1(t,f,c);Cn(t,f)}}catch(r){if(r instanceof Qn)throw r;Cn(t,"network-request-failed",{message:String(r)})}}async function Mh(t,e,n,i,r={}){const s=await Nr(t,e,n,i,r);return"mfaPendingCredential"in s&&Cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function y1(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?Ng(t.config,r):`${t.config.apiScheme}://${r}`;return Ik.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function xk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),Nk.get())})}}function Au(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Hn(t,e,i);return r.customData._tokenResponse=n,r}function VE(t){return t!==void 0&&t.enterprise!==void 0}class Ok{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mk(t,e){return Nr(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function Gc(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kk(t,e=!1){const n=ke(t),i=await n.getIdToken(e),r=xg(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Fo(id(r.auth_time)),issuedAtTime:Fo(id(r.iat)),expirationTime:Fo(id(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function id(t){return Number(t)*1e3}function xg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=RS(n);return r?JSON.parse(r):(Xu("Failed to decode base64 JWT payload"),null)}catch(r){return Xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function kE(t){const e=xg(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Qn&&Lk(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){var m;const e=t.auth,n=await t.getIdToken(),i=await gl(t,Gc(e,{idToken:n}));Q(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?v1(r.providerUserInfo):[],a=jk(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Dm(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function Uk(t){const e=ke(t);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jk(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function v1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e){const n=await _1(t,{},async()=>{const i=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await y1(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Rr(t.emulatorConfig.host)&&(u.credentials="include"),g1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zk(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=kE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Bk(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Zs;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Q(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Dm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kk(this,e)}reload(){return Uk(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await gl(this,Vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:_,providerData:I,stsTokenManager:N}=n;Q(m&&N,e,"internal-error");const D=Zs.fromJSON(this.name,N);Q(typeof m=="string",e,"internal-error"),Mi(i,e.name),Mi(r,e.name),Q(typeof g=="boolean",e,"internal-error"),Q(typeof _=="boolean",e,"internal-error"),Mi(s,e.name),Mi(a,e.name),Mi(l,e.name),Mi(u,e.name),Mi(c,e.name),Mi(f,e.name);const b=new bn({uid:m,auth:e,email:r,emailVerified:g,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:D,createdAt:c,lastLoginAt:f});return I&&Array.isArray(I)&&(b.providerData=I.map(v=>({...v}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new Zs;r.updateFromServerResponse(n);const s=new bn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await $c(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Q(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?v1(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Zs;l.updateFromIdToken(i);const u=new bn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Dm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function ui(t){Si(t instanceof Function,"Expected a class definition");let e=LE.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E1.type="NONE";const PE=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Wu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Wu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gc(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ea(ui(PE),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ui(PE);const a=Wu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let m;if(typeof f=="string"){const g=await Gc(e,{idToken:f}).catch(()=>{});if(!g)break;m=await bn._fromGetAccountInfoResponse(e,g,f)}else m=bn._fromJSON(e,f);c!==s&&(l=m),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ea(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new ea(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(C1(e))return"Webos";if(b1(e))return"Safari";if((e.includes("chrome/")||S1(e))&&!e.includes("edge/"))return"Chrome";if(w1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T1(t=wt()){return/firefox\//i.test(t)}function b1(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S1(t=wt()){return/crios\//i.test(t)}function A1(t=wt()){return/iemobile/i.test(t)}function w1(t=wt()){return/android/i.test(t)}function R1(t=wt()){return/blackberry/i.test(t)}function C1(t=wt()){return/webos/i.test(t)}function Dg(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qk(t=wt()){var e;return Dg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Hk(){return ID()&&document.documentMode===10}function I1(t=wt()){return Dg(t)||w1(t)||C1(t)||R1(t)||/windows phone/i.test(t)||A1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e=[]){let n;switch(t){case"Browser":n=UE(wt());break;case"Worker":n=`${UE(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=6;class Kk{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$k,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new Fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gc(this,{idToken:e}),i=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(pn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(fr(this));const n=e?ke(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gk(this),n=new Kk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Sk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ua(t){return ke(t)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qk(t){Vh=t}function x1(t){return Vh.loadJS(t)}function Xk(){return Vh.recaptchaEnterpriseScript}function Wk(){return Vh.gapiScript}function Jk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Zk{constructor(){this.enterprise=new eL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tL="recaptcha-enterprise",D1="NO_RECAPTCHA";class nL{constructor(e){this.type=tL,this.auth=Ua(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Mk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ok(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;VE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(D1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zk().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&VE(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Xk();u.length!==0&&(u+=l),x1(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function BE(t,e,n,i=!1,r=!1){const s=new nL(t);let a;if(r)a=D1;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function zE(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BE(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await BE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e){const n=yh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ns(s,e??{}))return r;Cn(r,"already-initialized")}return n.initialize({options:e})}function rL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function sL(t,e,n){const i=Ua(t);Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=O1(e),{host:a,port:l}=aL(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(ns(c,i.config.emulator)&&ns(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,Rr(a)?(qp(`${s}//${a}${u}`),Hp("Auth",!0)):oL()}function O1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aL(t){const e=O1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:qE(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:qE(a)}}}function qE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function lL(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e){return Mh(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function hL(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Og{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new _l(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,n,"signInWithPassword",uL);case"emailLink":return cL(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,i,"signUpPassword",lL);case"emailLink":return hL(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return Mh(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="http://localhost";class as extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new as(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ta(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:fL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mL(t){const e=yo(vo(t)).link,n=e?yo(vo(e)).deep_link_id:null,i=yo(vo(t)).deep_link_id;return(i?yo(vo(i)).link:null)||i||n||e||t}class Mg{constructor(e){const n=yo(vo(e)),i=n.apiKey??null,r=n.oobCode??null,s=dL(n.mode??null);Q(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mL(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Mg.parseLink(n);return Q(i,"argument-error"),_l._fromEmailAndCode(e,i.code,i.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends M1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ql{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends ql{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ql{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await bn._fromIdTokenResponse(e,i,r),a=HE(i);return new Ea({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=HE(i);return new Ea({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function HE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Qn{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Kc(e,n,i,r)}}function V1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(t,s,e,i):s})}async function pL(t,e,n=!1){const i=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e,n=!1){const{auth:i}=t;if(pn(i.app))return Promise.reject(fr(i));const r="reauthenticate";try{const s=await gl(t,V1(i,r,e,t),n);Q(s.idToken,i,"internal-error");const a=xg(s.idToken);Q(a,i,"internal-error");const{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Ea._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(t,e,n=!1){if(pn(t.app))return Promise.reject(fr(t));const i="signIn",r=await V1(t,i,e),s=await Ea._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function _L(t,e){return k1(Ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t){const e=Ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function vL(t,e,n){return pn(t.app)?Promise.reject(fr(t)):_L(ke(t),ja.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yL(t),i})}function EL(t,e,n,i){return ke(t).onIdTokenChanged(e,n,i)}function TL(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function bL(t,e,n,i){return ke(t).onAuthStateChanged(e,n,i)}function SL(t){return ke(t).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=1e3,wL=10;class P1 extends L1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Hk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P1.type="LOCAL";const RL=P1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends L1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U1.type="SESSION";const j1=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await CL(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Vg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function NL(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function xL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function OL(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",ML=1,Qc="firebaseLocalStorage",q1="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function VL(){const t=indexedDB.deleteDatabase(z1);return new Hl(t).toPromise()}function Om(){const t=indexedDB.open(z1,ML);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qc,{keyPath:q1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qc)?e(i):(i.close(),await VL(),e(await Om()))})})}async function FE(t,e,n){const i=Lh(t,!0).put({[q1]:e,value:n});return new Hl(i).toPromise()}async function kL(t,e){const n=Lh(t,!1).get(e),i=await new Hl(n).toPromise();return i===void 0?null:i.value}function GE(t,e){const n=Lh(t,!0).delete(e);return new Hl(n).toPromise()}const LL=800,PL=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>PL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(OL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await xL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await FE(e,Yc,"1"),await GE(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>kL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Lh(r,!1).getAll();return new Hl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const UL=H1;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){return e?ui(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BL(t){return k1(t.auth,new kg(t),t.bypassAuthState)}function zL(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),gL(n,new kg(t),t.bypassAuthState)}async function qL(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),pL(n,new kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BL;case"linkViaPopup":case"linkViaRedirect":return qL;case"reauthViaPopup":case"reauthViaRedirect":return zL;default:Cn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new zl(2e3,1e4);class qs extends F1{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HL.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",Ju=new Map;class GL extends F1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const i=await $L(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $L(t,e){const n=QL(e),i=YL(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function KL(t,e){Ju.set(t._key(),e)}function YL(t){return ui(t._redirectPersistence)}function QL(t){return Wu(FL,t.config.apiKey,t.name)}async function XL(t,e,n=!1){if(pn(t.app))return Promise.reject(fr(t));const i=Ua(t),r=jL(i,e),a=await new GL(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=10*60*1e3;class JL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!G1(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WL&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;async function i3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e3(t);for(const n of e)try{if(r3(n))return}catch{}Cn(t,"unauthorized-domain")}function r3(t){const e=xm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!n3.test(n))return!1;if(t3.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new zl(3e4,6e4);function KE(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a3(t){return new Promise((e,n)=>{var r,s,a;function i(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),n(Hn(t,"network-request-failed"))},timeout:s3.get()})}if((s=(r=Fn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Fn().gapi)!=null&&a.load)i();else{const l=Jk("iframefcb");return Fn()[l]=()=>{gapi.load?i():n(Hn(t,"network-request-failed"))},x1(`${Wk()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function o3(t){return Zu=Zu||a3(t),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new zl(5e3,15e3),u3="__/auth/iframe",c3="emulator/auth/iframe",h3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d3(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ng(e,c3):`https://${t.config.authDomain}/${u3}`,i={apiKey:e.apiKey,appName:t.name,v:ds},r=f3.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ml(i).slice(1)}`}async function m3(t){const e=await o3(t),n=Fn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:d3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h3,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),l=Fn().setTimeout(()=>{s(a)},l3.get());function u(){Fn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g3=500,_3=600,y3="_blank",v3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(t,e,n,i=g3,r=_3){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...p3,width:i.toString(),height:r.toString(),top:s,left:a},c=wt().toLowerCase();n&&(l=S1(c)?y3:n),T1(c)&&(e=e||v3,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[_,I])=>`${g}${_}=${I},`,"");if(qk(c)&&l!=="_self")return T3(e||"",l),new YE(null);const m=window.open(e||"",l,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new YE(m)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",S3="emulator/auth/handler",A3=encodeURIComponent("fac");async function QE(t,e,n,i,r,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ds,eventId:r};if(e instanceof M1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",kD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof ql){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${A3}=${encodeURIComponent(u)}`:"";return`${w3(t)}?${Ml(l).slice(1)}${c}`}function w3({config:t}){return t.emulator?Ng(t,S3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="webStorageSupport";class R3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=XL,this._overrideRedirectResult=KL}async _openPopup(e,n,i,r){var a;Si((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await QE(e,n,i,xm(),r);return E3(e,s,Vg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await QE(e,n,i,xm(),r);return NL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Si(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await m3(e),i=new JL(e);return n.register("authEvent",r=>(Q(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rd,{type:rd},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[rd];s!==void 0&&n(!!s),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I1()||b1()||Dg()}}const C3=R3;var XE="@firebase/auth",WE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x3(t){is(new _r("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N1(t)},c=new Yk(i,r,s,u);return rL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),is(new _r("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(i=>new I3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(XE,WE,N3(t)),jn(XE,WE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=5*60,O3=xS("authIdTokenMaxAge")||D3;let JE=null;const M3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>O3)return;const r=n==null?void 0:n.token;JE!==r&&(JE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function V3(t=$p()){const e=yh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iL(t,{popupRedirectResolver:C3,persistence:[UL,RL,j1]}),i=xS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=M3(s.toString());TL(n,a,()=>a(n.currentUser)),EL(n,l=>a(l))}}const r=CS("auth");return r&&sL(n,`http://${r}`),n}function k3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Qk({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Hn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",k3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x3("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebasestorage.googleapis.com",K1="storageBucket",L3=2*60*1e3,P3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Qn{constructor(e,n,i=0){super(sd(e),`Firebase Storage: ${n} (${sd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function sd(t){return"storage/"+t}function Lg(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(ze.UNKNOWN,t)}function U3(t){return new qe(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function j3(t){return new qe(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(ze.UNAUTHENTICATED,t)}function z3(){return new qe(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function q3(t){return new qe(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function H3(){return new qe(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F3(){return new qe(ze.CANCELED,"User canceled the upload/download.")}function G3(t){return new qe(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function $3(t){return new qe(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function K3(){return new qe(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K1+"' property when initializing the app?")}function Y3(){return new qe(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Q3(){return new qe(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X3(t){return new qe(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(t){return new qe(ze.INVALID_ARGUMENT,t)}function Y1(){return new qe(ze.APP_DELETED,"The Firebase app was deleted.")}function W3(t){return new qe(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Go(t,e){return new qe(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ho(t){throw new qe(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Xt.makeFromUrl(e,n)}catch{return new Xt(e,"")}if(i.path==="")return i;throw $3(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),u={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${f}/b/${r}/o${g}`,"i"),I={bucket:1,path:3},N=n===$1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",b=new RegExp(`^https?://${N}/${r}/${D}`,"i"),T=[{regex:l,indices:u,postModify:s},{regex:_,indices:I,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<T.length;x++){const B=T[x],q=B.regex.exec(e);if(q){const S=q[B.indices.bucket];let E=q[B.indices.path];E||(E=""),i=new Xt(S,E),B.postModify(i);break}}if(i==null)throw G3(e);return i}}class J3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t,e,n){let i=1,r=null,s=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...D){c||(c=!0,e.apply(null,D))}function m(D){r=setTimeout(()=>{r=null,t(_,u())},D)}function g(){s&&clearTimeout(s)}function _(D,...b){if(c){g();return}if(D){g(),f.call(null,D,...b);return}if(u()||a){g(),f.call(null,D,...b);return}i<64&&(i*=2);let T;l===1?(l=2,T=0):T=(i+Math.random())*1e3,m(T)}let I=!1;function N(D){I||(I=!0,g(),!c&&(r!==null?(D||(l=2),clearTimeout(r),m(0)):D||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,N(!0)},n),N}function e6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){return t!==void 0}function n6(t){return typeof t=="object"&&!Array.isArray(t)}function Pg(t){return typeof t=="string"||t instanceof String}function ZE(t){return Ug()&&t instanceof Blob}function Ug(){return typeof Blob<"u"}function eT(t,e,n,i){if(i<e)throw Mm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Mm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Q1(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Xr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xr||(Xr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,i,r,s,a,l,u,c,f,m,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,N)=>{this.resolve_=I,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new wu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Xr.NO_ERROR,u=s.getStatus();if(!l||i6(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Xr.ABORT;i(!1,new wu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new wu(c,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());t6(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=Lg();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(r.canceled){const u=this.appDelete_?Y1():F3();a(u)}else{const u=H3();a(u)}};this.canceled_?n(!1,new wu(!1,null,!0)):this.backoffId_=Z3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function s6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u6(t,e,n,i,r,s,a=!0,l=!1){const u=Q1(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return o6(f,e),s6(f,n),a6(f,s),l6(f,i),new r6(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h6(...t){const e=c6();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Ug())return new Blob(t);throw new qe(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function f6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){if(typeof atob>"u")throw X3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ad{constructor(e,n){this.data=e,this.contentType=n||null}}function m6(t,e){switch(t){case Pn.RAW:return new ad(X1(e));case Pn.BASE64:case Pn.BASE64URL:return new ad(W1(t,e));case Pn.DATA_URL:return new ad(g6(e),_6(e))}throw Lg()}function X1(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function p6(t){let e;try{e=decodeURIComponent(t)}catch{throw Go(Pn.DATA_URL,"Malformed data URL.")}return X1(e)}function W1(t,e){switch(t){case Pn.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Go(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Go(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=d6(e)}catch(r){throw r.message.includes("polyfill")?r:Go(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class J1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Go(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=y6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function g6(t){const e=new J1(t);return e.base64?W1(Pn.BASE64,e.rest):p6(e.rest)}function _6(t){return new J1(t).contentType}function y6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){let i=0,r="";ZE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(ZE(this.data_)){const i=this.data_,r=f6(i,e,n);return r===null?null:new Gi(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Gi(i,!0)}}static getBlob(...e){if(Ug()){const n=e.map(i=>i instanceof Gi?i.data_:i);return new Gi(h6.apply(null,n))}else{const n=e.map(a=>Pg(a)?m6(Pn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)r[s++]=a[l]}),new Gi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){let e;try{e=JSON.parse(t)}catch{return null}return n6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E6(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function ew(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e){return e}class Nt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||T6}}let Ru=null;function b6(t){return!Pg(t)||t.length<2?t:ew(t)}function tw(){if(Ru)return Ru;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,a){return b6(a)}const n=new Nt("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new Nt("size");return r.xform=i,t.push(r),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),Ru=t,Ru}function S6(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Xt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function A6(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return S6(i,t),i}function nw(t,e,n){const i=Z1(e);return i===null?null:A6(t,i,n)}function w6(t,e,n,i){const r=Z1(e);if(r===null||!Pg(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const f=t.bucket,m=t.fullPath,g="/b/"+a(f)+"/o/"+a(m),_=jg(g,n,i),I=Q1({alt:"media",token:c});return _+I})[0]}function R6(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class iw{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){if(!t)throw Lg()}function C6(t,e){function n(i,r){const s=nw(t,r,e);return rw(s!==null),s}return n}function I6(t,e){function n(i,r){const s=nw(t,r,e);return rw(s!==null),w6(s,r,t.host,t._protocol)}return n}function sw(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=z3():r=B3():n.getStatus()===402?r=j3(t.bucket):n.getStatus()===403?r=q3(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function N6(t){const e=sw(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=U3(t.path)),s.serverResponse=r.serverResponse,s}return n}function x6(t,e,n){const i=e.fullServerUrl(),r=jg(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new iw(r,s,I6(t,n),a);return l.errorHandler=N6(e),l}function D6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function O6(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=D6(null,e)),i}function M6(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let T="";for(let x=0;x<2;x++)T=T+Math.random().toString().slice(2);return T}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const c=O6(e,i,r),f=R6(c,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",_=Gi.getBlob(m,i,g);if(_===null)throw Y3();const I={name:c.fullPath},N=jg(s,t.host,t._protocol),D="POST",b=t.maxUploadRetryTime,v=new iw(N,D,C6(t,n),b);return v.urlParams=I,v.headers=a,v.body=_.uploadData(),v.errorHandler=sw(e),v}class V6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,s){if(this.sent_)throw ho("cannot .send() more than once");if(Rr(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class k6 extends V6{initXhr(){this.xhr_.responseType="text"}}function aw(){return new k6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this._service=e,n instanceof Xt?this._location=n:this._location=Xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new os(e,n)}get root(){const e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ew(this._location.path)}get storage(){return this._service}get parent(){const e=v6(this._location.path);if(e===null)return null;const n=new Xt(this._location.bucket,e);return new os(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W3(e)}}function L6(t,e,n){t._throwIfRoot("uploadBytes");const i=M6(t.storage,t._location,tw(),new Gi(e,!0),n);return t.storage.makeRequestWithTokens(i,aw).then(r=>({metadata:r,ref:t}))}function P6(t){t._throwIfRoot("getDownloadURL");const e=x6(t.storage,t._location,tw());return t.storage.makeRequestWithTokens(e,aw).then(n=>{if(n===null)throw Q3();return n})}function U6(t,e){const n=E6(t._location.path,e),i=new Xt(t._location.bucket,n);return new os(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){return/^[A-Za-z]+:\/\//.test(t)}function B6(t,e){return new os(t,e)}function ow(t,e){if(t instanceof Bg){const n=t;if(n._bucket==null)throw K3();const i=new os(n,n._bucket);return e!=null?ow(i,e):i}else return e!==void 0?U6(t,e):t}function z6(t,e){if(e&&j6(e)){if(t instanceof Bg)return B6(t,e);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return ow(t,e)}function tT(t,e){const n=e==null?void 0:e[K1];return n==null?null:Xt.makeFromBucketSpec(n,t)}function q6(t,e,n,i={}){t.host=`${e}:${n}`;const r=Rr(e);r&&(qp(`https://${t.host}/b`),Hp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:DS(s,t.app.options.projectId))}class Bg{constructor(e,n,i,r,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=$1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=L3,this._maxUploadRetryTime=P3,this._requests=new Set,r!=null?this._bucket=Xt.makeFromBucketSpec(r,this._host):this._bucket=tT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=tT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new os(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new J3(Y1());{const a=u6(e,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const nT="@firebase/storage",iT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="storage";function uw(t,e,n){return t=ke(t),L6(t,e,n)}function cw(t){return t=ke(t),P6(t)}function hw(t,e){return t=ke(t),z6(t,e)}function H6(t=$p(),e){t=ke(t);const i=yh(t,lw).getImmediate({identifier:e}),r=IS("storage");return r&&F6(i,...r),i}function F6(t,e,n,i={}){q6(t,e,n,i)}function G6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Bg(n,i,r,e,ds)}function $6(){is(new _r(lw,G6,"PUBLIC").setMultipleInstances(!0)),jn(nT,iT,""),jn(nT,iT,"esm2020")}$6();const K6={apiKey:"AIzaSyCKLXNE3JFIfSULFUCFwz0G3XeUb4BNnkg",authDomain:"layer1studio-750f4.firebaseapp.com",projectId:"layer1studio-750f4",storageBucket:"layer1studio-750f4.firebasestorage.app",messagingSenderId:"540706846466",appId:"1:540706846466:web:7080fcb3c6533dd081f41b",measurementId:"G-8YCTMN2X95"},zg=VS(K6),Ao=ZV(zg),qg=V3(zg),fw=H6(zg),$o=t=>{const[e,n]=V.useState([]),[i,r]=V.useState(!0),[s,a]=V.useState(null);return V.useEffect(()=>{const f=dk(Im(Ao,t)),m=yk(f,g=>{const _=[];g.forEach(I=>{_.push({id:I.id,...I.data()})}),n(_),r(!1)},g=>{console.error("Error fetching content:",g),a("Firebase not configured or permission denied. Using local state."),r(!1)});return()=>m()},[t]),{data:e,loading:i,error:s,addItem:async f=>{try{await f1(Im(Ao,t),f)}catch(m){console.error("Error adding item:",m)}},deleteItem:async f=>{try{await _k(Nm(Ao,t,f))}catch(m){console.error("Error deleting item:",m)}},updateItem:async(f,m)=>{try{await gk(Nm(Ao,t,f),m)}catch(g){console.error("Error updating item:",g)}}}},Y6="_portfolioPage_ex3vh_1",Q6="_header_ex3vh_6",X6="_badge_ex3vh_10",W6="_title_ex3vh_24",J6="_italic_ex3vh_31",Z6="_subtitle_ex3vh_37",eP="_filterGroup_ex3vh_44",tP="_filterBtn_ex3vh_51",nP="_activeFilter_ex3vh_67",iP="_grid_ex3vh_73",rP="_card_ex3vh_79",sP="_imageWrapper_ex3vh_95",aP="_image_ex3vh_95",oP="_overlay_ex3vh_109",lP="_viewBtn_ex3vh_129",uP="_cardContent_ex3vh_147",cP="_cardTitle_ex3vh_154",hP="_cardText_ex3vh_159",fP="_tagGroup_ex3vh_165",dP="_tag_ex3vh_165",Ke={portfolioPage:Y6,header:Q6,badge:X6,title:W6,italic:J6,subtitle:Z6,filterGroup:eP,filterBtn:tP,activeFilter:nP,grid:iP,card:rP,imageWrapper:sP,image:aP,overlay:oP,viewBtn:lP,cardContent:uP,cardTitle:cP,cardText:hP,tagGroup:fP,tag:dP},mP=()=>{const[t,e]=V.useState("All"),n=["All","Enterprise Web","Mobile Apps","Fintech","Cloud Infra"],{data:i}=$o("projects"),r=[{title:"Marketing Agency Website",category:"Enterprise Web",text:"Premium landing page and lead generation system for a cutting-edge creative agency.",tags:["React","Framer Motion"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCY5_DOj58Gd86kyFqTh-UMlYh-Ucb65wd-sD-b96Inv833_ls5oCdaUJMbAxpqb60X8Px2eJXNKFr7i6BsyCXfWb5A3IWK9wWz7wYU0BWFTaP_fjSV9cnfcCM3nlxsqoJtpPGz8JP5UCnjJH5sGy_nYFeiO87DUpizoshaQ7T8TStniKD-jRQvU0XFSB5kyYUfzn_vflPT72nupuVZLVceUlAQtAzcVfTFlYT4DOpY97kbBO4dooSt0ln5qlY8dNQ3Vlvf4b3zdmeI"},{title:"E-commerce Website",category:"Fintech",text:"Modern shopping experience with integrated payment gateways and real-time inventory.",tags:["Next.js","Stripe"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCgbZxfNBLuDsa2QV28yTaF9_B3Ya2cUh6RbaCJyuolqZhgP2bI28S8SnmxLbea9fJcpdkW57gTSrGcfaziwyLuYUIOeFfY4thy9nV6dOkhWjI9IzXqjtO6lw9Y8HMrvYAc9MoFgOlOwI5v0UKORF6p8m40k7rdG4d_88AsWNWvdZEScmM_1J5QoD7nqOMd4CB4qzgsc4mrtjm-y6N4i6mCEbnmTVpheZ-FDvNGQ67LZX6LypqPAVqjRyVi6b9rVIN8PgAxLD29QHiG"},{title:"Admin Panel & Dashboard",category:"Enterprise Web",text:"Powerful internal tool for managing complex business operations and data analytics.",tags:["React","Node.js"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCflepDypeli6J7rrskPHYWCaPnyVhzc-slMHXqrt2QM5mTB9V21AV9E7KaTTZHPncHYXIhtu5vBIDGuqSXIjEWFmig6hUUGli9TVVwpF8WQpHWBDer-OxWWsAEKdympaombGF_Q3HgencfCxqccCNgDmBEXS7GcpIXLDA4a-dseIJ8rGPgYYevXJQjxs-wADJ3lv8f5i7z0Aj4baEiCqdW7RDUcAV3MMybsKXnhY33ilp4ciLeD6Uequ_8XuNZLxYYiwrWOy3UxzXS"}],s=i.length>0?i:r,a=t==="All"?s:s.filter(l=>l.category===t);return p.jsxs("div",{className:Ke.portfolioPage,children:[p.jsx("header",{className:Ke.header,children:p.jsxs("div",{className:"container",children:[p.jsx("div",{className:Ke.badge,children:"The Gallery"}),p.jsxs("h1",{className:Ke.title,children:["Digital foundations, ",p.jsx("span",{className:Ke.italic,children:"built to last"}),"."]}),p.jsx("p",{className:Ke.subtitle,children:"We don't believe in vanity metrics. We believe in tools that work, systems that scale, and code that remains elegant under pressure."})]})}),p.jsxs("div",{className:"container",children:[p.jsx("div",{className:Ke.filterGroup,children:n.map(l=>p.jsx("button",{className:`${Ke.filterBtn} ${t===l?Ke.activeFilter:""}`,onClick:()=>e(l),children:l},l))}),p.jsx("div",{className:Ke.grid,children:a.map((l,u)=>p.jsxs("div",{className:Ke.card,children:[p.jsxs("div",{className:Ke.imageWrapper,children:[p.jsx("img",{src:l.image,alt:l.title,className:Ke.image}),p.jsx("div",{className:Ke.overlay,children:p.jsxs("button",{className:Ke.viewBtn,children:["View Case Study",p.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]}),p.jsxs("div",{className:Ke.cardContent,children:[p.jsx("h3",{className:Ke.cardTitle,children:l.title}),p.jsx("p",{className:Ke.cardText,children:l.text}),p.jsx("div",{className:Ke.tagGroup,children:l.tags.map(c=>p.jsx("span",{className:Ke.tag,children:c},c))})]})]},u))})]})]})},pP="_contactPage_3d8mg_1",gP="_grid_3d8mg_6",_P="_badge_3d8mg_12",yP="_title_3d8mg_26",vP="_description_3d8mg_38",EP="_studios_3d8mg_45",TP="_studioName_3d8mg_52",bP="_contactLinks_3d8mg_72",SP="_contactItem_3d8mg_80",AP="_iconBox_3d8mg_86",wP="_contactLabel_3d8mg_98",RP="_contactValue_3d8mg_107",CP="_formCard_3d8mg_113",IP="_form_3d8mg_113",NP="_row_3d8mg_127",xP="_field_3d8mg_133",DP="_submitBtn_3d8mg_168",OP="_privacyNote_3d8mg_186",fe={contactPage:pP,grid:gP,badge:_P,title:yP,description:vP,studios:EP,studioName:TP,contactLinks:bP,contactItem:SP,iconBox:AP,contactLabel:wP,contactValue:RP,formCard:CP,form:IP,row:NP,field:xP,submitBtn:DP,privacyNote:OP},MP=()=>p.jsx("div",{className:fe.contactPage,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:fe.grid,children:[p.jsxs("div",{className:fe.infoColumn,children:[p.jsx("span",{className:fe.badge,children:"Let's Talk"}),p.jsxs("h1",{className:fe.title,children:["Shall we ",p.jsx("br",{}),p.jsx("span",{children:"start?"})]}),p.jsx("p",{className:fe.description,children:"Drop us a line. We're based in London and Colombo, but we work with partners all over the world. Whether it's a quick question or a massive project, we'd love to hear from you."}),p.jsxs("div",{className:fe.studios,children:[p.jsx("div",{className:fe.studioItem,children:p.jsxs("h4",{className:fe.studioName,children:[p.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"London, UK"]})}),p.jsx("div",{className:fe.studioItem,children:p.jsxs("h4",{className:fe.studioName,children:[p.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"Colombo, Sri Lanka"]})})]}),p.jsxs("div",{className:fe.contactLinks,children:[p.jsxs("div",{className:fe.contactItem,children:[p.jsx("div",{className:fe.iconBox,children:p.jsx("span",{className:"material-symbols-outlined",children:"mail"})}),p.jsxs("div",{children:[p.jsx("p",{className:fe.contactLabel,children:"Email Inquiry"}),p.jsx("a",{href:"mailto:studio.layer1@gmail.com",className:fe.contactValue,children:"studio.layer1@gmail.com"})]})]}),p.jsxs("div",{className:fe.contactItem,children:[p.jsx("div",{className:fe.iconBox,children:p.jsx("span",{className:"material-symbols-outlined",children:"call"})}),p.jsxs("div",{children:[p.jsx("p",{className:fe.contactLabel,children:"Phone Support"}),p.jsx("p",{className:fe.contactValue,children:"+44 (0) 20 1234 5678"})]})]})]})]}),p.jsx("div",{className:fe.formColumn,children:p.jsx("div",{className:fe.formCard,children:p.jsxs("form",{className:fe.form,children:[p.jsxs("div",{className:fe.row,children:[p.jsxs("div",{className:fe.field,children:[p.jsx("label",{children:"First Name"}),p.jsx("input",{type:"text",placeholder:"E.g. Alexander"})]}),p.jsxs("div",{className:fe.field,children:[p.jsx("label",{children:"Last Name"}),p.jsx("input",{type:"text",placeholder:"E.g. Wright"})]})]}),p.jsxs("div",{className:fe.field,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",placeholder:"alex@studio.com"})]}),p.jsxs("div",{className:fe.field,children:[p.jsx("label",{children:"How can we help?"}),p.jsxs("select",{children:[p.jsx("option",{children:"Product Development"}),p.jsx("option",{children:"Cloud Infrastructure"}),p.jsx("option",{children:"Mobile Application"}),p.jsx("option",{children:"Technical Audit"})]})]}),p.jsxs("div",{className:fe.field,children:[p.jsx("label",{children:"What's on your mind?"}),p.jsx("textarea",{rows:"5",placeholder:"Tell us about what you're building..."})]}),p.jsx("button",{type:"submit",className:fe.submitBtn,children:"Send message"}),p.jsxs("p",{className:fe.privacyNote,children:[p.jsx("span",{className:"material-symbols-outlined",children:"verified_user"}),"Your information is safe with us. We're engineerswe take security seriously."]})]})})})]})})}),VP="_careersPage_jsyj2_1",kP="_hero_jsyj2_5",LP="_badge_jsyj2_9",PP="_title_jsyj2_23",UP="_subtitle_jsyj2_35",jP="_values_jsyj2_42",BP="_grid_jsyj2_49",zP="_valueCard_jsyj2_55",qP="_openRoles_jsyj2_70",HP="_sectionTitle_jsyj2_74",FP="_jobList_jsyj2_79",GP="_jobCard_jsyj2_84",$P="_expanded_jsyj2_98",KP="_jobMain_jsyj2_104",YP="_jobTitleRow_jsyj2_110",QP="_expandIcon_jsyj2_121",XP="_jobDetails_jsyj2_130",WP="_description_jsyj2_149",JP="_hotTag_jsyj2_157",ZP="_jobMeta_jsyj2_168",eU="_applyBtn_jsyj2_174",De={careersPage:VP,hero:kP,badge:LP,title:PP,subtitle:UP,values:jP,grid:BP,valueCard:zP,openRoles:qP,sectionTitle:HP,jobList:FP,jobCard:GP,expanded:$P,jobMain:KP,jobTitleRow:YP,expandIcon:QP,jobDetails:XP,description:WP,hotTag:JP,jobMeta:ZP,applyBtn:eU},tU=()=>{const{data:t,loading:e}=$o("careers"),n=Oa(),[i,r]=V.useState(null),s=[{title:"Senior Full-stack Developer",location:"Remote",salary:"$140k - $180k",type:"Full-time",hot:!0,description:"We're looking for someone who can handle everything from server architecture to CSS animations. You'll be the backbone of our product team."},{title:"Senior UI/UX Designer",location:"Hybrid / London",salary:"$110k - $150k",type:"Full-time",hot:!1,description:"Design isn't just about looks. We need a thinker who understands how users move through complex systems and can make that movement feel effortless."}],a=t.length>0?t:e?[]:s;return p.jsxs("div",{className:De.careersPage,children:[p.jsx("header",{className:De.hero,children:p.jsxs("div",{className:"container",children:[p.jsx("span",{className:De.badge,children:"Join our mission"}),p.jsxs("h1",{className:De.title,children:["Help us build the ",p.jsx("br",{}),p.jsx("span",{children:"digital foundations."})]}),p.jsx("p",{className:De.subtitle,children:"We are a collective of product thinkers and engineers crafting software that stands the test of time. Join a studio where quality isn't a goalit's the baseline."})]})}),p.jsx("section",{className:De.values,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:De.grid,children:[p.jsxs("div",{className:De.valueCard,children:[p.jsx("span",{className:"material-symbols-outlined",children:"terminal"}),p.jsx("h3",{children:"Engineering Focus"}),p.jsx("p",{children:"We prioritize clean architecture and deep technical expertise. No shortcuts, just solid engineering."})]}),p.jsxs("div",{className:De.valueCard,children:[p.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),p.jsx("h3",{children:"Design-Led Craft"}),p.jsx("p",{children:"Every pixel matters. We believe that beautiful software is more than skin deepit's about the experience."})]}),p.jsxs("div",{className:De.valueCard,children:[p.jsx("span",{className:"material-symbols-outlined",children:"favorite"}),p.jsx("h3",{children:"People First"}),p.jsx("p",{children:"Flexible work, meaningful ownership, and a supportive environment that values your growth."})]})]})})}),p.jsx("section",{className:De.openRoles,children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{className:De.sectionTitle,children:"Open Opportunities"}),p.jsx("div",{className:De.jobList,children:a.map((l,u)=>p.jsxs("div",{className:`${De.jobCard} ${i===u?De.expanded:""}`,onClick:()=>r(i===u?null:u),children:[p.jsxs("div",{className:De.jobMain,children:[p.jsxs("div",{className:De.jobInfo,children:[p.jsxs("div",{className:De.jobTitleRow,children:[p.jsx("h3",{children:l.title}),l.hot&&p.jsx("span",{className:De.hotTag,children:"Hot"})]}),p.jsxs("div",{className:De.jobMeta,children:[p.jsx("span",{children:l.location}),"  ",p.jsx("span",{children:l.type}),"  ",p.jsx("span",{children:l.salary})]})]}),p.jsx("span",{className:`material-symbols-outlined ${De.expandIcon}`,children:i===u?"expand_less":"expand_more"})]}),i===u&&p.jsxs("div",{className:De.jobDetails,onClick:c=>c.stopPropagation(),children:[p.jsx("div",{className:De.description,children:p.jsx("p",{children:l.description||"Inquire for details."})}),p.jsx("button",{className:De.applyBtn,onClick:()=>n(`/apply/${encodeURIComponent(l.title)}`),children:"Apply Now"})]})]},u))})]})})]})},nU="_dashboard_1mw88_1",iU="_header_1mw88_7",rU="_titleGroup_1mw88_14",sU="_logoutBtn_1mw88_21",aU="_title_1mw88_14",oU="_tabs_1mw88_50",lU="_tabBtn_1mw88_59",uU="_active_1mw88_69",cU="_form_1mw88_74",hU="_formGrid_1mw88_87",fU="_fileInputWrapper_1mw88_95",dU="_fileLabel_1mw88_101",mU="_uploadStatus_1mw88_124",pU="_list_1mw88_153",gU="_item_1mw88_158",_U="_itemInfo_1mw88_179",yU="_itemActions_1mw88_183",vU="_editBtn_1mw88_189",EU="_deleteBtn_1mw88_200",TU="_confirmGroup_1mw88_211",bU="_confirmLabel_1mw88_221",SU="_buttonGroup_1mw88_228",AU="_saveBtn_1mw88_233",wU="_cancelBtn_1mw88_244",RU="_appCard_1mw88_261",CU="_appHeader_1mw88_273",IU="_roleTag_1mw88_277",NU="_appEmail_1mw88_287",xU="_appLinks_1mw88_292",DU="_link_1mw88_297",OU="_emptyMsg_1mw88_311",F={dashboard:nU,header:iU,titleGroup:rU,logoutBtn:sU,title:aU,tabs:oU,tabBtn:lU,active:uU,form:cU,formGrid:hU,fileInputWrapper:fU,fileLabel:dU,uploadStatus:mU,list:pU,item:gU,itemInfo:_U,itemActions:yU,editBtn:vU,deleteBtn:EU,confirmGroup:TU,confirmLabel:bU,buttonGroup:SU,saveBtn:AU,cancelBtn:wU,appCard:RU,appHeader:CU,roleTag:IU,appEmail:NU,appLinks:xU,link:DU,emptyMsg:OU},MU=()=>{const[t,e]=V.useState("projects"),{data:n,addItem:i,deleteItem:r,updateItem:s}=$o("projects"),{data:a,addItem:l,deleteItem:u,updateItem:c}=$o("careers"),{data:f,deleteItem:m}=$o("applications"),g=Oa(),[_,I]=V.useState(null),[N,D]=V.useState(null),[b,v]=V.useState(null),[T,x]=V.useState({title:"",category:"",text:"",tags:"",image:""}),[B,q]=V.useState({title:"",location:"",salary:"",type:"",description:""}),[S,E]=V.useState(!1),[A,R]=V.useState(""),C=async()=>{await SL(qg),g("/")},O=async(P,Y=!1)=>{const ce=P.target.files[0];if(!ce)return;E(!0),R("Uploading image...");const Ve=hw(fw,`projects/${Date.now()}_${ce.name}`);try{await uw(Ve,ce);const sn=await cw(Ve);Y?I({..._,image:sn}):x({...T,image:sn}),R("Image uploaded successfully!")}catch(sn){console.error("Upload failed:",sn),R("Upload failed. Check Firebase config.")}finally{E(!1)}},w=P=>{P.preventDefault();const Y={...T,tags:typeof T.tags=="string"?T.tags.split(",").map(ce=>ce.trim()):T.tags};i(Y),x({title:"",category:"",text:"",tags:"",image:""})},at=P=>{P.preventDefault();const Y={..._,tags:typeof _.tags=="string"?_.tags.split(",").map(ce=>ce.trim()):_.tags};s(_.id,Y),I(null)},qt=P=>{P.preventDefault(),l(B),q({title:"",location:"",salary:"",type:"",description:""})},H=P=>{P.preventDefault(),c(N.id,N),D(null)};return p.jsx("div",{className:F.dashboard,children:p.jsxs("div",{className:"container",children:[p.jsxs("header",{className:F.header,children:[p.jsxs("div",{className:F.titleGroup,children:[p.jsxs("h1",{className:F.title,children:["Studio ",p.jsx("span",{children:"Manager"})]}),p.jsxs("button",{onClick:C,className:F.logoutBtn,children:[p.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Logout"]})]}),p.jsxs("div",{className:F.tabs,children:[p.jsx("button",{className:`${F.tabBtn} ${t==="projects"?F.active:""}`,onClick:()=>{e("projects"),I(null),v(null)},children:"Projects"}),p.jsx("button",{className:`${F.tabBtn} ${t==="careers"?F.active:""}`,onClick:()=>{e("careers"),D(null),v(null)},children:"Careers"}),p.jsx("button",{className:`${F.tabBtn} ${t==="applications"?F.active:""}`,onClick:()=>{e("applications"),v(null)},children:"Applications"})]})]}),p.jsx("main",{className:F.content,children:t==="projects"?p.jsxs("div",{className:F.section,children:[_?p.jsxs("form",{className:F.form,onSubmit:at,children:[p.jsx("h3",{children:"Edit Project"}),p.jsxs("div",{className:F.formGrid,children:[p.jsx("input",{placeholder:"Title",value:_.title,onChange:P=>I({..._,title:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Category",value:_.category,onChange:P=>I({..._,category:P.target.value}),required:!0}),p.jsx("div",{className:F.fileInputWrapper,children:p.jsxs("label",{className:F.fileLabel,children:[p.jsx("span",{className:"material-symbols-outlined",children:"upload"}),"Change Image",p.jsx("input",{type:"file",onChange:P=>O(P,!0),accept:"image/*"})]})}),p.jsx("input",{placeholder:"Tags (comma separated)",value:Array.isArray(_.tags)?_.tags.join(", "):_.tags,onChange:P=>I({..._,tags:P.target.value})})]}),p.jsx("textarea",{placeholder:"Description",value:_.text,onChange:P=>I({..._,text:P.target.value}),required:!0}),p.jsxs("div",{className:F.buttonGroup,children:[p.jsx("button",{type:"submit",className:F.saveBtn,children:"Save Changes"}),p.jsx("button",{type:"button",onClick:()=>I(null),className:F.cancelBtn,children:"Cancel"})]})]}):p.jsxs("form",{className:F.form,onSubmit:w,children:[p.jsx("h3",{children:"Add New Project"}),p.jsxs("div",{className:F.formGrid,children:[p.jsx("input",{placeholder:"Title",value:T.title,onChange:P=>x({...T,title:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Category",value:T.category,onChange:P=>x({...T,category:P.target.value}),required:!0}),p.jsxs("div",{className:F.fileInputWrapper,children:[p.jsxs("label",{className:F.fileLabel,children:[p.jsx("span",{className:"material-symbols-outlined",children:"upload"}),T.image?"Image Selected":"Upload Project Image",p.jsx("input",{type:"file",onChange:O,accept:"image/*"})]}),A&&p.jsx("p",{className:F.uploadStatus,children:A})]}),p.jsx("input",{placeholder:"Tags (comma separated)",value:T.tags,onChange:P=>x({...T,tags:P.target.value})})]}),p.jsx("textarea",{placeholder:"Description",value:T.text,onChange:P=>x({...T,text:P.target.value}),required:!0}),p.jsx("button",{type:"submit",children:"Publish Project"})]}),p.jsxs("div",{className:F.list,children:[p.jsx("h3",{children:"Existing Projects"}),n.map(P=>p.jsxs("div",{className:F.item,children:[p.jsxs("div",{className:F.itemInfo,children:[p.jsx("h4",{children:P.title}),p.jsx("p",{children:P.category})]}),p.jsx("div",{className:F.itemActions,children:b===P.id?p.jsxs("div",{className:F.confirmGroup,children:[p.jsx("span",{className:F.confirmLabel,children:"Are you sure?"}),p.jsx("button",{onClick:()=>r(P.id),className:F.deleteBtn,children:"Yes, Delete"}),p.jsx("button",{onClick:()=>v(null),className:F.cancelBtn,children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>I(P),className:F.editBtn,children:"Edit"}),p.jsx("button",{onClick:()=>v(P.id),className:F.deleteBtn,children:"Delete"})]})})]},P.id))]})]}):t==="careers"?p.jsxs("div",{className:F.section,children:[N?p.jsxs("form",{className:F.form,onSubmit:H,children:[p.jsx("h3",{children:"Edit Role"}),p.jsxs("div",{className:F.formGrid,children:[p.jsx("input",{placeholder:"Job Title",value:N.title,onChange:P=>D({...N,title:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Location",value:N.location,onChange:P=>D({...N,location:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Salary Range",value:N.salary,onChange:P=>D({...N,salary:P.target.value})}),p.jsx("input",{placeholder:"Type (Full-time/Contract)",value:N.type,onChange:P=>D({...N,type:P.target.value}),required:!0})]}),p.jsx("textarea",{placeholder:"Job Description",value:N.description,onChange:P=>D({...N,description:P.target.value}),required:!0}),p.jsxs("div",{className:F.buttonGroup,children:[p.jsx("button",{type:"submit",className:F.saveBtn,children:"Save Changes"}),p.jsx("button",{type:"button",onClick:()=>D(null),className:F.cancelBtn,children:"Cancel"})]})]}):p.jsxs("form",{className:F.form,onSubmit:qt,children:[p.jsx("h3",{children:"Add New Role"}),p.jsxs("div",{className:F.formGrid,children:[p.jsx("input",{placeholder:"Job Title",value:B.title,onChange:P=>q({...B,title:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Location",value:B.location,onChange:P=>q({...B,location:P.target.value}),required:!0}),p.jsx("input",{placeholder:"Salary Range",value:B.salary,onChange:P=>q({...B,salary:P.target.value})}),p.jsx("input",{placeholder:"Type (Full-time/Contract)",value:B.type,onChange:P=>q({...B,type:P.target.value}),required:!0})]}),p.jsx("textarea",{placeholder:"Job Description",value:B.description,onChange:P=>q({...B,description:P.target.value}),required:!0}),p.jsx("button",{type:"submit",children:"Post Job"})]}),p.jsxs("div",{className:F.list,children:[p.jsx("h3",{children:"Open Roles"}),a.map(P=>p.jsxs("div",{className:F.item,children:[p.jsxs("div",{className:F.itemInfo,children:[p.jsx("h4",{children:P.title}),p.jsxs("p",{children:[P.location,"  ",P.type]})]}),p.jsx("div",{className:F.itemActions,children:b===P.id?p.jsxs("div",{className:F.confirmGroup,children:[p.jsx("span",{className:F.confirmLabel,children:"Really delete?"}),p.jsx("button",{onClick:()=>u(P.id),className:F.deleteBtn,children:"Delete"}),p.jsx("button",{onClick:()=>v(null),className:F.cancelBtn,children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>D(P),className:F.editBtn,children:"Edit"}),p.jsx("button",{onClick:()=>v(P.id),className:F.deleteBtn,children:"Delete"})]})})]},P.id))]})]}):p.jsx("div",{className:F.section,children:p.jsxs("div",{className:F.list,children:[p.jsx("h3",{children:"Candidate Applications"}),f.length===0?p.jsx("p",{className:F.emptyMsg,children:"No applications yet."}):f.map(P=>p.jsxs("div",{className:F.appCard,children:[p.jsxs("div",{className:F.appHeader,children:[p.jsx("h4",{children:P.name}),p.jsx("span",{className:F.roleTag,children:P.jobTitle})]}),p.jsx("p",{className:F.appEmail,children:P.email}),p.jsxs("div",{className:F.appLinks,children:[p.jsxs("a",{href:P.resumeUrl,target:"_blank",rel:"noreferrer",className:F.link,children:[p.jsx("span",{className:"material-symbols-outlined",children:"description"})," Resume"]}),p.jsxs("a",{href:P.portfolio,target:"_blank",rel:"noreferrer",className:F.link,children:[p.jsx("span",{className:"material-symbols-outlined",children:"link"})," Portfolio"]})]}),p.jsx("div",{className:F.itemActions,children:b===P.id?p.jsxs("div",{className:F.confirmGroup,children:[p.jsx("button",{onClick:()=>m(P.id),className:F.deleteBtn,children:"Archive Now"}),p.jsx("button",{onClick:()=>v(null),className:F.cancelBtn,children:"No"})]}):p.jsx("button",{onClick:()=>v(P.id),className:F.deleteBtn,children:"Archive"})})]},P.id))]})})})]})})},VU="_applyPage_on2d8_1",kU="_formCard_on2d8_6",LU="_header_on2d8_16",PU="_badge_on2d8_21",UU="_title_on2d8_35",jU="_form_on2d8_6",BU="_field_on2d8_51",zU="_fileUpload_on2d8_74",qU="_status_on2d8_87",HU="_submitBtn_on2d8_94",Ft={applyPage:VU,formCard:kU,header:LU,badge:PU,title:UU,form:jU,field:BU,fileUpload:zU,status:qU,submitBtn:HU},FU=()=>{const{jobId:t}=bN(),e=Oa(),[n,i]=V.useState(""),[r,s]=V.useState(!1),[a,l]=V.useState({name:"",email:"",portfolio:"",resumeUrl:""}),u=async f=>{const m=f.target.files[0];if(!m)return;i("Uploading resume...");const g=hw(fw,`resumes/${Date.now()}_${m.name}`);try{await uw(g,m);const _=await cw(g);l({...a,resumeUrl:_}),i("Resume uploaded successfully.")}catch(_){console.error(_),i("Upload failed.")}},c=async f=>{if(f.preventDefault(),!a.resumeUrl){i("Please upload your resume first.");return}s(!0),i("Submitting application...");try{await f1(Im(Ao,"applications"),{...a,jobTitle:decodeURIComponent(t),date:new Date().toISOString()}),i("Application submitted successfully!"),setTimeout(()=>e("/careers"),2e3)}catch(m){console.error(m),i("Submission failed.")}finally{s(!1)}};return p.jsx("div",{className:Ft.applyPage,children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:Ft.formCard,children:[p.jsxs("header",{className:Ft.header,children:[p.jsx("span",{className:Ft.badge,children:"The next chapter"}),p.jsxs("h1",{className:Ft.title,children:["Applying for ",p.jsx("span",{children:decodeURIComponent(t)})]})]}),p.jsxs("form",{className:Ft.form,onSubmit:c,children:[p.jsxs("div",{className:Ft.field,children:[p.jsx("label",{children:"Full Name"}),p.jsx("input",{type:"text",placeholder:"Alexander Wright",required:!0,value:a.name,onChange:f=>l({...a,name:f.target.value})})]}),p.jsxs("div",{className:Ft.field,children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",placeholder:"alex@studio.com",required:!0,value:a.email,onChange:f=>l({...a,email:f.target.value})})]}),p.jsxs("div",{className:Ft.field,children:[p.jsx("label",{children:"Portfolio / LinkedIn"}),p.jsx("input",{type:"url",placeholder:"https://...",required:!0,value:a.portfolio,onChange:f=>l({...a,portfolio:f.target.value})})]}),p.jsxs("div",{className:Ft.field,children:[p.jsx("label",{children:"Your Resume (PDF / Word)"}),p.jsxs("div",{className:Ft.fileUpload,children:[p.jsx("input",{type:"file",onChange:u,accept:".pdf,.doc,.docx",required:!0}),p.jsx("p",{children:a.resumeUrl?"Ready to go":"Upload your resume"})]})]}),n&&p.jsx("p",{className:Ft.status,children:n}),p.jsx("button",{type:"submit",className:Ft.submitBtn,disabled:r,children:r?"Sending...":"Send it off"})]})]})})})},GU="_loginPage_niw1b_1",$U="_loginCard_niw1b_9",KU="_header_niw1b_20",YU="_logo_niw1b_24",QU="_tagline_niw1b_35",XU="_form_niw1b_43",WU="_field_niw1b_49",JU="_error_niw1b_80",ZU="_loginBtn_niw1b_86",On={loginPage:GU,loginCard:$U,header:KU,logo:YU,tagline:QU,form:XU,field:WU,error:JU,loginBtn:ZU},ej=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),[a,l]=V.useState(!1),u=Oa(),c=async f=>{f.preventDefault(),l(!0),s("");try{await vL(qg,t,n),u("/vault/internal/gate/secure/admin/dashboard")}catch(m){console.error(m),s("Invalid credentials. Access denied.")}finally{l(!1)}};return p.jsx("div",{className:On.loginPage,children:p.jsxs("div",{className:On.loginCard,children:[p.jsxs("div",{className:On.header,children:[p.jsxs("div",{className:On.logo,children:["Layer1",p.jsx("span",{children:".Studio"})]}),p.jsx("p",{className:On.tagline,children:"Internal Access Only"})]}),p.jsxs("form",{className:On.form,onSubmit:c,children:[p.jsxs("div",{className:On.field,children:[p.jsx("label",{children:"Admin Email"}),p.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"admin@layer1.studio",required:!0})]}),p.jsxs("div",{className:On.field,children:[p.jsx("label",{children:"Security Key"}),p.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"",required:!0})]}),r&&p.jsx("p",{className:On.error,children:r}),p.jsx("button",{type:"submit",className:On.loginBtn,disabled:a,children:a?"Verifying...":"Authorize Access"})]})]})})},tj=({children:t})=>{const[e,n]=ld.useState(null),[i,r]=ld.useState(!0);return V.useEffect(()=>{const s=bL(qg,a=>{n(a),r(!1)});return()=>s()},[]),i?null:e?t:p.jsx(LN,{to:"/vault/internal/gate/secure/auth/login",replace:!0})},nj=()=>{const{pathname:t}=Yn();return V.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function ij(){return p.jsxs(l2,{children:[p.jsx(nj,{}),p.jsxs("div",{className:"app",children:[p.jsx(R2,{}),p.jsxs(UN,{children:[p.jsx(ni,{path:"/",element:p.jsx(Bx,{})}),p.jsx(ni,{path:"/services",element:p.jsx(hD,{})}),p.jsx(ni,{path:"/portfolio",element:p.jsx(mP,{})}),p.jsx(ni,{path:"/careers",element:p.jsx(tU,{})}),p.jsx(ni,{path:"/apply/:jobId",element:p.jsx(FU,{})}),p.jsx(ni,{path:"/contact",element:p.jsx(MP,{})}),p.jsx(ni,{path:"/vault/internal/gate/secure/auth/login",element:p.jsx(ej,{})}),p.jsx(ni,{path:"/vault/internal/gate/secure/admin/dashboard",element:p.jsx(tj,{children:p.jsx(MU,{})})})]}),p.jsx(B2,{})]})]})}jI.createRoot(document.getElementById("root")).render(p.jsx(ld.StrictMode,{children:p.jsx(ij,{})}));
