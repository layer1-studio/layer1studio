(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function YE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KE={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=Symbol.for("react.transitional.element"),fw=Symbol.for("react.fragment");function QE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:hw,type:t,key:i,ref:e!==void 0?e:null,props:n}}Wc.Fragment=fw;Wc.jsx=QE;Wc.jsxs=QE;KE.exports=Wc;var d=KE.exports,XE={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=Symbol.for("react.transitional.element"),dw=Symbol.for("react.portal"),mw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),gw=Symbol.for("react.profiler"),_w=Symbol.for("react.consumer"),yw=Symbol.for("react.context"),vw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Tw=Symbol.for("react.memo"),WE=Symbol.for("react.lazy"),bw=Symbol.for("react.activity"),x_=Symbol.iterator;function Sw(t){return t===null||typeof t!="object"?null:(t=x_&&t[x_]||t["@@iterator"],typeof t=="function"?t:null)}var JE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZE=Object.assign,eT={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=eT,this.updater=n||JE}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tT(){}tT.prototype=Ta.prototype;function Dm(t,e,n){this.props=t,this.context=e,this.refs=eT,this.updater=n||JE}var Om=Dm.prototype=new tT;Om.constructor=Dm;ZE(Om,Ta.prototype);Om.isPureReactComponent=!0;var D_=Array.isArray;function sd(){}var De={H:null,A:null,T:null,S:null},nT=Object.prototype.hasOwnProperty;function Mm(t,e,n){var i=n.ref;return{$$typeof:xm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function Aw(t,e){return Mm(t.type,e,t.props)}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===xm}function ww(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O_=/\/+/g;function rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ww(""+t.key):e.toString(36)}function Rw(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(sd,sd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Sr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case xm:case dw:a=!0;break;case WE:return a=t._init,Sr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+rf(t,0):i,D_(s)?(n="",a!=null&&(n=a.replace(O_,"$&/")+"/"),Sr(s,e,n,"",function(c){return c})):s!=null&&(Vm(s)&&(s=Aw(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(O_,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(D_(t))for(var u=0;u<t.length;u++)i=t[u],r=l+rf(i,u),a+=Sr(i,e,n,r,s);else if(u=Sw(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+rf(i,u++),a+=Sr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return Sr(Rw(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function nu(t,e,n){if(t==null)return t;var i=[],s=0;return Sr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Cw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var M_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Iw={map:nu,forEach:function(t,e,n){nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nu(t,function(){e++}),e},toArray:function(t){return nu(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Activity=bw;ee.Children=Iw;ee.Component=Ta;ee.Fragment=mw;ee.Profiler=gw;ee.PureComponent=Dm;ee.StrictMode=pw;ee.Suspense=Ew;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=De;ee.__COMPILER_RUNTIME={__proto__:null,c:function(t){return De.H.useMemoCache(t)}};ee.cache=function(t){return function(){return t.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=ZE({},t.props),s=t.key;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)!nT.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];i.children=a}return Mm(t.type,s,i)};ee.createContext=function(t){return t={$$typeof:yw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:_w,_context:t},t};ee.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)nT.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Mm(t,r,s)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:vw,render:t}};ee.isValidElement=Vm;ee.lazy=function(t){return{$$typeof:WE,_payload:{_status:-1,_result:t},_init:Cw}};ee.memo=function(t,e){return{$$typeof:Tw,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=De.T,n={};De.T=n;try{var i=t(),s=De.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(sd,M_)}catch(r){M_(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),De.T=e}};ee.unstable_useCacheRefresh=function(){return De.H.useCacheRefresh()};ee.use=function(t){return De.H.use(t)};ee.useActionState=function(t,e,n){return De.H.useActionState(t,e,n)};ee.useCallback=function(t,e){return De.H.useCallback(t,e)};ee.useContext=function(t){return De.H.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t,e){return De.H.useDeferredValue(t,e)};ee.useEffect=function(t,e){return De.H.useEffect(t,e)};ee.useEffectEvent=function(t){return De.H.useEffectEvent(t)};ee.useId=function(){return De.H.useId()};ee.useImperativeHandle=function(t,e,n){return De.H.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return De.H.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return De.H.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return De.H.useMemo(t,e)};ee.useOptimistic=function(t,e){return De.H.useOptimistic(t,e)};ee.useReducer=function(t,e,n){return De.H.useReducer(t,e,n)};ee.useRef=function(t){return De.H.useRef(t)};ee.useState=function(t){return De.H.useState(t)};ee.useSyncExternalStore=function(t,e,n){return De.H.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return De.H.useTransition()};ee.version="19.2.4";XE.exports=ee;var V=XE.exports;const rd=YE(V);var iT={exports:{}},Jc={},sT={exports:{}},rT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,te){var W=F.length;F.push(te);e:for(;0<W;){var fe=W-1>>>1,je=F[fe];if(0<s(je,te))F[fe]=te,F[W]=je,W=fe;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var te=F[0],W=F.pop();if(W!==te){F[0]=W;e:for(var fe=0,je=F.length,Nn=je>>>1;fe<Nn;){var Jn=2*(fe+1)-1,Ii=F[Jn],Mt=Jn+1,xn=F[Mt];if(0>s(Ii,W))Mt<je&&0>s(xn,Ii)?(F[fe]=xn,F[Mt]=W,fe=Mt):(F[fe]=Ii,F[Jn]=W,fe=Jn);else if(Mt<je&&0>s(xn,W))F[fe]=xn,F[Mt]=W,fe=Mt;else break e}}return te}function s(F,te){var W=F.sortIndex-te.sortIndex;return W!==0?W:F.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,p=null,g=3,_=!1,I=!1,D=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function x(F){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=F)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function z(F){if(D=!1,x(F),!I)if(n(u)!==null)I=!0,B||(B=!0,N());else{var te=n(c);te!==null&&ot(z,te.startTime-F)}}var B=!1,T=-1,v=5,b=-1;function R(){return O?!0:!(t.unstable_now()-b<v)}function C(){if(O=!1,B){var F=t.unstable_now();b=F;var te=!0;try{e:{I=!1,D&&(D=!1,E(T),T=-1),_=!0;var W=g;try{t:{for(x(F),p=n(u);p!==null&&!(p.expirationTime>F&&R());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,g=p.priorityLevel;var je=fe(p.expirationTime<=F);if(F=t.unstable_now(),typeof je=="function"){p.callback=je,x(F),te=!0;break t}p===n(u)&&i(u),x(F)}else i(u);p=n(u)}if(p!==null)te=!0;else{var Nn=n(c);Nn!==null&&ot(z,Nn.startTime-F),te=!1}}break e}finally{p=null,g=W,_=!1}te=void 0}}finally{te?N():B=!1}}}var N;if(typeof A=="function")N=function(){A(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ve=w.port2;w.port1.onmessage=C,N=function(){ve.postMessage(null)}}else N=function(){S(C,0)};function ot(F,te){T=S(function(){F(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(F){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var W=g;g=te;try{return F()}finally{g=W}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=g;g=F;try{return te()}finally{g=W}},t.unstable_scheduleCallback=function(F,te,W){var fe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,F){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=W+je,F={id:f++,callback:te,priorityLevel:F,startTime:W,expirationTime:je,sortIndex:-1},W>fe?(F.sortIndex=W,e(c,F),n(u)===null&&F===n(c)&&(D?(E(T),T=-1):D=!0,ot(z,W-fe))):(F.sortIndex=je,e(u,F),I||_||(I=!0,B||(B=!0,N()))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var te=g;return function(){var W=g;g=te;try{return F.apply(this,arguments)}finally{g=W}}}})(rT);sT.exports=rT;var Nw=sT.exports,aT={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=V;function oT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ki(){}var Dt={d:{f:ki,r:function(){throw Error(oT(522))},D:ki,C:ki,L:ki,m:ki,X:ki,S:ki,M:ki},p:0,findDOMNode:null},Dw=Symbol.for("react.portal");function Ow(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ro=xw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(oT(299));return Ow(t,e,null,n)};Ot.flushSync=function(t){var e=Ro.T,n=Dt.p;try{if(Ro.T=null,Dt.p=2,t)return t()}finally{Ro.T=e,Dt.p=n,Dt.d.f()}};Ot.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Dt.d.C(t,e))};Ot.prefetchDNS=function(t){typeof t=="string"&&Dt.d.D(t)};Ot.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Zc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Dt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Dt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ot.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Zc(e.as,e.crossOrigin);Dt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Dt.d.M(t)};Ot.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Zc(n,e.crossOrigin);Dt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ot.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Zc(e.as,e.crossOrigin);Dt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Dt.d.m(t)};Ot.requestFormReset=function(t){Dt.d.r(t)};Ot.unstable_batchedUpdates=function(t,e){return t(e)};Ot.useFormState=function(t,e,n){return Ro.H.useFormState(t,e,n)};Ot.useFormStatus=function(){return Ro.H.useHostTransitionStatus()};Ot.version="19.2.4";function lT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lT)}catch(t){console.error(t)}}lT(),aT.exports=Ot;var Mw=aT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=Nw,uT=V,Vw=Mw;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function cT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V_(t){if(yl(t)!==t)throw Error(L(188))}function kw(t){var e=t.alternate;if(!e){if(e=yl(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return V_(s),t;if(r===i)return V_(s),e;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function dT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=dT(t),e!==null)return e;t=t.sibling}return null}var Oe=Object.assign,Lw=Symbol.for("react.element"),iu=Symbol.for("react.transitional.element"),mo=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),mT=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),pT=Symbol.for("react.consumer"),li=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),ud=Symbol.for("react.activity"),Pw=Symbol.for("react.memo_cache_sentinel"),k_=Symbol.iterator;function so(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var jw=Symbol.for("react.client.reference");function cd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===jw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xr:return"Fragment";case ad:return"Profiler";case mT:return"StrictMode";case od:return"Suspense";case ld:return"SuspenseList";case ud:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case mo:return"Portal";case li:return t.displayName||"Context";case pT:return(t._context.displayName||"Context")+".Consumer";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:cd(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return cd(t(e))}catch{}}return null}var po=Array.isArray,X=uT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=Vw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fs={pending:!1,data:null,method:null,action:null},hd=[],Dr=-1;function Yn(t){return{current:t}}function ft(t){0>Dr||(t.current=hd[Dr],hd[Dr]=null,Dr--)}function we(t,e){Dr++,hd[Dr]=t.current,t.current=e}var jn=Yn(null),Yo=Yn(null),es=Yn(null),Zu=Yn(null);function ec(t,e){switch(we(es,e),we(Yo,t),we(jn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?By(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=By(e),t=kb(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(jn),we(jn,t)}function na(){ft(jn),ft(Yo),ft(es)}function fd(t){t.memoizedState!==null&&we(Zu,t);var e=jn.current,n=kb(e,t.type);e!==n&&(we(Yo,t),we(jn,n))}function tc(t){Yo.current===t&&(ft(jn),ft(Yo)),Zu.current===t&&(ft(Zu),sl._currentValue=Fs)}var af,L_;function js(t){if(af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);af=e&&e[1]||"",L_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+af+t+L_}var of=!1;function lf(t,e){if(!t||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var g=_}Reflect.construct(t,[],p)}else{try{p.call()}catch(_){g=_}t.call(p.prototype)}}else{try{throw Error()}catch(_){g=_}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=s);break}}}finally{of=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?js(n):""}function Uw(t,e){switch(t.tag){case 26:case 27:case 5:return js(t.type);case 16:return js("Lazy");case 13:return t.child!==e&&e!==null?js("Suspense Fallback"):js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return lf(t.type,!1);case 11:return lf(t.type.render,!1);case 1:return lf(t.type,!0);case 31:return js("Activity");default:return""}}function P_(t){try{var e="",n=null;do e+=Uw(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var dd=Object.prototype.hasOwnProperty,Pm=at.unstable_scheduleCallback,uf=at.unstable_cancelCallback,zw=at.unstable_shouldYield,Bw=at.unstable_requestPaint,Wt=at.unstable_now,qw=at.unstable_getCurrentPriorityLevel,gT=at.unstable_ImmediatePriority,_T=at.unstable_UserBlockingPriority,nc=at.unstable_NormalPriority,Hw=at.unstable_LowPriority,yT=at.unstable_IdlePriority,Fw=at.log,Gw=at.unstable_setDisableYieldValue,vl=null,Jt=null;function Ki(t){if(typeof Fw=="function"&&Gw(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(vl,t)}catch{}}var Zt=Math.clz32?Math.clz32:Kw,$w=Math.log,Yw=Math.LN2;function Kw(t){return t>>>=0,t===0?32:31-($w(t)/Yw|0)|0}var su=256,ru=262144,au=4194304;function Us(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function eh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=Us(i):(a&=l,a!==0?s=Us(a):n||(n=l&~t,n!==0&&(s=Us(n))))):(l=i&~r,l!==0?s=Us(l):a!==0?s=Us(a):n||(n=i&~t,n!==0&&(s=Us(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function El(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Qw(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(){var t=au;return au<<=1,!(au&62914560)&&(au=4194304),t}function cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xw(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Zt(n),p=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var _=g[f];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&ET(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function ET(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Zt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function TT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Zt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function bT(t,e){var n=e&-e;return n=n&42?1:jm(n),n&(t.suspendedLanes|e)?0:n}function jm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Um(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ST(){var t=pe.p;return t!==0?t:(t=window.event,t===void 0?32:$b(t.type))}function j_(t,e){var n=pe.p;try{return pe.p=t,e()}finally{pe.p=n}}var Rs=Math.random().toString(36).slice(2),pt="__reactFiber$"+Rs,Bt="__reactProps$"+Rs,ba="__reactContainer$"+Rs,md="__reactEvents$"+Rs,Ww="__reactListeners$"+Rs,Jw="__reactHandles$"+Rs,U_="__reactResources$"+Rs,bl="__reactMarker$"+Rs;function zm(t){delete t[pt],delete t[Bt],delete t[md],delete t[Ww],delete t[Jw]}function Or(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ba]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$y(t);t!==null;){if(n=t[pt])return n;t=$y(t)}return e}t=n,n=t.parentNode}return null}function Sa(t){if(t=t[pt]||t[ba]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function go(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Hr(t){var e=t[U_];return e||(e=t[U_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ht(t){t[bl]=!0}var AT=new Set,wT={};function or(t,e){ia(t,e),ia(t+"Capture",e)}function ia(t,e){for(wT[t]=e,t=0;t<e.length;t++)AT.add(e[t])}var Zw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z_={},B_={};function eR(t){return dd.call(B_,t)?!0:dd.call(z_,t)?!1:Zw.test(t)?B_[t]=!0:(z_[t]=!0,!1)}function Ru(t,e,n){if(eR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ou(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Zn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pd(t){if(!t._valueTracker){var e=RT(t)?"checked":"value";t._valueTracker=tR(t,e,""+t[e])}}function CT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=RT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nR=/[\n"\\]/g;function cn(t){return t.replace(nR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gd(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+on(e)):t.value!==""+on(e)&&(t.value=""+on(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?_d(t,a,on(e)):n!=null?_d(t,a,on(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+on(l):t.removeAttribute("name")}function IT(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){pd(t);return}n=n!=null?""+on(n):"",e=e!=null?""+on(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),pd(t)}function _d(t,e,n){e==="number"&&ic(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Fr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+on(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function NT(t,e,n){if(e!=null&&(e=""+on(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+on(n):""}function xT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(po(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=on(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),pd(t)}function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q_(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||iR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function DT(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&q_(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&q_(t,r,e[r])}function Bm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(t){return rR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var yd=null;function qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Gr=null;function H_(t){var e=Sa(t);if(e&&(t=e.stateNode)){var n=t[Bt]||null;e:switch(t=e.stateNode,e.type){case"input":if(gd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Bt]||null;if(!s)throw Error(L(90));gd(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&CT(i)}break e;case"textarea":NT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Fr(t,!!n.multiple,e,!1)}}}var hf=!1;function OT(t,e,n){if(hf)return t(e,n);hf=!0;try{var i=t(e);return i}finally{if(hf=!1,(Mr!==null||Gr!==null)&&(fh(),Mr&&(e=Mr,t=Gr,Gr=Mr=null,H_(e),t)))for(e=0;e<t.length;e++)H_(t[e])}}function Ko(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Bt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=!1;if(_i)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){vd=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{vd=!1}var Qi=null,Hm=null,Iu=null;function MT(){if(Iu)return Iu;var t,e=Hm,n=e.length,i,s="value"in Qi?Qi.value:Qi.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return Iu=s.slice(t,1<i?1-i:void 0)}function Nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lu(){return!0}function F_(){return!1}function qt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?lu:F_,this.isPropagationStopped=F_,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),e}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=qt(lr),Sl=Oe({},lr,{view:0,detail:0}),aR=qt(Sl),ff,df,ao,nh=Oe({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(ff=t.screenX-ao.screenX,df=t.screenY-ao.screenY):df=ff=0,ao=t),ff)},movementY:function(t){return"movementY"in t?t.movementY:df}}),G_=qt(nh),oR=Oe({},nh,{dataTransfer:0}),lR=qt(oR),uR=Oe({},Sl,{relatedTarget:0}),mf=qt(uR),cR=Oe({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),hR=qt(cR),fR=Oe({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dR=qt(fR),mR=Oe({},lr,{data:0}),$_=qt(mR),pR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_R[t])?!!e[t]:!1}function Fm(){return yR}var vR=Oe({},Sl,{key:function(t){if(t.key){var e=pR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?Nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=qt(vR),TR=Oe({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=qt(TR),bR=Oe({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),SR=qt(bR),AR=Oe({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wR=qt(AR),RR=Oe({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=qt(RR),IR=Oe({},lr,{newState:0,oldState:0}),NR=qt(IR),xR=[9,13,27,32],Gm=_i&&"CompositionEvent"in window,Co=null;_i&&"documentMode"in document&&(Co=document.documentMode);var DR=_i&&"TextEvent"in window&&!Co,VT=_i&&(!Gm||Co&&8<Co&&11>=Co),K_=" ",Q_=!1;function kT(t,e){switch(t){case"keyup":return xR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function OR(t,e){switch(t){case"compositionend":return LT(e);case"keypress":return e.which!==32?null:(Q_=!0,K_);case"textInput":return t=e.data,t===K_&&Q_?null:t;default:return null}}function MR(t,e){if(Vr)return t==="compositionend"||!Gm&&kT(t,e)?(t=MT(),Iu=Hm=Qi=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VT&&e.locale!=="ko"?null:e.data;default:return null}}var VR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VR[t.type]:e==="textarea"}function PT(t,e,n,i){Mr?Gr?Gr.push(i):Gr=[i]:Mr=i,e=Tc(e,"onChange"),0<e.length&&(n=new th("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Io=null,Qo=null;function kR(t){Ob(t,0)}function ih(t){var e=go(t);if(CT(e))return t}function W_(t,e){if(t==="change")return e}var jT=!1;if(_i){var pf;if(_i){var gf="oninput"in document;if(!gf){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),gf=typeof J_.oninput=="function"}pf=gf}else pf=!1;jT=pf&&(!document.documentMode||9<document.documentMode)}function Z_(){Io&&(Io.detachEvent("onpropertychange",UT),Qo=Io=null)}function UT(t){if(t.propertyName==="value"&&ih(Qo)){var e=[];PT(e,Qo,t,qm(t)),OT(kR,e)}}function LR(t,e,n){t==="focusin"?(Z_(),Io=e,Qo=n,Io.attachEvent("onpropertychange",UT)):t==="focusout"&&Z_()}function PR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(Qo)}function jR(t,e){if(t==="click")return ih(e)}function UR(t,e){if(t==="input"||t==="change")return ih(e)}function zR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:zR;function Xo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!dd.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,e){var n=ey(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ey(n)}}function zT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ic(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var BR=_i&&"documentMode"in document&&11>=document.documentMode,kr=null,Ed=null,No=null,Td=!1;function ny(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Td||kr==null||kr!==ic(i)||(i=kr,"selectionStart"in i&&$m(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),No&&Xo(No,i)||(No=i,i=Tc(Ed,"onSelect"),0<i.length&&(e=new th("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=kr)))}function Ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},_f={},qT={};_i&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function ur(t){if(_f[t])return _f[t];if(!Lr[t])return t;var e=Lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qT)return _f[t]=e[n];return t}var HT=ur("animationend"),FT=ur("animationiteration"),GT=ur("animationstart"),qR=ur("transitionrun"),HR=ur("transitionstart"),FR=ur("transitioncancel"),$T=ur("transitionend"),YT=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function Cn(t,e){YT.set(t,e),or(e,[t])}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Pr=0,Ym=0;function sh(){for(var t=Pr,e=Ym=Pr=0;e<t;){var n=an[e];an[e++]=null;var i=an[e];an[e++]=null;var s=an[e];an[e++]=null;var r=an[e];if(an[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&KT(n,s,r)}}function rh(t,e,n,i){an[Pr++]=t,an[Pr++]=e,an[Pr++]=n,an[Pr++]=i,Ym|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Km(t,e,n,i){return rh(t,e,n,i),rc(t)}function cr(t,e){return rh(t,null,null,e),rc(t)}function KT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-Zt(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function rc(t){if(50<jo)throw jo=0,Hd=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var jr={};function GR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,i){return new GR(t,e,n,i)}function Qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function di(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function QT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")Qm(t)&&(a=1);else if(typeof t=="string")a=XC(t,n,jn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ud:return t=Kt(31,n,e,s),t.elementType=ud,t.lanes=r,t;case xr:return Gs(n.children,s,r,e);case mT:a=8,s|=24;break;case ad:return t=Kt(12,n,e,s|2),t.elementType=ad,t.lanes=r,t;case od:return t=Kt(13,n,e,s),t.elementType=od,t.lanes=r,t;case ld:return t=Kt(19,n,e,s),t.elementType=ld,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case li:a=10;break e;case pT:a=9;break e;case km:a=11;break e;case Lm:a=14;break e;case Pi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Kt(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Gs(t,e,n,i){return t=Kt(7,t,i,e),t.lanes=n,t}function yf(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function XT(t){var e=Kt(18,null,null,0);return e.stateNode=t,e}function vf(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var iy=new WeakMap;function hn(t,e){if(typeof t=="object"&&t!==null){var n=iy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:P_(e)},iy.set(t,e),e)}return{value:t,source:e,stack:P_(e)}}var Ur=[],zr=0,ac=null,Wo=0,ln=[],un=0,ps=null,kn=1,Ln="";function ai(t,e){Ur[zr++]=Wo,Ur[zr++]=ac,ac=t,Wo=e}function WT(t,e,n){ln[un++]=kn,ln[un++]=Ln,ln[un++]=ps,ps=t;var i=kn;t=Ln;var s=32-Zt(i)-1;i&=~(1<<s),n+=1;var r=32-Zt(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,kn=1<<32-Zt(e)+s|n<<s|i,Ln=r+t}else kn=1<<r|n<<s|i,Ln=t}function Xm(t){t.return!==null&&(ai(t,1),WT(t,1,0))}function Wm(t){for(;t===ac;)ac=Ur[--zr],Ur[zr]=null,Wo=Ur[--zr],Ur[zr]=null;for(;t===ps;)ps=ln[--un],ln[un]=null,Ln=ln[--un],ln[un]=null,kn=ln[--un],ln[un]=null}function JT(t,e){ln[un++]=kn,ln[un++]=Ln,ln[un++]=ps,kn=e.id,Ln=e.overflow,ps=t}var gt=null,Ne=null,ce=!1,ts=null,fn=!1,Sd=Error(L(519));function gs(t){var e=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(hn(e,t)),Sd}function sy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[pt]=t,e[Bt]=i,n){case"dialog":se("cancel",e),se("close",e);break;case"iframe":case"object":case"embed":se("load",e);break;case"video":case"audio":for(n=0;n<nl.length;n++)se(nl[n],e);break;case"source":se("error",e);break;case"img":case"image":case"link":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"input":se("invalid",e),IT(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":se("invalid",e);break;case"textarea":se("invalid",e),xT(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Vb(e.textContent,n)?(i.popover!=null&&(se("beforetoggle",e),se("toggle",e)),i.onScroll!=null&&se("scroll",e),i.onScrollEnd!=null&&se("scrollend",e),i.onClick!=null&&(e.onclick=ui),e=!0):e=!1,e||gs(t,!0)}function ry(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:gt=gt.return}}function Tr(t){if(t!==gt)return!1;if(!ce)return ry(t),ce=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Kd(t.type,t.memoizedProps)),n=!n),n&&Ne&&gs(t),ry(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Ne=Gy(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));Ne=Gy(t)}else e===27?(e=Ne,Cs(t.type)?(t=Jd,Jd=null,Ne=t):Ne=e):Ne=gt?gn(t.stateNode.nextSibling):null;return!0}function Ws(){Ne=gt=null,ce=!1}function Ef(){var t=ts;return t!==null&&(Pt===null?Pt=t:Pt.push.apply(Pt,t),ts=null),t}function Jo(t){ts===null?ts=[t]:ts.push(t)}var Ad=Yn(null),hr=null,ci=null;function zi(t,e,n){we(Ad,e._currentValue),e._currentValue=n}function mi(t){t._currentValue=Ad.current,ft(Ad)}function wd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Rd(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),wd(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),wd(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Aa(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=s.type;tn(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===Zu.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}s=s.return}t!==null&&Rd(e,t,n,i),e.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){hr=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return ZT(hr,t)}function uu(t,e){return hr===null&&Js(t),ZT(t,e)}function ZT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(L(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var $R=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},YR=at.unstable_scheduleCallback,KR=at.unstable_NormalPriority,We={$$typeof:li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new $R,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&YR(KR,function(){t.controller.abort()})}var xo=null,Cd=0,ra=0,$r=null;function QR(t,e){if(xo===null){var n=xo=[];Cd=0,ra=Sp(),$r={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Cd++,e.then(ay,ay),e}function ay(){if(--Cd===0&&xo!==null){$r!==null&&($r.status="fulfilled");var t=xo;xo=null,ra=0,$r=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function XR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var oy=X.S;X.S=function(t,e){db=Wt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&QR(t,e),oy!==null&&oy(t,e)};var $s=Yn(null);function Zm(){var t=$s.current;return t!==null?t:Se.pooledCache}function Du(t,e){e===null?we($s,$s.current):we($s,e.pool)}function e0(){var t=Zm();return t===null?null:{parent:We._currentValue,pool:t}}var wa=Error(L(460)),ep=Error(L(474)),ah=Error(L(542)),lc={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function t0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ui,ui),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cy(t),t;default:if(typeof e.status=="string")e.then(ui,ui);else{if(t=Se,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cy(t),t}throw Ys=e,wa}}function zs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ys=n,wa):n}}var Ys=null;function uy(){if(Ys===null)throw Error(L(459));var t=Ys;return Ys=null,t}function cy(t){if(t===wa||t===ah)throw Error(L(483))}var Yr=null,Zo=0;function cu(t){var e=Zo;return Zo+=1,Yr===null&&(Yr=[]),t0(Yr,t,e)}function oo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function hu(t,e){throw e.$$typeof===Lw?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function n0(t){function e(S,E){if(t){var A=S.deletions;A===null?(S.deletions=[E],S.flags|=16):A.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S){for(var E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function s(S,E){return S=di(S,E),S.index=0,S.sibling=null,S}function r(S,E,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<E?(S.flags|=67108866,E):A):(S.flags|=67108866,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function l(S,E,A,x){return E===null||E.tag!==6?(E=yf(A,S.mode,x),E.return=S,E):(E=s(E,A),E.return=S,E)}function u(S,E,A,x){var z=A.type;return z===xr?f(S,E,A.props.children,x,A.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Pi&&zs(z)===E.type)?(E=s(E,A.props),oo(E,A),E.return=S,E):(E=xu(A.type,A.key,A.props,null,S.mode,x),oo(E,A),E.return=S,E)}function c(S,E,A,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=vf(A,S.mode,x),E.return=S,E):(E=s(E,A.children||[]),E.return=S,E)}function f(S,E,A,x,z){return E===null||E.tag!==7?(E=Gs(A,S.mode,x,z),E.return=S,E):(E=s(E,A),E.return=S,E)}function p(S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=yf(""+E,S.mode,A),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iu:return A=xu(E.type,E.key,E.props,null,S.mode,A),oo(A,E),A.return=S,A;case mo:return E=vf(E,S.mode,A),E.return=S,E;case Pi:return E=zs(E),p(S,E,A)}if(po(E)||so(E))return E=Gs(E,S.mode,A,null),E.return=S,E;if(typeof E.then=="function")return p(S,cu(E),A);if(E.$$typeof===li)return p(S,uu(S,E),A);hu(S,E)}return null}function g(S,E,A,x){var z=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:l(S,E,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case iu:return A.key===z?u(S,E,A,x):null;case mo:return A.key===z?c(S,E,A,x):null;case Pi:return A=zs(A),g(S,E,A,x)}if(po(A)||so(A))return z!==null?null:f(S,E,A,x,null);if(typeof A.then=="function")return g(S,E,cu(A),x);if(A.$$typeof===li)return g(S,E,uu(S,A),x);hu(S,A)}return null}function _(S,E,A,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return S=S.get(A)||null,l(E,S,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iu:return S=S.get(x.key===null?A:x.key)||null,u(E,S,x,z);case mo:return S=S.get(x.key===null?A:x.key)||null,c(E,S,x,z);case Pi:return x=zs(x),_(S,E,A,x,z)}if(po(x)||so(x))return S=S.get(A)||null,f(E,S,x,z,null);if(typeof x.then=="function")return _(S,E,A,cu(x),z);if(x.$$typeof===li)return _(S,E,A,uu(E,x),z);hu(E,x)}return null}function I(S,E,A,x){for(var z=null,B=null,T=E,v=E=0,b=null;T!==null&&v<A.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var R=g(S,T,A[v],x);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(S,T),E=r(R,E,v),B===null?z=R:B.sibling=R,B=R,T=b}if(v===A.length)return n(S,T),ce&&ai(S,v),z;if(T===null){for(;v<A.length;v++)T=p(S,A[v],x),T!==null&&(E=r(T,E,v),B===null?z=T:B.sibling=T,B=T);return ce&&ai(S,v),z}for(T=i(T);v<A.length;v++)b=_(T,S,v,A[v],x),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=r(b,E,v),B===null?z=b:B.sibling=b,B=b);return t&&T.forEach(function(C){return e(S,C)}),ce&&ai(S,v),z}function D(S,E,A,x){if(A==null)throw Error(L(151));for(var z=null,B=null,T=E,v=E=0,b=null,R=A.next();T!==null&&!R.done;v++,R=A.next()){T.index>v?(b=T,T=null):b=T.sibling;var C=g(S,T,R.value,x);if(C===null){T===null&&(T=b);break}t&&T&&C.alternate===null&&e(S,T),E=r(C,E,v),B===null?z=C:B.sibling=C,B=C,T=b}if(R.done)return n(S,T),ce&&ai(S,v),z;if(T===null){for(;!R.done;v++,R=A.next())R=p(S,R.value,x),R!==null&&(E=r(R,E,v),B===null?z=R:B.sibling=R,B=R);return ce&&ai(S,v),z}for(T=i(T);!R.done;v++,R=A.next())R=_(T,S,v,R.value,x),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?v:R.key),E=r(R,E,v),B===null?z=R:B.sibling=R,B=R);return t&&T.forEach(function(N){return e(S,N)}),ce&&ai(S,v),z}function O(S,E,A,x){if(typeof A=="object"&&A!==null&&A.type===xr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case iu:e:{for(var z=A.key;E!==null;){if(E.key===z){if(z=A.type,z===xr){if(E.tag===7){n(S,E.sibling),x=s(E,A.props.children),x.return=S,S=x;break e}}else if(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Pi&&zs(z)===E.type){n(S,E.sibling),x=s(E,A.props),oo(x,A),x.return=S,S=x;break e}n(S,E);break}else e(S,E);E=E.sibling}A.type===xr?(x=Gs(A.props.children,S.mode,x,A.key),x.return=S,S=x):(x=xu(A.type,A.key,A.props,null,S.mode,x),oo(x,A),x.return=S,S=x)}return a(S);case mo:e:{for(z=A.key;E!==null;){if(E.key===z)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(S,E.sibling),x=s(E,A.children||[]),x.return=S,S=x;break e}else{n(S,E);break}else e(S,E);E=E.sibling}x=vf(A,S.mode,x),x.return=S,S=x}return a(S);case Pi:return A=zs(A),O(S,E,A,x)}if(po(A))return I(S,E,A,x);if(so(A)){if(z=so(A),typeof z!="function")throw Error(L(150));return A=z.call(A),D(S,E,A,x)}if(typeof A.then=="function")return O(S,E,cu(A),x);if(A.$$typeof===li)return O(S,E,uu(S,A),x);hu(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(n(S,E.sibling),x=s(E,A),x.return=S,S=x):(n(S,E),x=yf(A,S.mode,x),x.return=S,S=x),a(S)):n(S,E)}return function(S,E,A,x){try{Zo=0;var z=O(S,E,A,x);return Yr=null,z}catch(T){if(T===wa||T===ah)throw T;var B=Kt(29,T,null,S.mode);return B.lanes=x,B.return=S,B}finally{}}}var Zs=n0(!0),i0=n0(!1),ji=!1;function tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ns(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function is(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=rc(t),KT(t,null,n),e}return rh(t,i,e,n),rc(t)}function Do(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,TT(t,n)}}function Tf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Nd=!1;function Oo(){if(Nd){var t=$r;if(t!==null)throw t}}function Mo(t,e,n,i){Nd=!1;var s=t.updateQueue;ji=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,f=c=u=null,l=r;do{var g=l.lane&-536870913,_=g!==l.lane;if(_?(ue&g)===g:(i&g)===g){g!==0&&g===ra&&(Nd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=t,D=l;g=e;var O=n;switch(D.tag){case 1:if(I=D.payload,typeof I=="function"){p=I.call(O,p,g);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=D.payload,g=typeof I=="function"?I.call(O,p,g):I,g==null)break e;p=Oe({},p,g);break e;case 2:ji=!0}}g=l.callback,g!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[g]:_.push(g))}else _={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;_=l,l=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,r===null&&(s.shared.lanes=0),ys|=a,t.lanes=a,t.memoizedState=p}}function s0(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function r0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)s0(n[t],e)}var aa=Yn(null),uc=Yn(0);function hy(t,e){t=Ti,we(uc,t),we(aa,e),Ti=t|e.baseLanes}function xd(){we(uc,Ti),we(aa,aa.current)}function np(){Ti=uc.current,ft(aa),ft(uc)}var nn=Yn(null),pn=null;function Bi(t){var e=t.alternate;we(Fe,Fe.current&1),we(nn,t),pn===null&&(e===null||aa.current!==null||e.memoizedState!==null)&&(pn=t)}function Dd(t){we(Fe,Fe.current),we(nn,t),pn===null&&(pn=t)}function a0(t){t.tag===22?(we(Fe,Fe.current),we(nn,t),pn===null&&(pn=t)):qi()}function qi(){we(Fe,Fe.current),we(nn,nn.current)}function Yt(t){ft(nn),pn===t&&(pn=null),ft(Fe)}var Fe=Yn(0);function cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xd(n)||Wd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yi=0,ne=null,Te=null,Qe=null,hc=!1,Kr=!1,er=!1,fc=0,el=0,Qr=null,WR=0;function Be(){throw Error(L(321))}function ip(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function sp(t,e,n,i,s,r){return yi=r,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,X.H=t===null||t.memoizedState===null?P0:pp,er=!1,r=n(i,s),er=!1,Kr&&(r=l0(e,n,i,s)),o0(t),r}function o0(t){X.H=tl;var e=Te!==null&&Te.next!==null;if(yi=0,Qe=Te=ne=null,hc=!1,el=0,Qr=null,e)throw Error(L(300));t===null||Ze||(t=t.dependencies,t!==null&&oc(t)&&(Ze=!0))}function l0(t,e,n,i){ne=t;var s=0;do{if(Kr&&(Qr=null),el=0,Kr=!1,25<=s)throw Error(L(301));if(s+=1,Qe=Te=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}X.H=j0,r=e(n,i)}while(Kr);return r}function JR(){var t=X.H,e=t.useState()[0];return e=typeof e.then=="function"?wl(e):e,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(ne.flags|=1024),e}function rp(){var t=fc!==0;return fc=0,t}function ap(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function op(t){if(hc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}hc=!1}yi=0,Qe=Te=ne=null,Kr=!1,el=fc=0,Qr=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ne.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ge(){if(Te===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Qe===null?ne.memoizedState:Qe.next;if(e!==null)Qe=e,Te=t;else{if(t===null)throw ne.alternate===null?Error(L(467)):Error(L(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?ne.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var e=el;return el+=1,Qr===null&&(Qr=[]),t=t0(Qr,t,e),e=ne,(Qe===null?e.memoizedState:Qe.next)===null&&(e=e.alternate,X.H=e===null||e.memoizedState===null?P0:pp),t}function lh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===li)return yt(t)}throw Error(L(438,String(t)))}function lp(t){var e=null,n=ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ne.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=oh(),ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Pw;return e.index++,n}function vi(t,e){return typeof e=="function"?e(t):e}function Ou(t){var e=Ge();return up(e,Te,t)}function up(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,c=e,f=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ue&p)===p:(yi&p)===p){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===ra&&(f=!0);else if((yi&g)===g){c=c.next,g===ra&&(f=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=r):u=u.next=p,ne.lanes|=g,ys|=g;p=c.action,er&&n(r,p),r=c.hasEagerState?c.eagerState:n(r,p)}else g={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,ne.lanes|=p,ys|=p;c=c.next}while(c!==null&&c!==e);if(u===null?a=r:u.next=l,!tn(r,t.memoizedState)&&(Ze=!0,f&&(n=$r,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function bf(t){var e=Ge(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);tn(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function u0(t,e,n){var i=ne,s=Ge(),r=ce;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!tn((Te||s).memoizedState,n);if(a&&(s.memoizedState=n,Ze=!0),s=s.queue,cp(f0.bind(null,i,s,t),[t]),s.getSnapshot!==e||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},h0.bind(null,i,s,n,e),null),Se===null)throw Error(L(349));r||yi&127||c0(i,e,n)}return n}function c0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e=oh(),ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function h0(t,e,n,i){e.value=n,e.getSnapshot=i,d0(e)&&m0(t)}function f0(t,e,n){return n(function(){d0(e)&&m0(t)})}function d0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function m0(t){var e=cr(t,2);e!==null&&zt(e,t,2)}function Od(t){var e=xt();if(typeof t=="function"){var n=t;if(t=n(),er){Ki(!0);try{n()}finally{Ki(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},e}function p0(t,e,n,i){return t.baseState=n,up(t,Te,typeof i=="function"?i:vi)}function ZR(t,e,n,i,s){if(ch(t))throw Error(L(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};X.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,g0(e,r)):(r.next=n.next,e.pending=n.next=r)}}function g0(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=X.T,a={};X.T=a;try{var l=n(s,i),u=X.S;u!==null&&u(a,l),fy(t,e,l)}catch(c){Md(t,e,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),X.T=r}}else try{r=n(s,i),fy(t,e,r)}catch(c){Md(t,e,c)}}function fy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){dy(t,e,i)},function(i){return Md(t,e,i)}):dy(t,e,n)}function dy(t,e,n){e.status="fulfilled",e.value=n,_0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,g0(t,n)))}function Md(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,_0(e),e=e.next;while(e!==i)}t.action=null}function _0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function y0(t,e){return e}function my(t,e){if(ce){var n=Se.formState;if(n!==null){e:{var i=ne;if(ce){if(Ne){t:{for(var s=Ne,r=fn;s.nodeType!==8;){if(!r){s=null;break t}if(s=gn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ne=gn(s.nextSibling),i=s.data==="F!";break e}}gs(i)}i=!1}i&&(e=n[0])}}return n=xt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:e},n.queue=i,n=V0.bind(null,ne,i),i.dispatch=n,i=Od(!1),r=mp.bind(null,ne,!1,i.queue),i=xt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=ZR.bind(null,ne,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function py(t){var e=Ge();return v0(e,Te,t)}function v0(t,e,n){if(e=up(t,e,y0)[0],t=Ou(vi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=wl(e)}catch(a){throw a===wa?ah:a}else i=e;e=Ge();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(ne.flags|=2048,oa(9,{destroy:void 0},eC.bind(null,s,n),null)),[i,r,t]}function eC(t,e){t.action=e}function gy(t){var e=Ge(),n=Te;if(n!==null)return v0(e,n,t);Ge(),e=e.memoizedState,n=Ge();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function oa(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ne.updateQueue,e===null&&(e=oh(),ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function E0(){return Ge().memoizedState}function Mu(t,e,n,i){var s=xt();ne.flags|=t,s.memoizedState=oa(1|e,{destroy:void 0},n,i===void 0?null:i)}function uh(t,e,n,i){var s=Ge();i=i===void 0?null:i;var r=s.memoizedState.inst;Te!==null&&i!==null&&ip(i,Te.memoizedState.deps)?s.memoizedState=oa(e,r,n,i):(ne.flags|=t,s.memoizedState=oa(1|e,r,n,i))}function _y(t,e){Mu(8390656,8,t,e)}function cp(t,e){uh(2048,8,t,e)}function tC(t){ne.flags|=4;var e=ne.updateQueue;if(e===null)e=oh(),ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function T0(t){var e=Ge().memoizedState;return tC({ref:e,nextImpl:t}),function(){if(me&2)throw Error(L(440));return e.impl.apply(void 0,arguments)}}function b0(t,e){return uh(4,2,t,e)}function S0(t,e){return uh(4,4,t,e)}function A0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w0(t,e,n){n=n!=null?n.concat([t]):null,uh(4,4,A0.bind(null,e,t),n)}function hp(){}function R0(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&ip(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=Ge();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&ip(e,i[1]))return i[0];if(i=t(),er){Ki(!0);try{t()}finally{Ki(!1)}}return n.memoizedState=[i,e],i}function fp(t,e,n){return n===void 0||yi&1073741824&&!(ue&261930)?t.memoizedState=e:(t.memoizedState=n,t=pb(),ne.lanes|=t,ys|=t,n)}function I0(t,e,n,i){return tn(n,e)?n:aa.current!==null?(t=fp(t,n,i),tn(t,e)||(Ze=!0),t):!(yi&42)||yi&1073741824&&!(ue&261930)?(Ze=!0,t.memoizedState=n):(t=pb(),ne.lanes|=t,ys|=t,e)}function N0(t,e,n,i,s){var r=pe.p;pe.p=r!==0&&8>r?r:8;var a=X.T,l={};X.T=l,mp(t,!1,e,n);try{var u=s(),c=X.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=XR(u,i);Vo(t,e,f,en(t))}else Vo(t,e,i,en(t))}catch(p){Vo(t,e,{then:function(){},status:"rejected",reason:p},en())}finally{pe.p=r,a!==null&&l.types!==null&&(a.types=l.types),X.T=a}}function nC(){}function Vd(t,e,n,i){if(t.tag!==5)throw Error(L(476));var s=x0(t).queue;N0(t,s,e,Fs,n===null?nC:function(){return D0(t),n(i)})}function x0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Fs,baseState:Fs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Fs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function D0(t){var e=x0(t);e.next===null&&(e=t.alternate.memoizedState),Vo(t,e.next.queue,{},en())}function dp(){return yt(sl)}function O0(){return Ge().memoizedState}function M0(){return Ge().memoizedState}function iC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=en();t=ns(n);var i=is(e,t,n);i!==null&&(zt(i,e,n),Do(i,e,n)),e={cache:Jm()},t.payload=e;return}e=e.return}}function sC(t,e,n){var i=en();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ch(t)?k0(e,n):(n=Km(t,e,n,i),n!==null&&(zt(n,t,i),L0(n,e,i)))}function V0(t,e,n){var i=en();Vo(t,e,n,i)}function Vo(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(t))k0(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,tn(l,a))return rh(t,e,s,0),Se===null&&sh(),!1}catch{}finally{}if(n=Km(t,e,s,i),n!==null)return zt(n,t,i),L0(n,e,i),!0}return!1}function mp(t,e,n,i){if(i={lane:2,revertLane:Sp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ch(t)){if(e)throw Error(L(479))}else e=Km(t,n,i,2),e!==null&&zt(e,t,2)}function ch(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function k0(t,e){Kr=hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L0(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,TT(t,n)}}var tl={readContext:yt,use:lh,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};tl.useEffectEvent=Be;var P0={readContext:yt,use:lh,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:_y,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Mu(4194308,4,A0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mu(4194308,4,t,e)},useInsertionEffect:function(t,e){Mu(4,2,t,e)},useMemo:function(t,e){var n=xt();e=e===void 0?null:e;var i=t();if(er){Ki(!0);try{t()}finally{Ki(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=xt();if(n!==void 0){var s=n(e);if(er){Ki(!0);try{n(e)}finally{Ki(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=sC.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:function(t){t=Od(t);var e=t.queue,n=V0.bind(null,ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hp,useDeferredValue:function(t,e){var n=xt();return fp(n,t,e)},useTransition:function(){var t=Od(!1);return t=N0.bind(null,ne,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ne,s=xt();if(ce){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Se===null)throw Error(L(349));ue&127||c0(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,_y(f0.bind(null,i,r,t),[t]),i.flags|=2048,oa(9,{destroy:void 0},h0.bind(null,i,r,n,e),null),n},useId:function(){var t=xt(),e=Se.identifierPrefix;if(ce){var n=Ln,i=kn;n=(i&~(1<<32-Zt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=fc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=WR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:dp,useFormState:my,useActionState:my,useOptimistic:function(t){var e=xt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=mp.bind(null,ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:lp,useCacheRefresh:function(){return xt().memoizedState=iC.bind(null,ne)},useEffectEvent:function(t){var e=xt(),n={impl:t};return e.memoizedState=n,function(){if(me&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},pp={readContext:yt,use:lh,useCallback:R0,useContext:yt,useEffect:cp,useImperativeHandle:w0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:C0,useReducer:Ou,useRef:E0,useState:function(){return Ou(vi)},useDebugValue:hp,useDeferredValue:function(t,e){var n=Ge();return I0(n,Te.memoizedState,t,e)},useTransition:function(){var t=Ou(vi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:wl(t),e]},useSyncExternalStore:u0,useId:O0,useHostTransitionStatus:dp,useFormState:py,useActionState:py,useOptimistic:function(t,e){var n=Ge();return p0(n,Te,t,e)},useMemoCache:lp,useCacheRefresh:M0};pp.useEffectEvent=T0;var j0={readContext:yt,use:lh,useCallback:R0,useContext:yt,useEffect:cp,useImperativeHandle:w0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:C0,useReducer:bf,useRef:E0,useState:function(){return bf(vi)},useDebugValue:hp,useDeferredValue:function(t,e){var n=Ge();return Te===null?fp(n,t,e):I0(n,Te.memoizedState,t,e)},useTransition:function(){var t=bf(vi)[0],e=Ge().memoizedState;return[typeof t=="boolean"?t:wl(t),e]},useSyncExternalStore:u0,useId:O0,useHostTransitionStatus:dp,useFormState:gy,useActionState:gy,useOptimistic:function(t,e){var n=Ge();return Te!==null?p0(n,Te,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:lp,useCacheRefresh:M0};j0.useEffectEvent=T0;function Sf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=en(),s=ns(i);s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(zt(e,t,i),Do(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=en(),s=ns(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(zt(e,t,i),Do(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),i=ns(n);i.tag=2,e!=null&&(i.callback=e),e=is(t,i,n),e!==null&&(zt(e,t,n),Do(e,t,n))}};function yy(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!Xo(n,i)||!Xo(s,r):!0}function vy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function tr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Oe({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function U0(t){sc(t)}function z0(t){console.error(t)}function B0(t){sc(t)}function dc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Ey(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ld(t,e,n){return n=ns(n),n.tag=3,n.payload={element:null},n.callback=function(){dc(t,e)},n}function q0(t){return t=ns(t),t.tag=3,t}function H0(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){Ey(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Ey(e,n,i),typeof s!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function rC(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Aa(e,n,s,!0),n=nn.current,n!==null){switch(n.tag){case 31:case 13:return pn===null?yc():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===lc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Vf(t,i,s)),!1;case 22:return n.flags|=65536,i===lc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Vf(t,i,s)),!1}throw Error(L(435,n.tag))}return Vf(t,i,s),yc(),!1}if(ce)return e=nn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Sd&&(t=Error(L(422),{cause:i}),Jo(hn(t,n)))):(i!==Sd&&(e=Error(L(423),{cause:i}),Jo(hn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=hn(i,n),s=Ld(t.stateNode,i,s),Tf(t,s),qe!==4&&(qe=2)),!1;var r=Error(L(520),{cause:i});if(r=hn(r,n),Po===null?Po=[r]:Po.push(r),qe!==4&&(qe=2),e===null)return!0;i=hn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Ld(n.stateNode,i,t),Tf(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=q0(s),H0(s,t,n,i),Tf(n,s),!1}n=n.return}while(n!==null);return!1}var gp=Error(L(461)),Ze=!1;function dt(t,e,n,i){e.child=t===null?i0(e,null,n,i):Zs(e,t.child,n,i)}function Ty(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Js(e),i=sp(t,e,n,a,r,s),l=rp(),t!==null&&!Ze?(ap(t,e,s),Ei(t,e,s)):(ce&&l&&Xm(e),e.flags|=1,dt(t,e,i,s),e.child)}function by(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Qm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,F0(t,e,r,i,s)):(t=xu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!_p(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(a,i)&&t.ref===e.ref)return Ei(t,e,s)}return e.flags|=1,t=di(r,i),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Xo(r,i)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=i=r,_p(t,s))t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,Ei(t,e,s)}return Pd(t,e,n,i,s)}function G0(t,e,n,i){var s=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,e.child=null;return Sy(t,e,r,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(e,r!==null?r.cachePool:null),r!==null?hy(e,r):xd(),a0(e);else return i=e.lanes=536870912,Sy(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Du(e,r.cachePool),hy(e,r),qi(),e.memoizedState=null):(t!==null&&Du(e,null),xd(),qi());return dt(t,e,s,n),e.child}function _o(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sy(t,e,n,i,s){var r=Zm();return r=r===null?null:{parent:We._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Du(e,null),xd(),a0(e),t!==null&&Aa(t,e,i,!0),e.childLanes=s,null}function Vu(t,e){return e=mc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ay(t,e,n){return Zs(e,t.child,null,n),t=Vu(e,e.pendingProps),t.flags|=2,Yt(e),e.memoizedState=null,t}function aC(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ce){if(i.mode==="hidden")return t=Vu(e,i),e.lanes=536870912,_o(null,t);if(Dd(e),(t=Ne)?(t=Pb(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ps!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=XT(t),n.return=e,e.child=n,gt=e,Ne=null)):t=null,t===null)throw gs(e);return e.lanes=536870912,null}return Vu(e,i)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(Dd(e),s)if(e.flags&256)e.flags&=-257,e=Ay(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(L(558));else if(Ze||Aa(t,e,n,!1),s=(n&t.childLanes)!==0,Ze||s){if(i=Se,i!==null&&(a=bT(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,cr(t,a),zt(i,t,a),gp;yc(),e=Ay(t,e,n)}else t=r.treeContext,Ne=gn(a.nextSibling),gt=e,ce=!0,ts=null,fn=!1,t!==null&&JT(e,t),e=Vu(e,i),e.flags|=4096;return e}return t=di(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ku(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Pd(t,e,n,i,s){return Js(e),n=sp(t,e,n,i,void 0,s),i=rp(),t!==null&&!Ze?(ap(t,e,s),Ei(t,e,s)):(ce&&i&&Xm(e),e.flags|=1,dt(t,e,n,s),e.child)}function wy(t,e,n,i,s,r){return Js(e),e.updateQueue=null,n=l0(e,i,n,s),o0(t),i=rp(),t!==null&&!Ze?(ap(t,e,r),Ei(t,e,r)):(ce&&i&&Xm(e),e.flags|=1,dt(t,e,n,r),e.child)}function Ry(t,e,n,i,s){if(Js(e),e.stateNode===null){var r=jr,a=n.contextType;typeof a=="object"&&a!==null&&(r=yt(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=kd,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},tp(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?yt(a):jr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Sf(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&kd.enqueueReplaceState(r,r.state,null),Mo(e,i,r,s),Oo(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=tr(n,l);r.props=u;var c=r.context,f=n.contextType;a=jr,typeof f=="object"&&f!==null&&(a=yt(f));var p=n.getDerivedStateFromProps;f=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||c!==a)&&vy(e,r,i,a),ji=!1;var g=e.memoizedState;r.state=g,Mo(e,i,r,s),Oo(),c=e.memoizedState,l||g!==c||ji?(typeof p=="function"&&(Sf(e,n,p,i),c=e.memoizedState),(u=ji||yy(e,n,u,i,g,c,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Id(t,e),a=e.memoizedProps,f=tr(n,a),r.props=f,p=e.pendingProps,g=r.context,c=n.contextType,u=jr,typeof c=="object"&&c!==null&&(u=yt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||g!==u)&&vy(e,r,i,u),ji=!1,g=e.memoizedState,r.state=g,Mo(e,i,r,s),Oo();var _=e.memoizedState;a!==p||g!==_||ji||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof l=="function"&&(Sf(e,n,l,i),_=e.memoizedState),(f=ji||yy(e,n,f,i,g,_,u)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),r.props=i,r.state=_,r.context=u,i=f):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,ku(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=Zs(e,t.child,null,s),e.child=Zs(e,null,n,s)):dt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=Ei(t,e,s),t}function Cy(t,e,n,i){return Ws(),e.flags|=256,dt(t,e,n,i),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:e0()}}function Rf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Qt),t}function $0(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ce){if(s?Bi(e):qi(),(t=Ne)?(t=Pb(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ps!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=XT(t),n.return=e,e.child=n,gt=e,Ne=null)):t=null,t===null)throw gs(e);return Wd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(qi(),s=e.mode,l=mc({mode:"hidden",children:l},s),i=Gs(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=wf(n),i.childLanes=Rf(t,a,n),e.memoizedState=Af,_o(null,i)):(Bi(e),jd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(Bi(e),e.flags&=-257,e=Cf(t,e,n)):e.memoizedState!==null?(qi(),e.child=t.child,e.flags|=128,e=null):(qi(),l=i.fallback,s=e.mode,i=mc({mode:"visible",children:i.children},s),l=Gs(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Zs(e,t.child,null,n),i=e.child,i.memoizedState=wf(n),i.childLanes=Rf(t,a,n),e.memoizedState=Af,e=_o(null,i));else if(Bi(e),Wd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,Jo({value:i,source:null,stack:null}),e=Cf(t,e,n)}else if(Ze||Aa(t,e,n,!1),a=(n&t.childLanes)!==0,Ze||a){if(a=Se,a!==null&&(i=bT(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,cr(t,i),zt(a,t,i),gp;Xd(l)||yc(),e=Cf(t,e,n)}else Xd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ne=gn(l.nextSibling),gt=e,ce=!0,ts=null,fn=!1,t!==null&&JT(e,t),e=jd(e,i.children),e.flags|=4096);return e}return s?(qi(),l=i.fallback,s=e.mode,u=t.child,c=u.sibling,i=di(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=di(c,l):(l=Gs(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,_o(null,i),i=e.child,l=t.child.memoizedState,l===null?l=wf(n):(s=l.cachePool,s!==null?(u=We._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=e0(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Rf(t,a,n),e.memoizedState=Af,_o(t.child,i)):(Bi(e),n=t.child,t=n.sibling,n=di(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function jd(t,e){return e=mc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function mc(t,e){return t=Kt(22,t,null,e),t.lanes=0,t}function Cf(t,e,n){return Zs(e,t.child,null,n),t=jd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Iy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),wd(t.return,e,n)}function If(t,e,n,i,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function Y0(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Fe.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,we(Fe,a),dt(t,e,i,n),i=ce?Wo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,n,e);else if(t.tag===19)Iy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),If(e,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}If(e,!0,n,null,r,i);break;case"together":If(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ys|=e.lanes,!(n&e.childLanes))if(t!==null){if(Aa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _p(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function oC(t,e,n){switch(e.tag){case 3:ec(e,e.stateNode.containerInfo),zi(e,We,t.memoizedState.cache),Ws();break;case 27:case 5:fd(e);break;case 4:ec(e,e.stateNode.containerInfo);break;case 10:zi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Dd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Bi(e),e.flags|=128,null):n&e.child.childLanes?$0(t,e,n):(Bi(e),t=Ei(t,e,n),t!==null?t.sibling:null);Bi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Aa(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Y0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Fe,Fe.current),i)break;return null;case 22:return e.lanes=0,G0(t,e,n,e.pendingProps);case 24:zi(e,We,t.memoizedState.cache)}return Ei(t,e,n)}function K0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ze=!0;else{if(!_p(t,n)&&!(e.flags&128))return Ze=!1,oC(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,ce&&e.flags&1048576&&WT(e,Wo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=zs(e.elementType),e.type=t,typeof t=="function")Qm(t)?(i=tr(t,i),e.tag=1,e=Ry(null,e,t,i,n)):(e.tag=0,e=Pd(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===km){e.tag=11,e=Ty(null,e,t,i,n);break e}else if(s===Lm){e.tag=14,e=by(null,e,t,i,n);break e}}throw e=cd(t)||t,Error(L(306,e,""))}}return e;case 0:return Pd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=tr(i,e.pendingProps),Ry(t,e,i,s,n);case 3:e:{if(ec(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,Id(t,e),Mo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,zi(e,We,i),i!==r.cache&&Rd(e,[We],n,!0),Oo(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=Cy(t,e,i,n);break e}else if(i!==s){s=hn(Error(L(424)),e),Jo(s),e=Cy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ne=gn(t.firstChild),gt=e,ce=!0,ts=null,fn=!0,n=i0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ws(),i===s){e=Ei(t,e,n);break e}dt(t,e,i,n)}e=e.child}return e;case 26:return ku(t,e),t===null?(n=Ky(e.type,null,e.pendingProps,null))?e.memoizedState=n:ce||(n=e.type,t=e.pendingProps,i=bc(es.current).createElement(n),i[pt]=e,i[Bt]=t,vt(i,n,t),ht(i),e.stateNode=i):e.memoizedState=Ky(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return fd(e),t===null&&ce&&(i=e.stateNode=jb(e.type,e.pendingProps,es.current),gt=e,fn=!0,s=Ne,Cs(e.type)?(Jd=s,Ne=gn(i.firstChild)):Ne=s),dt(t,e,e.pendingProps.children,n),ku(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ce&&((s=i=Ne)&&(i=PC(i,e.type,e.pendingProps,fn),i!==null?(e.stateNode=i,gt=e,Ne=gn(i.firstChild),fn=!1,s=!0):s=!1),s||gs(e)),fd(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,Kd(s,r)?i=null:a!==null&&Kd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=sp(t,e,JR,null,null,n),sl._currentValue=s),ku(t,e),dt(t,e,i,n),e.child;case 6:return t===null&&ce&&((t=n=Ne)&&(n=jC(n,e.pendingProps,fn),n!==null?(e.stateNode=n,gt=e,Ne=null,t=!0):t=!1),t||gs(e)),null;case 13:return $0(t,e,n);case 4:return ec(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zs(e,null,i,n):dt(t,e,i,n),e.child;case 11:return Ty(t,e,e.type,e.pendingProps,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,zi(e,e.type,i.value),dt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Js(e),s=yt(s),i=i(s),e.flags|=1,dt(t,e,i,n),e.child;case 14:return by(t,e,e.type,e.pendingProps,n);case 15:return F0(t,e,e.type,e.pendingProps,n);case 19:return Y0(t,e,n);case 31:return aC(t,e,n);case 22:return G0(t,e,n,e.pendingProps);case 24:return Js(e),i=yt(We),t===null?(s=Zm(),s===null&&(s=Se,r=Jm(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},tp(e),zi(e,We,s)):(t.lanes&n&&(Id(t,e),Mo(e,null,null,n),Oo()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),zi(e,We,i)):(i=r.cache,zi(e,We,i),i!==s.cache&&Rd(e,[We],n,!0))),dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function ei(t){t.flags|=4}function Nf(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(yb())t.flags|=8192;else throw Ys=lc,ep}else t.flags&=-16777217}function Ny(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Bb(e))if(yb())t.flags|=8192;else throw Ys=lc,ep}function fu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?vT():536870912,t.lanes|=e,la|=e)}function lo(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function lC(t,e,n){var i=e.pendingProps;switch(Wm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ie(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),mi(We),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Tr(e)?ei(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ef())),Ie(e),null;case 26:var s=e.type,r=e.memoizedState;return t===null?(ei(e),r!==null?(Ie(e),Ny(e,r)):(Ie(e),Nf(e,s,null,i,n))):r?r!==t.memoizedState?(ei(e),Ie(e),Ny(e,r)):(Ie(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&ei(e),Ie(e),Nf(e,s,t,i,n)),null;case 27:if(tc(e),n=es.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ie(e),null}t=jn.current,Tr(e)?sy(e):(t=jb(s,i,n),e.stateNode=t,ei(e))}return Ie(e),null;case 5:if(tc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Ie(e),null}if(r=jn.current,Tr(e))sy(e);else{var a=bc(es.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[pt]=e,r[Bt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(vt(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ei(e)}}return Ie(e),Nf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=es.current,Tr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=gt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[pt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Vb(t.nodeValue,n)),t||gs(e,!0)}else t=bc(t).createTextNode(i),t[pt]=e,e.stateNode=t}return Ie(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Tr(e),n!==null){if(t===null){if(!i)throw Error(L(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(557));t[pt]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),t=!1}else n=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Yt(e),e):(Yt(e),null);if(e.flags&128)throw Error(L(558))}return Ie(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Tr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[pt]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),s=!1}else s=Ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Yt(e),e):(Yt(e),null)}return Yt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),fu(e,e.updateQueue),Ie(e),null);case 4:return na(),t===null&&Ap(e.stateNode.containerInfo),Ie(e),null;case 10:return mi(e.type),Ie(e),null;case 19:if(ft(Fe),i=e.memoizedState,i===null)return Ie(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)lo(i,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=cc(t),r!==null){for(e.flags|=128,lo(i,!1),t=r.updateQueue,e.updateQueue=t,fu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)QT(n,t),n=n.sibling;return we(Fe,Fe.current&1|2),ce&&ai(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Wt()>gc&&(e.flags|=128,s=!0,lo(i,!1),e.lanes=4194304)}else{if(!s)if(t=cc(r),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,fu(e,t),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ce)return Ie(e),null}else 2*Wt()-i.renderingStartTime>gc&&n!==536870912&&(e.flags|=128,s=!0,lo(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,n=Fe.current,we(Fe,s?n&1|2:n&1),ce&&ai(e,i.treeForkCount),t):(Ie(e),null);case 22:case 23:return Yt(e),np(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),n=e.updateQueue,n!==null&&fu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ft($s),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mi(We),Ie(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function uC(t,e){switch(Wm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(We),na(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return tc(e),null;case 31:if(e.memoizedState!==null){if(Yt(e),e.alternate===null)throw Error(L(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Yt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Fe),null;case 4:return na(),null;case 10:return mi(e.type),null;case 22:case 23:return Yt(e),np(),t!==null&&ft($s),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(We),null;case 25:return null;default:return null}}function Q0(t,e){switch(Wm(e),e.tag){case 3:mi(We),na();break;case 26:case 27:case 5:tc(e);break;case 4:na();break;case 31:e.memoizedState!==null&&Yt(e);break;case 13:Yt(e);break;case 19:ft(Fe);break;case 10:mi(e.type);break;case 22:case 23:Yt(e),np(),t!==null&&ft($s);break;case 24:mi(We)}}function Rl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){ye(e,e.return,l)}}function _s(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,c=l;try{c()}catch(f){ye(s,u,f)}}}i=i.next}while(i!==r)}}catch(f){ye(e,e.return,f)}}function X0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{r0(e,n)}catch(i){ye(t,t.return,i)}}}function W0(t,e,n){n.props=tr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ye(t,e,i)}}function ko(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){ye(t,e,s)}}function Pn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ye(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function J0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ye(t,t.return,s)}}function xf(t,e,n){try{var i=t.stateNode;DC(i,t.type,n,e),i[Bt]=e}catch(s){ye(t,t.return,s)}}function Z0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cs(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ui));else if(i!==4&&(i===27&&Cs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ud(t,e,n),t=t.sibling;t!==null;)Ud(t,e,n),t=t.sibling}function pc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Cs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(pc(t,e,n),t=t.sibling;t!==null;)pc(t,e,n),t=t.sibling}function eb(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);vt(e,i,n),e[pt]=t,e[Bt]=n}catch(r){ye(t,t.return,r)}}var oi=!1,Xe=!1,Of=!1,xy=typeof WeakSet=="function"?WeakSet:Set,ct=null;function cC(t,e){if(t=t.containerInfo,$d=Rc,t=BT(t),$m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,p=t,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++c===s&&(l=a),g===r&&++f===i&&(u=a),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:t,selectionRange:n},Rc=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){switch(e=ct,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var I=tr(n.type,s);t=i.getSnapshotBeforeUpdate(I,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){ye(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Qd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}}function tb(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n),i&4&&Rl(5,n);break;case 1:if(ni(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ye(n,n.return,a)}else{var s=tr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ye(n,n.return,a)}}i&64&&X0(n),i&512&&ko(n,n.return);break;case 3:if(ni(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{r0(t,e)}catch(a){ye(n,n.return,a)}}break;case 27:e===null&&i&4&&eb(n);case 26:case 5:ni(t,n),e===null&&i&4&&J0(n),i&512&&ko(n,n.return);break;case 12:ni(t,n);break;case 31:ni(t,n),i&4&&sb(t,n);break;case 13:ni(t,n),i&4&&rb(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=vC.bind(null,n),UC(t,n))));break;case 22:if(i=n.memoizedState!==null||oi,!i){e=e!==null&&e.memoizedState!==null||Xe,s=oi;var r=Xe;oi=i,(Xe=e)&&!r?si(t,n,(n.subtreeFlags&8772)!==0):ni(t,n),oi=s,Xe=r}break;case 30:break;default:ni(t,n)}}function nb(t){var e=t.alternate;e!==null&&(t.alternate=null,nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&zm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,Lt=!1;function ti(t,e,n){for(n=n.child;n!==null;)ib(t,e,n),n=n.sibling}function ib(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 26:Xe||Pn(n,e),ti(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Pn(n,e);var i=ke,s=Lt;Cs(n.type)&&(ke=n.stateNode,Lt=!1),ti(t,e,n),Uo(n.stateNode),ke=i,Lt=s;break;case 5:Xe||Pn(n,e);case 6:if(i=ke,s=Lt,ke=null,ti(t,e,n),ke=i,Lt=s,ke!==null)if(Lt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(r){ye(n,e,r)}else try{ke.removeChild(n.stateNode)}catch(r){ye(n,e,r)}break;case 18:ke!==null&&(Lt?(t=ke,Hy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),fa(t)):Hy(ke,n.stateNode));break;case 4:i=ke,s=Lt,ke=n.stateNode.containerInfo,Lt=!0,ti(t,e,n),ke=i,Lt=s;break;case 0:case 11:case 14:case 15:_s(2,n,e),Xe||_s(4,n,e),ti(t,e,n);break;case 1:Xe||(Pn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&W0(n,e,i)),ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:Xe=(i=Xe)||n.memoizedState!==null,ti(t,e,n),Xe=i;break;default:ti(t,e,n)}}function sb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fa(t)}catch(n){ye(e,e.return,n)}}}function rb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fa(t)}catch(n){ye(e,e.return,n)}}function hC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new xy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new xy),e;default:throw Error(L(435,t.tag))}}function du(t,e){var n=hC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=EC.bind(null,t,i);i.then(s,s)}})}function Vt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Cs(l.type)){ke=l.stateNode,Lt=!1;break e}break;case 5:ke=l.stateNode,Lt=!1;break e;case 3:case 4:ke=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(ke===null)throw Error(L(160));ib(r,a,s),ke=null,Lt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ab(e,t),e=e.sibling}var vn=null;function ab(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(e,t),kt(t),i&4&&(_s(3,t,t.return),Rl(3,t),_s(5,t,t.return));break;case 1:Vt(e,t),kt(t),i&512&&(Xe||n===null||Pn(n,n.return)),i&64&&oi&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vn;if(Vt(e,t),kt(t),i&512&&(Xe||n===null||Pn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[bl]||r[pt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),vt(r,i,n),r[pt]=t,ht(r),i=r;break e;case"link":var a=Xy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),vt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Xy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),vt(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[pt]=t,ht(r),i=r}t.stateNode=i}else Wy(s,t.type,t.stateNode);else t.stateNode=Qy(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Wy(s,t.type,t.stateNode):Qy(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&xf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Vt(e,t),kt(t),i&512&&(Xe||n===null||Pn(n,n.return)),n!==null&&i&4&&xf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Vt(e,t),kt(t),i&512&&(Xe||n===null||Pn(n,n.return)),t.flags&32){s=t.stateNode;try{sa(s,"")}catch(I){ye(t,t.return,I)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,xf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Of=!0);break;case 6:if(Vt(e,t),kt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(I){ye(t,t.return,I)}}break;case 3:if(ju=null,s=vn,vn=Sc(e.containerInfo),Vt(e,t),vn=s,kt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(e.containerInfo)}catch(I){ye(t,t.return,I)}Of&&(Of=!1,ob(t));break;case 4:i=vn,vn=Sc(t.stateNode.containerInfo),Vt(e,t),kt(t),vn=i;break;case 12:Vt(e,t),kt(t);break;case 31:Vt(e,t),kt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 13:Vt(e,t),kt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hh=Wt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=oi,f=Xe;if(oi=c||s,Xe=f||u,Vt(e,t),Xe=f,oi=c,kt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||oi||Xe||Bs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){ye(u,u.return,I)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(I){ye(u,u.return,I)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;s?Fy(_,!0):Fy(u.stateNode,!1)}catch(I){ye(u,u.return,I)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,du(t,n))));break;case 19:Vt(e,t),kt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,du(t,i)));break;case 30:break;case 21:break;default:Vt(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Z0(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=Df(t);pc(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(sa(a,""),n.flags&=-33);var l=Df(t);pc(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Df(t);Ud(t,c,u);break;default:throw Error(L(161))}}catch(f){ye(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ob(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ob(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ni(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)tb(t,e.alternate,e),e=e.sibling}function Bs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:_s(4,e,e.return),Bs(e);break;case 1:Pn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&W0(e,e.return,n),Bs(e);break;case 27:Uo(e.stateNode);case 26:case 5:Pn(e,e.return),Bs(e);break;case 22:e.memoizedState===null&&Bs(e);break;case 30:Bs(e);break;default:Bs(e)}t=t.sibling}}function si(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:si(s,r,n),Rl(4,r);break;case 1:if(si(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){ye(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)s0(u[s],l)}catch(c){ye(i,i.return,c)}}n&&a&64&&X0(r),ko(r,r.return);break;case 27:eb(r);case 26:case 5:si(s,r,n),n&&i===null&&a&4&&J0(r),ko(r,r.return);break;case 12:si(s,r,n);break;case 31:si(s,r,n),n&&a&4&&sb(s,r);break;case 13:si(s,r,n),n&&a&4&&rb(s,r);break;case 22:r.memoizedState===null&&si(s,r,n),ko(r,r.return);break;case 30:break;default:si(s,r,n)}e=e.sibling}}function yp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Al(n))}function vp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Al(t))}function yn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lb(t,e,n,i),e=e.sibling}function lb(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:yn(t,e,n,i),s&2048&&Rl(9,e);break;case 1:yn(t,e,n,i);break;case 3:yn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Al(t)));break;case 12:if(s&2048){yn(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ye(e,e.return,u)}}else yn(t,e,n,i);break;case 31:yn(t,e,n,i);break;case 13:yn(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?yn(t,e,n,i):Lo(t,e):r._visibility&2?yn(t,e,n,i):(r._visibility|=2,Ar(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&yp(a,e);break;case 24:yn(t,e,n,i),s&2048&&vp(e.alternate,e);break;default:yn(t,e,n,i)}}function Ar(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(r,a,l,u,s),Rl(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Ar(r,a,l,u,s):Lo(r,a):(f._visibility|=2,Ar(r,a,l,u,s)),s&&c&2048&&yp(a.alternate,a);break;case 24:Ar(r,a,l,u,s),s&&c&2048&&vp(a.alternate,a);break;default:Ar(r,a,l,u,s)}e=e.sibling}}function Lo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Lo(n,i),s&2048&&yp(i.alternate,i);break;case 24:Lo(n,i),s&2048&&vp(i.alternate,i);break;default:Lo(n,i)}e=e.sibling}}var yo=8192;function br(t,e,n){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)ub(t,e,n),t=t.sibling}function ub(t,e,n){switch(t.tag){case 26:br(t,e,n),t.flags&yo&&t.memoizedState!==null&&WC(n,vn,t.memoizedState,t.memoizedProps);break;case 5:br(t,e,n);break;case 3:case 4:var i=vn;vn=Sc(t.stateNode.containerInfo),br(t,e,n),vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yo,yo=16777216,br(t,e,n),yo=i):br(t,e,n));break;default:br(t,e,n)}}function cb(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function uo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ct=i,fb(i,t)}cb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hb(t),t=t.sibling}function hb(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&_s(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Lu(t)):uo(t);break;default:uo(t)}}function Lu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ct=i,fb(i,t)}cb(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:_s(8,e,e.return),Lu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Lu(e));break;default:Lu(e)}t=t.sibling}}function fb(t,e){for(;ct!==null;){var n=ct;switch(n.tag){case 0:case 11:case 15:_s(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ct=i;else e:for(n=t;ct!==null;){i=ct;var s=i.sibling,r=i.return;if(nb(i),i===n){ct=null;break e}if(s!==null){s.return=r,ct=s;break e}ct=r}}}var fC={getCacheForType:function(t){var e=yt(We),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return yt(We).controller.signal}},dC=typeof WeakMap=="function"?WeakMap:Map,me=0,Se=null,re=null,ue=0,_e=0,$t=null,Xi=!1,Ra=!1,Ep=!1,Ti=0,qe=0,ys=0,Ks=0,Tp=0,Qt=0,la=0,Po=null,Pt=null,zd=!1,hh=0,db=0,gc=1/0,_c=null,ss=null,st=0,rs=null,ua=null,pi=0,Bd=0,qd=null,mb=null,jo=0,Hd=null;function en(){return me&2&&ue!==0?ue&-ue:X.T!==null?Sp():ST()}function pb(){if(Qt===0)if(!(ue&536870912)||ce){var t=ru;ru<<=1,!(ru&3932160)&&(ru=262144),Qt=t}else Qt=536870912;return t=nn.current,t!==null&&(t.flags|=32),Qt}function zt(t,e,n){(t===Se&&(_e===2||_e===9)||t.cancelPendingCommit!==null)&&(ca(t,0),Wi(t,ue,Qt,!1)),Tl(t,n),(!(me&2)||t!==Se)&&(t===Se&&(!(me&2)&&(Ks|=n),qe===4&&Wi(t,ue,Qt,!1)),Kn(t))}function gb(t,e,n){if(me&6)throw Error(L(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||El(t,e),s=i?gC(t,e):Mf(t,e,!0),r=i;do{if(s===0){Ra&&!i&&Wi(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!mC(n)){s=Mf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=Po;var u=l.current.memoizedState.isDehydrated;if(u&&(ca(l,a).flags|=256),a=Mf(l,a,!1),a!==2){if(Ep&&!u){l.errorRecoveryDisabledLanes|=r,Ks|=r,s=4;break e}r=Pt,Pt=s,r!==null&&(Pt===null?Pt=r:Pt.push.apply(Pt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){ca(t,0),Wi(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:Wi(i,e,Qt,!Xi);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(s=hh+300-Wt(),10<s)){if(Wi(i,e,Qt,!Xi),eh(i,0,!0)!==0)break e;pi=e,i.timeoutHandle=Lb(Dy.bind(null,i,n,Pt,_c,zd,e,Qt,Ks,la,Xi,r,"Throttled",-0,0),s);break e}Dy(i,n,Pt,_c,zd,e,Qt,Ks,la,Xi,r,null,-0,0)}}break}while(!0);Kn(t)}function Dy(t,e,n,i,s,r,a,l,u,c,f,p,g,_){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},ub(e,r,p);var I=(r&62914560)===r?hh-Wt():(r&4194048)===r?db-Wt():0;if(I=JC(p,I),I!==null){pi=r,t.cancelPendingCommit=I(My.bind(null,t,e,r,n,i,s,a,l,u,f,p,null,g,_)),Wi(t,r,a,!c);return}}My(t,e,r,n,i,s,a,l,u)}function mC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!tn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e,n,i){e&=~Tp,e&=~Ks,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-Zt(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&ET(t,n,e)}function fh(){return me&6?!0:(Cl(0),!1)}function bp(){if(re!==null){if(_e===0)var t=re.return;else t=re,ci=hr=null,op(t),Yr=null,Zo=0,t=re;for(;t!==null;)Q0(t.alternate,t),t=t.return;re=null}}function ca(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,VC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pi=0,bp(),Se=t,re=n=di(t.current,null),ue=e,_e=0,$t=null,Xi=!1,Ra=El(t,e),Ep=!1,la=Qt=Tp=Ks=ys=qe=0,Pt=Po=null,zd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Zt(i),r=1<<s;e|=t[s],i&=~r}return Ti=e,sh(),n}function _b(t,e){ne=null,X.H=tl,e===wa||e===ah?(e=uy(),_e=3):e===ep?(e=uy(),_e=4):_e=e===gp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,$t=e,re===null&&(qe=1,dc(t,hn(e,t.current)))}function yb(){var t=nn.current;return t===null?!0:(ue&4194048)===ue?pn===null:(ue&62914560)===ue||ue&536870912?t===pn:!1}function vb(){var t=X.H;return X.H=tl,t===null?tl:t}function Eb(){var t=X.A;return X.A=fC,t}function yc(){qe=4,Xi||(ue&4194048)!==ue&&nn.current!==null||(Ra=!0),!(ys&134217727)&&!(Ks&134217727)||Se===null||Wi(Se,ue,Qt,!1)}function Mf(t,e,n){var i=me;me|=2;var s=vb(),r=Eb();(Se!==t||ue!==e)&&(_c=null,ca(t,e)),e=!1;var a=qe;e:do try{if(_e!==0&&re!==null){var l=re,u=$t;switch(_e){case 8:bp(),a=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(e=!0);var c=_e;if(_e=0,$t=null,Br(t,l,u,c),n&&Ra){a=0;break e}break;default:c=_e,_e=0,$t=null,Br(t,l,u,c)}}pC(),a=qe;break}catch(f){_b(t,f)}while(!0);return e&&t.shellSuspendCounter++,ci=hr=null,me=i,X.H=s,X.A=r,re===null&&(Se=null,ue=0,sh()),a}function pC(){for(;re!==null;)Tb(re)}function gC(t,e){var n=me;me|=2;var i=vb(),s=Eb();Se!==t||ue!==e?(_c=null,gc=Wt()+500,ca(t,e)):Ra=El(t,e);e:do try{if(_e!==0&&re!==null){e=re;var r=$t;t:switch(_e){case 1:_e=0,$t=null,Br(t,e,r,1);break;case 2:case 9:if(ly(r)){_e=0,$t=null,Oy(e);break}e=function(){_e!==2&&_e!==9||Se!==t||(_e=7),Kn(t)},r.then(e,e);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:ly(r)?(_e=0,$t=null,Oy(e)):(_e=0,$t=null,Br(t,e,r,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(a?Bb(a):l.stateNode.complete){_e=0,$t=null;var u=l.sibling;if(u!==null)re=u;else{var c=l.return;c!==null?(re=c,dh(c)):re=null}break t}}_e=0,$t=null,Br(t,e,r,5);break;case 6:_e=0,$t=null,Br(t,e,r,6);break;case 8:bp(),qe=6;break e;default:throw Error(L(462))}}_C();break}catch(f){_b(t,f)}while(!0);return ci=hr=null,X.H=i,X.A=s,me=n,re!==null?0:(Se=null,ue=0,sh(),qe)}function _C(){for(;re!==null&&!zw();)Tb(re)}function Tb(t){var e=K0(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?dh(t):re=e}function Oy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wy(n,e,e.pendingProps,e.type,void 0,ue);break;case 11:e=wy(n,e,e.pendingProps,e.type.render,e.ref,ue);break;case 5:op(e);default:Q0(n,e),e=re=QT(e,Ti),e=K0(n,e,Ti)}t.memoizedProps=t.pendingProps,e===null?dh(t):re=e}function Br(t,e,n,i){ci=hr=null,op(e),Yr=null,Zo=0;var s=e.return;try{if(rC(t,s,e,n,ue)){qe=1,dc(t,hn(n,t.current)),re=null;return}}catch(r){if(s!==null)throw re=s,r;qe=1,dc(t,hn(n,t.current)),re=null;return}e.flags&32768?(ce||i===1?t=!0:Ra||ue&536870912?t=!1:(Xi=t=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),bb(e,t)):dh(e)}function dh(t){var e=t;do{if(e.flags&32768){bb(e,Xi);return}t=e.return;var n=lC(e.alternate,e,Ti);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);qe===0&&(qe=5)}function bb(t,e){do{var n=uC(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);qe=6,re=null}function My(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do mh();while(st!==0);if(me&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(r=e.lanes|e.childLanes,r|=Ym,Xw(t,n,r,a,l,u),t===Se&&(re=Se=null,ue=0),ua=e,rs=t,pi=n,Bd=r,qd=s,mb=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,TC(nc,function(){return Cb(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=X.T,X.T=null,s=pe.p,pe.p=2,a=me,me|=4;try{cC(t,e,n)}finally{me=a,pe.p=s,X.T=i}}st=1,Sb(),Ab(),wb()}}function Sb(){if(st===1){st=0;var t=rs,e=ua,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=X.T,X.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{ab(e,t);var r=Yd,a=BT(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&zT(l.ownerDocument.documentElement,l)){if(u!==null&&$m(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var _=g.getSelection(),I=l.textContent.length,D=Math.min(u.start,I),O=u.end===void 0?D:Math.min(u.end,I);!_.extend&&D>O&&(a=O,O=D,D=a);var S=ty(l,D),E=ty(l,O);if(S&&E&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var A=p.createRange();A.setStart(S.node,S.offset),_.removeAllRanges(),D>O?(_.addRange(A),_.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),_.addRange(A))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var x=p[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Rc=!!$d,Yd=$d=null}finally{me=s,pe.p=i,X.T=n}}t.current=e,st=2}}function Ab(){if(st===2){st=0;var t=rs,e=ua,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=X.T,X.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{tb(t,e.alternate,e)}finally{me=s,pe.p=i,X.T=n}}st=3}}function wb(){if(st===4||st===3){st=0,Bw();var t=rs,e=ua,n=pi,i=mb;e.subtreeFlags&10256||e.flags&10256?st=5:(st=0,ua=rs=null,Rb(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(ss=null),Um(n),e=e.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=X.T,s=pe.p,pe.p=2,X.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{X.T=e,pe.p=s}}pi&3&&mh(),Kn(t),s=t.pendingLanes,n&261930&&s&42?t===Hd?jo++:(jo=0,Hd=t):jo=0,Cl(0)}}function Rb(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Al(e)))}function mh(){return Sb(),Ab(),wb(),Cb()}function Cb(){if(st!==5)return!1;var t=rs,e=Bd;Bd=0;var n=Um(pi),i=X.T,s=pe.p;try{pe.p=32>n?32:n,X.T=null,n=qd,qd=null;var r=rs,a=pi;if(st=0,ua=rs=null,pi=0,me&6)throw Error(L(331));var l=me;if(me|=4,hb(r.current),lb(r,r.current,a,n),me=l,Cl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(vl,r)}catch{}return!0}finally{pe.p=s,X.T=i,Rb(t,e)}}function Vy(t,e,n){e=hn(n,e),e=Ld(t.stateNode,e,2),t=is(t,e,2),t!==null&&(Tl(t,2),Kn(t))}function ye(t,e,n){if(t.tag===3)Vy(t,t,n);else for(;e!==null;){if(e.tag===3){Vy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ss===null||!ss.has(i))){t=hn(n,t),n=q0(2),i=is(e,n,2),i!==null&&(H0(n,i,e,t),Tl(i,2),Kn(i));break}}e=e.return}}function Vf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Ep=!0,s.add(n),t=yC.bind(null,t,e,n),e.then(t,t))}function yC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Se===t&&(ue&n)===n&&(qe===4||qe===3&&(ue&62914560)===ue&&300>Wt()-hh?!(me&2)&&ca(t,0):Tp|=n,la===ue&&(la=0)),Kn(t)}function Ib(t,e){e===0&&(e=vT()),t=cr(t,e),t!==null&&(Tl(t,e),Kn(t))}function vC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ib(t,n)}function EC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),Ib(t,n)}function TC(t,e){return Pm(t,e)}var vc=null,wr=null,Fd=!1,Ec=!1,kf=!1,Ji=0;function Kn(t){t!==wr&&t.next===null&&(wr===null?vc=wr=t:wr=wr.next=t),Ec=!0,Fd||(Fd=!0,SC())}function Cl(t,e){if(!kf&&Ec){kf=!0;do for(var n=!1,i=vc;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Zt(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,ky(i,r))}else r=ue,r=eh(i,i===Se?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||El(i,r)||(n=!0,ky(i,r));i=i.next}while(n);kf=!1}}function bC(){Nb()}function Nb(){Ec=Fd=!1;var t=0;Ji!==0&&MC()&&(t=Ji);for(var e=Wt(),n=null,i=vc;i!==null;){var s=i.next,r=xb(i,e);r===0?(i.next=null,n===null?vc=s:n.next=s,s===null&&(wr=n)):(n=i,(t!==0||r&3)&&(Ec=!0)),i=s}st!==0&&st!==5||Cl(t),Ji!==0&&(Ji=0)}function xb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-Zt(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=Qw(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=Se,n=ue,n=eh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(_e===2||_e===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&uf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||El(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&uf(i),Um(n)){case 2:case 8:n=_T;break;case 32:n=nc;break;case 268435456:n=yT;break;default:n=nc}return i=Db.bind(null,t),n=Pm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&uf(i),t.callbackPriority=2,t.callbackNode=null,2}function Db(t,e){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(mh()&&t.callbackNode!==n)return null;var i=ue;return i=eh(t,t===Se?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(gb(t,i,e),xb(t,Wt()),t.callbackNode!=null&&t.callbackNode===n?Db.bind(null,t):null)}function ky(t,e){if(mh())return null;gb(t,e,!0)}function SC(){kC(function(){me&6?Pm(gT,bC):Nb()})}function Sp(){if(Ji===0){var t=ra;t===0&&(t=su,su<<=1,!(su&261888)&&(su=256)),Ji=t}return Ji}function Ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cu(""+t)}function Py(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function AC(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Ly((s[Bt]||null).action),a=i.submitter;a&&(e=(e=a[Bt]||null)?Ly(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new th("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ji!==0){var u=a?Py(s,a):new FormData(s);Vd(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?Py(s,a):new FormData(s),Vd(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var Lf=0;Lf<bd.length;Lf++){var Pf=bd[Lf],wC=Pf.toLowerCase(),RC=Pf[0].toUpperCase()+Pf.slice(1);Cn(wC,"on"+RC)}Cn(HT,"onAnimationEnd");Cn(FT,"onAnimationIteration");Cn(GT,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(qR,"onTransitionRun");Cn(HR,"onTransitionStart");Cn(FR,"onTransitionCancel");Cn($T,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Ob(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(f){sc(f)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(f){sc(f)}s.currentTarget=null,r=u}}}}function se(t,e){var n=e[md];n===void 0&&(n=e[md]=new Set);var i=t+"__bubble";n.has(i)||(Mb(e,t,2,!1),n.add(i))}function jf(t,e,n){var i=0;e&&(i|=4),Mb(n,t,i,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Ap(t){if(!t[mu]){t[mu]=!0,AT.forEach(function(n){n!=="selectionchange"&&(CC.has(n)||jf(n,!1,t),jf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,jf("selectionchange",!1,e))}}function Mb(t,e,n,i){switch($b(e)){case 2:var s=tI;break;case 8:s=nI;break;default:s=Ip}n=s.bind(null,e,n,t),s=void 0,!vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Or(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}OT(function(){var c=r,f=qm(n),p=[];e:{var g=YT.get(t);if(g!==void 0){var _=th,I=t;switch(t){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":_=ER;break;case"focusin":I="focus",_=mf;break;case"focusout":I="blur",_=mf;break;case"beforeblur":case"afterblur":_=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=G_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=lR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=SR;break;case HT:case FT:case GT:_=hR;break;case $T:_=wR;break;case"scroll":case"scrollend":_=aR;break;case"wheel":_=CR;break;case"copy":case"cut":case"paste":_=dR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Y_;break;case"toggle":case"beforetoggle":_=NR}var D=(e&4)!==0,O=!D&&(t==="scroll"||t==="scrollend"),S=D?g!==null?g+"Capture":null:g;D=[];for(var E=c,A;E!==null;){var x=E;if(A=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||A===null||S===null||(x=Ko(E,S),x!=null&&D.push(il(E,x,A))),O)break;E=E.return}0<D.length&&(g=new _(g,I,null,n,f),p.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==yd&&(I=n.relatedTarget||n.fromElement)&&(Or(I)||I[ba]))break e;if((_||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=c,I=I?Or(I):null,I!==null&&(O=yl(I),D=I.tag,I!==O||D!==5&&D!==27&&D!==6)&&(I=null)):(_=null,I=c),_!==I)){if(D=G_,x="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(D=Y_,x="onPointerLeave",S="onPointerEnter",E="pointer"),O=_==null?g:go(_),A=I==null?g:go(I),g=new D(x,E+"leave",_,n,f),g.target=O,g.relatedTarget=A,x=null,Or(f)===c&&(D=new D(S,E+"enter",I,n,f),D.target=A,D.relatedTarget=O,x=D),O=x,_&&I)t:{for(D=IC,S=_,E=I,A=0,x=S;x;x=D(x))A++;x=0;for(var z=E;z;z=D(z))x++;for(;0<A-x;)S=D(S),A--;for(;0<x-A;)E=D(E),x--;for(;A--;){if(S===E||E!==null&&S===E.alternate){D=S;break t}S=D(S),E=D(E)}D=null}else D=null;_!==null&&jy(p,g,_,D,!1),I!==null&&O!==null&&jy(p,O,I,D,!0)}}e:{if(g=c?go(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var B=W_;else if(X_(g))if(jT)B=UR;else{B=PR;var T=LR}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Bm(c.elementType)&&(B=W_):B=jR;if(B&&(B=B(t,c))){PT(p,B,n,f);break e}T&&T(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&_d(g,"number",g.value)}switch(T=c?go(c):window,t){case"focusin":(X_(T)||T.contentEditable==="true")&&(kr=T,Ed=c,No=null);break;case"focusout":No=Ed=kr=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,ny(p,n,f);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":ny(p,n,f)}var v;if(Gm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vr?kT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(VT&&n.locale!=="ko"&&(Vr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Vr&&(v=MT()):(Qi=f,Hm="value"in Qi?Qi.value:Qi.textContent,Vr=!0)),T=Tc(c,b),0<T.length&&(b=new $_(b,t,null,n,f),p.push({event:b,listeners:T}),v?b.data=v:(v=LT(n),v!==null&&(b.data=v)))),(v=DR?OR(t,n):MR(t,n))&&(b=Tc(c,"onBeforeInput"),0<b.length&&(T=new $_("onBeforeInput","beforeinput",null,n,f),p.push({event:T,listeners:b}),T.data=v)),AC(p,t,c,n,f)}Ob(p,e)})}function il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ko(t,n),s!=null&&i.unshift(il(t,s,r)),s=Ko(t,e),s!=null&&i.push(il(t,s,r))),t.tag===3)return i;t=t.return}return[]}function IC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jy(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,s?(c=Ko(n,r),c!=null&&a.unshift(il(n,c,u))):s||(c=Ko(n,r),c!=null&&a.push(il(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(NC,`
`).replace(xC,"")}function Vb(t,e){return e=Uy(e),Uy(t)===e}function Ee(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||sa(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&sa(t,""+i);break;case"className":ou(t,"class",i);break;case"tabIndex":ou(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ou(t,n,i);break;case"style":DT(t,i,r);break;case"data":if(e!=="object"){ou(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Cu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Ee(t,e,"name",s.name,s,null),Ee(t,e,"formEncType",s.formEncType,s,null),Ee(t,e,"formMethod",s.formMethod,s,null),Ee(t,e,"formTarget",s.formTarget,s,null)):(Ee(t,e,"encType",s.encType,s,null),Ee(t,e,"method",s.method,s,null),Ee(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Cu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ui);break;case"onScroll":i!=null&&se("scroll",t);break;case"onScrollEnd":i!=null&&se("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Cu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":se("beforetoggle",t),se("toggle",t),Ru(t,"popover",i);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ru(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sR.get(n)||n,Ru(t,n,i))}}function Gd(t,e,n,i,s,r){switch(n){case"style":DT(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?sa(t,i):(typeof i=="number"||typeof i=="bigint")&&sa(t,""+i);break;case"onScroll":i!=null&&se("scroll",t);break;case"onScrollEnd":i!=null&&se("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Bt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Ru(t,n,i)}}}function vt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",t),se("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ee(t,e,r,a,n,null)}}s&&Ee(t,e,"srcSet",n.srcSet,n,null),i&&Ee(t,e,"src",n.src,n,null);return;case"input":se("invalid",t);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":r=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(L(137,e));break;default:Ee(t,e,i,f,n,null)}}IT(t,r,l,u,c,a,s,!1);return;case"select":se("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ee(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Fr(t,!!i,e,!1):n!=null&&Fr(t,!!i,n,!0);return;case"textarea":se("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:Ee(t,e,a,l,n,null)}xT(t,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ee(t,e,u,i,n,null)}return;case"dialog":se("beforetoggle",t),se("toggle",t),se("cancel",t),se("close",t);break;case"iframe":case"object":se("load",t);break;case"video":case"audio":for(i=0;i<nl.length;i++)se(nl[i],t);break;case"image":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"embed":case"source":case"link":se("error",t),se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ee(t,e,c,i,n,null)}return;default:if(Bm(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Gd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ee(t,e,l,i,n,null))}function DC(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,c=null,f=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||Ee(t,e,_,null,i,p)}}for(var g in i){var _=i[g];if(p=n[g],i.hasOwnProperty(g)&&(_!=null||p!=null))switch(g){case"type":r=_;break;case"name":s=_;break;case"checked":c=_;break;case"defaultChecked":f=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,e));break;default:_!==p&&Ee(t,e,g,_,i,p)}}gd(t,a,l,u,c,f,r,s);return;case"select":_=a=l=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||Ee(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":g=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Ee(t,e,s,r,i,u)}e=l,n=a,i=_,g!=null?Fr(t,!!n,g,!1):!!i!=!!n&&(e!=null?Fr(t,!!n,e,!0):Fr(t,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ee(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":g=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&Ee(t,e,a,s,i,r)}NT(t,g,_);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":t.selected=!1;break;default:Ee(t,e,I,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ee(t,e,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!=null&&!i.hasOwnProperty(D)&&Ee(t,e,D,null,i,g);for(c in i)if(g=i[c],_=n[c],i.hasOwnProperty(c)&&g!==_&&(g!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,e));break;default:Ee(t,e,c,g,i,_)}return;default:if(Bm(e)){for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!==void 0&&!i.hasOwnProperty(O)&&Gd(t,e,O,void 0,i,g);for(f in i)g=i[f],_=n[f],!i.hasOwnProperty(f)||g===_||g===void 0&&_===void 0||Gd(t,e,f,g,i,_);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S)&&Ee(t,e,S,null,i,g);for(p in i)g=i[p],_=n[p],!i.hasOwnProperty(p)||g===_||g==null&&_==null||Ee(t,e,p,g,i,_)}function zy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,l=s.duration;if(r&&l&&zy(a)){for(a=0,l=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,p=u.initiatorType;f&&zy(p)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(r+a)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Yd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function By(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kb(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zf=null;function MC(){var t=window.event;return t&&t.type==="popstate"?t===zf?!1:(zf=t,!0):(zf=null,!1)}var Lb=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(t){return qy.resolve(null).then(t).catch(LC)}:Lb;function LC(t){setTimeout(function(){throw t})}function Cs(t){return t==="head"}function Hy(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),fa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Uo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Uo(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[bl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Uo(t.ownerDocument.body);n=s}while(n);fa(e)}function Fy(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Qd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qd(n),zm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function PC(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[bl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=gn(t.nextSibling),t===null)break}return null}function jC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=gn(t.nextSibling),t===null))return null;return t}function Pb(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=gn(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function UC(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Jd=null;function Gy(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return gn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function $y(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function jb(t,e,n){switch(e=bc(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function Uo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);zm(t)}var _n=new Map,Yy=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=pe.d;pe.d={f:zC,r:BC,D:qC,C:HC,L:FC,m:GC,X:YC,S:$C,M:KC};function zC(){var t=Ci.f(),e=fh();return t||e}function BC(t){var e=Sa(t);e!==null&&e.tag===5&&e.type==="form"?D0(e):Ci.r(t)}var Ca=typeof document>"u"?null:document;function Ub(t,e,n){var i=Ca;if(i&&typeof e=="string"&&e){var s=cn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Yy.has(s)||(Yy.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),vt(e,"link",t),ht(e),i.head.appendChild(e)))}}function qC(t){Ci.D(t),Ub("dns-prefetch",t,null)}function HC(t,e){Ci.C(t,e),Ub("preconnect",t,e)}function FC(t,e,n){Ci.L(t,e,n);var i=Ca;if(i&&t&&e){var s='link[rel="preload"][as="'+cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+cn(n.imageSizes)+'"]')):s+='[href="'+cn(t)+'"]';var r=s;switch(e){case"style":r=ha(t);break;case"script":r=Ia(t)}_n.has(r)||(t=Oe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),_n.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Il(r))||e==="script"&&i.querySelector(Nl(r))||(e=i.createElement("link"),vt(e,"link",t),ht(e),i.head.appendChild(e)))}}function GC(t,e){Ci.m(t,e);var n=Ca;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+cn(i)+'"][href="'+cn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ia(t)}if(!_n.has(r)&&(t=Oe({rel:"modulepreload",href:t},e),_n.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nl(r)))return}i=n.createElement("link"),vt(i,"link",t),ht(i),n.head.appendChild(i)}}}function $C(t,e,n){Ci.S(t,e,n);var i=Ca;if(i&&t){var s=Hr(i).hoistableStyles,r=ha(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Il(r)))l.loading=5;else{t=Oe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_n.get(r))&&wp(t,n);var u=a=i.createElement("link");ht(u),vt(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Pu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function YC(t,e){Ci.X(t,e);var n=Ca;if(n&&t){var i=Hr(n).hoistableScripts,s=Ia(t),r=i.get(s);r||(r=n.querySelector(Nl(s)),r||(t=Oe({src:t,async:!0},e),(e=_n.get(s))&&Rp(t,e),r=n.createElement("script"),ht(r),vt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function KC(t,e){Ci.M(t,e);var n=Ca;if(n&&t){var i=Hr(n).hoistableScripts,s=Ia(t),r=i.get(s);r||(r=n.querySelector(Nl(s)),r||(t=Oe({src:t,async:!0,type:"module"},e),(e=_n.get(s))&&Rp(t,e),r=n.createElement("script"),ht(r),vt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Ky(t,e,n,i){var s=(s=es.current)?Sc(s):null;if(!s)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ha(n.href),n=Hr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ha(n.href);var r=Hr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(Il(t)))&&!r._p&&(a.instance=r,a.state.loading=5),_n.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_n.set(t,n),r||QC(s,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ia(n),n=Hr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function ha(t){return'href="'+cn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function zb(t){return Oe({},t,{"data-precedence":t.precedence,precedence:null})}function QC(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),vt(e,"link",n),ht(e),t.head.appendChild(e))}function Ia(t){return'[src="'+cn(t)+'"]'}function Nl(t){return"script[async]"+t}function Qy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+cn(n.href)+'"]');if(i)return e.instance=i,ht(i),i;var s=Oe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ht(i),vt(i,"style",s),Pu(i,n.precedence,t),e.instance=i;case"stylesheet":s=ha(n.href);var r=t.querySelector(Il(s));if(r)return e.state.loading|=4,e.instance=r,ht(r),r;i=zb(n),(s=_n.get(s))&&wp(i,s),r=(t.ownerDocument||t).createElement("link"),ht(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),vt(r,"link",i),e.state.loading|=4,Pu(r,n.precedence,t),e.instance=r;case"script":return r=Ia(n.src),(s=t.querySelector(Nl(r)))?(e.instance=s,ht(s),s):(i=n,(s=_n.get(r))&&(i=Oe({},n),Rp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ht(s),vt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Pu(i,n.precedence,t));return e.instance}function Pu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function wp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Rp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ju=null;function Xy(t,e,n){if(ju===null){var i=new Map,s=ju=new Map;s.set(n,i)}else s=ju,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[bl]||r[pt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Wy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function XC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Bb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function WC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=ha(i.href),r=e.querySelector(Il(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ac.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,ht(r);return}r=e.ownerDocument||e,i=zb(i),(s=_n.get(s))&&wp(i,s),r=r.createElement("link"),ht(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),vt(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ac.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bf=0;function JC(t,e){return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Bf===0&&(Bf=62500*OC());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Bf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Uu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,e.forEach(ZC,t),wc=null,Ac.call(t))}function ZC(t,e){if(!(e.state.loading&4)){var n=wc.get(t);if(n)var i=n.get(null);else{n=new Map,wc.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Ac.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var sl={$$typeof:li,Provider:null,Consumer:null,_currentValue:Fs,_currentValue2:Fs,_threadCount:0};function eI(t,e,n,i,s,r,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.hiddenUpdates=cf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function qb(t,e,n,i,s,r,a,l,u,c,f,p){return t=new eI(t,e,n,a,u,c,f,p,l),e=1,r===!0&&(e|=24),r=Kt(3,null,null,e),t.current=r,r.stateNode=t,e=Jm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},tp(r),t}function Hb(t){return t?(t=jr,t):jr}function Fb(t,e,n,i,s,r){s=Hb(s),i.context===null?i.context=s:i.pendingContext=s,i=ns(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=is(t,i,e),n!==null&&(zt(n,t,e),Do(n,t,e))}function Jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cp(t,e){Jy(t,e),(t=t.alternate)&&Jy(t,e)}function Gb(t){if(t.tag===13||t.tag===31){var e=cr(t,67108864);e!==null&&zt(e,t,67108864),Cp(t,67108864)}}function Zy(t){if(t.tag===13||t.tag===31){var e=en();e=jm(e);var n=cr(t,e);n!==null&&zt(n,t,e),Cp(t,e)}}var Rc=!0;function tI(t,e,n,i){var s=X.T;X.T=null;var r=pe.p;try{pe.p=2,Ip(t,e,n,i)}finally{pe.p=r,X.T=s}}function nI(t,e,n,i){var s=X.T;X.T=null;var r=pe.p;try{pe.p=8,Ip(t,e,n,i)}finally{pe.p=r,X.T=s}}function Ip(t,e,n,i){if(Rc){var s=Zd(i);if(s===null)Uf(t,e,i,Cc,n),ev(t,i);else if(sI(s,t,e,n,i))i.stopPropagation();else if(ev(t,i),e&4&&-1<iI.indexOf(t)){for(;s!==null;){var r=Sa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Us(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Zt(a);l.entanglements[1]|=u,a&=~u}Kn(r),!(me&6)&&(gc=Wt()+500,Cl(0))}}break;case 31:case 13:l=cr(r,2),l!==null&&zt(l,r,2),fh(),Cp(r,2)}if(r=Zd(i),r===null&&Uf(t,e,i,Cc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Uf(t,e,i,null,n)}}function Zd(t){return t=qm(t),Np(t)}var Cc=null;function Np(t){if(Cc=null,t=Or(t),t!==null){var e=yl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=hT(e),t!==null)return t;t=null}else if(n===31){if(t=fT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Cc=t,null}function $b(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qw()){case gT:return 2;case _T:return 8;case nc:case Hw:return 32;case yT:return 268435456;default:return 32}default:return 32}}var em=!1,as=null,os=null,ls=null,rl=new Map,al=new Map,Hi=[],iI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function co(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Sa(e),e!==null&&Gb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function sI(t,e,n,i,s){switch(e){case"focusin":return as=co(as,t,e,n,i,s),!0;case"dragenter":return os=co(os,t,e,n,i,s),!0;case"mouseover":return ls=co(ls,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return rl.set(r,co(rl.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,al.set(r,co(al.get(r)||null,t,e,n,i,s)),!0}return!1}function Yb(t){var e=Or(t.target);if(e!==null){var n=yl(e);if(n!==null){if(e=n.tag,e===13){if(e=hT(n),e!==null){t.blockedOn=e,j_(t.priority,function(){Zy(n)});return}}else if(e===31){if(e=fT(n),e!==null){t.blockedOn=e,j_(t.priority,function(){Zy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);yd=i,n.target.dispatchEvent(i),yd=null}else return e=Sa(n),e!==null&&Gb(e),t.blockedOn=n,!1;e.shift()}return!0}function tv(t,e,n){zu(t)&&n.delete(e)}function rI(){em=!1,as!==null&&zu(as)&&(as=null),os!==null&&zu(os)&&(os=null),ls!==null&&zu(ls)&&(ls=null),rl.forEach(tv),al.forEach(tv)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,em||(em=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,rI)))}var gu=null;function nv(t){gu!==t&&(gu=t,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Np(i||n)===null)continue;break}var r=Sa(n);r!==null&&(t.splice(e,3),e-=3,Vd(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function fa(t){function e(u){return pu(u,t)}as!==null&&pu(as,t),os!==null&&pu(os,t),ls!==null&&pu(ls,t),rl.forEach(e),al.forEach(e);for(var n=0;n<Hi.length;n++){var i=Hi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)Yb(n),n.blockedOn===null&&Hi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Bt]||null;if(typeof r=="function")a||nv(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Bt]||null)l=a.formAction;else if(Np(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),nv(n)}}}function Kb(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function xp(t){this._internalRoot=t}ph.prototype.render=xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=en();Fb(n,i,t,e,null,null)};ph.prototype.unmount=xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fb(t.current,2,null,t,null,null),fh(),e[ba]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=ST();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&Yb(t)}};var iv=uT.version;if(iv!=="19.2.4")throw Error(L(527,iv,"19.2.4"));pe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=kw(e),t=t!==null?dT(t):null,t=t===null?null:t.stateNode,t};var aI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{vl=_u.inject(aI),Jt=_u}catch{}}Jc.createRoot=function(t,e){if(!cT(t))throw Error(L(299));var n=!1,i="",s=U0,r=z0,a=B0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=qb(t,1,!1,null,null,n,i,null,s,r,a,Kb),t[ba]=e.current,Ap(t),new xp(e)};Jc.hydrateRoot=function(t,e,n){if(!cT(t))throw Error(L(299));var i=!1,s="",r=U0,a=z0,l=B0,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=qb(t,1,!0,e,n??null,i,s,u,r,a,l,Kb),e.context=Hb(null),n=e.current,i=en(),i=jm(i),s=ns(i),s.callback=null,is(n,s,i),n=i,e.current.lanes=n,Tl(e,n),Kn(e),t[ba]=e.current,Ap(t),new ph(e)};Jc.version="19.2.4";function Qb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qb)}catch(t){console.error(t)}}Qb(),iT.exports=Jc;var oI=iT.exports;const lI=YE(oI);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function uI(t={}){function e(i,s){let{pathname:r,search:a,hash:l}=i.location;return tm("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ol(s)}return hI(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cI(){return Math.random().toString(36).substring(2,10)}function rv(t,e){return{usr:t.state,key:t.key,idx:e}}function tm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||i||cI()}}function ol({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function hI(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let O=f(),S=O==null?null:O-c;c=O,u&&u({action:l,location:D.location,delta:S})}function g(O,S){l="PUSH";let E=tm(D.location,O,S);c=f()+1;let A=rv(E,c),x=D.createHref(E);try{a.pushState(A,"",x)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(x)}r&&u&&u({action:l,location:D.location,delta:1})}function _(O,S){l="REPLACE";let E=tm(D.location,O,S);c=f();let A=rv(E,c),x=D.createHref(E);a.replaceState(A,"",x),r&&u&&u({action:l,location:D.location,delta:0})}function I(O){return fI(O)}let D={get action(){return l},get location(){return t(s,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(sv,p),u=O,()=>{s.removeEventListener(sv,p),u=null}},createHref(O){return e(s,O)},createURL:I,encodeLocation(O){let S=I(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:_,go(O){return a.go(O)}};return D}function fI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ol(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Xb(t,e,n="/"){return dI(t,e,n,!1)}function dI(t,e,n,i){let s=typeof e=="string"?Na(e):e,r=bi(s.pathname||"/",n);if(r==null)return null;let a=Wb(t);mI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=wI(r);l=SI(a[u],c,i)}return l}function Wb(t,e=[],n=[],i="",s=!1){let r=(a,l,u=s,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Le(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=gi([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Le(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Wb(a.children,e,g,p,u)),!(a.path==null&&!a.index)&&e.push({path:p,score:TI(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let c of Jb(a.path))r(a,l,!0,c)}),e}function Jb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=Jb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function mI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var pI=/^:[\w-]+$/,gI=3,_I=2,yI=1,vI=10,EI=-2,av=t=>t==="*";function TI(t,e){let n=t.split("/"),i=n.length;return n.some(av)&&(i+=EI),e&&(i+=_I),n.filter(s=>!av(s)).reduce((s,r)=>s+(pI.test(r)?gI:r===""?yI:vI),i)}function bI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function SI(t,e,n=!1){let{routesMeta:i}=t,s={},r="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=Ic({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=Ic({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:gi([r,p.pathname]),pathnameBase:NI(gi([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=gi([r,p.pathnameBase]))}return a}function Ic(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=AI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let I=l[g]||"";a=r.slice(0,r.length-I.length).replace(/(.)\/+$/,"$1")}const _=l[g];return p&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:t}}function AI(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function wI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var RI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function CI(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Na(t):t,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=ov(n.substring(1),"/"):r=ov(n,e)):r=e,{pathname:r,search:xI(i),hash:DI(s)}}function ov(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(t){let e=II(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Op(t,e,n,i=!1){let s;typeof t=="string"?s=Na(t):(s={...t},Le(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=CI(s,l),c=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),NI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,OI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function VI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eS(t,e){let n=t;if(typeof n!="string"||!RI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(Zb)try{let r=new URL(window.location.href),a=n.startsWith("//")?new URL(r.protocol+n):new URL(n),l=bi(a.pathname,e);a.origin===r.origin&&l!=null?n=l+a.search+a.hash:s=!0}catch{An(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tS=["POST","PUT","PATCH","DELETE"];new Set(tS);var kI=["GET",...tS];new Set(kI);var xa=V.createContext(null);xa.displayName="DataRouter";var gh=V.createContext(null);gh.displayName="DataRouterState";var LI=V.createContext(!1),nS=V.createContext({isTransitioning:!1});nS.displayName="ViewTransition";var PI=V.createContext(new Map);PI.displayName="Fetchers";var jI=V.createContext(null);jI.displayName="Await";var sn=V.createContext(null);sn.displayName="Navigation";var xl=V.createContext(null);xl.displayName="Location";var In=V.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var Mp=V.createContext(null);Mp.displayName="RouteError";var iS="REACT_ROUTER_ERROR",UI="REDIRECT",zI="ROUTE_ERROR_RESPONSE";function BI(t){if(t.startsWith(`${iS}:${UI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qI(t){if(t.startsWith(`${iS}:${zI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OI(e.status,e.statusText,e.data)}catch{}}function HI(t,{relative:e}={}){Le(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(sn),{hash:s,pathname:r,search:a}=Dl(t,{relative:e}),l=r;return n!=="/"&&(l=r==="/"?n:gi([n,r])),i.createHref({pathname:l,search:a,hash:s})}function Da(){return V.useContext(xl)!=null}function Qn(){return Le(Da(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(xl).location}var sS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rS(t){V.useContext(sn).static||V.useLayoutEffect(t)}function Oa(){let{isDataRoute:t}=V.useContext(In);return t?iN():FI()}function FI(){Le(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(xa),{basename:e,navigator:n}=V.useContext(sn),{matches:i}=V.useContext(In),{pathname:s}=Qn(),r=JSON.stringify(Dp(i)),a=V.useRef(!1);return rS(()=>{a.current=!0}),V.useCallback((u,c={})=>{if(An(a.current,sS),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Op(u,JSON.parse(r),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gi([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,r,s,t])}V.createContext(null);function GI(){let{matches:t}=V.useContext(In),e=t[t.length-1];return e?e.params:{}}function Dl(t,{relative:e}={}){let{matches:n}=V.useContext(In),{pathname:i}=Qn(),s=JSON.stringify(Dp(n));return V.useMemo(()=>Op(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function $I(t,e){return aS(t,e)}function aS(t,e,n,i,s){var E;Le(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(sn),{matches:a}=V.useContext(In),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";lS(c,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=Qn(),_;if(e){let A=typeof e=="string"?Na(e):e;Le(f==="/"||((E=A.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=g;let I=_.pathname||"/",D=I;if(f!=="/"){let A=f.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(A.length).join("/")}let O=Xb(t,{pathname:D});An(p||O!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),An(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=WI(O&&O.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:gi([f,r.encodeLocation?r.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:gi([f,r.encodeLocation?r.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,s);return e&&S?V.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function YI(){let t=nN(),e=MI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:r},"ErrorBoundary")," or"," ",V.createElement("code",{style:r},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,a)}var KI=V.createElement(YI,null),oS=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=qI(t.digest);n&&(t=n)}let e=t!==void 0?V.createElement(In.Provider,{value:this.props.routeContext},V.createElement(Mp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?V.createElement(QI,{error:t},e):e}};oS.contextType=LI;var Hf=new WeakMap;function QI({children:t,error:e}){let{basename:n}=V.useContext(sn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=BI(e.digest);if(i){let s=Hf.get(e);if(s)throw s;let r=eS(i.location,n);if(Zb&&!Hf.get(e))if(r.isExternal||i.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:i.replace}));throw Hf.set(e,a),a}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return t}function XI({routeContext:t,match:e,children:n}){let i=V.useContext(xa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(In.Provider,{value:t},n)}function WI(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let f=r.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Le(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:_}=n,I=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||I){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let c=n&&i?(f,p)=>{var g,_;i(f,{location:n.location,params:((_=(g=n.matches)==null?void 0:g[0])==null?void 0:_.params)??{},unstable_pattern:VI(n.matches),errorInfo:p})}:void 0;return r.reduceRight((f,p,g)=>{let _,I=!1,D=null,O=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,D=p.route.errorElement||KI,l&&(u<0&&g===0?(lS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):u===g&&(I=!0,O=p.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,g+1)),E=()=>{let A;return _?A=D:I?A=O:p.route.Component?A=V.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,V.createElement(XI,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?V.createElement(oS,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):E()},null)}function Vp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(t){let e=V.useContext(xa);return Le(e,Vp(t)),e}function ZI(t){let e=V.useContext(gh);return Le(e,Vp(t)),e}function eN(t){let e=V.useContext(In);return Le(e,Vp(t)),e}function kp(t){let e=eN(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tN(){return kp("useRouteId")}function nN(){var i;let t=V.useContext(Mp),e=ZI("useRouteError"),n=kp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function iN(){let{router:t}=JI("useNavigate"),e=kp("useNavigate"),n=V.useRef(!1);return rS(()=>{n.current=!0}),V.useCallback(async(s,r={})=>{An(n.current,sS),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...r}))},[t,e])}var lv={};function lS(t,e,n){!e&&!lv[t]&&(lv[t]=!0,An(!1,n))}V.memo(sN);function sN({routes:t,future:e,state:n,onError:i}){return aS(t,void 0,n,i,e)}function rN({to:t,replace:e,state:n,relative:i}){Le(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(sn);An(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=V.useContext(In),{pathname:a}=Qn(),l=Oa(),u=Op(t,Dp(r),a,i==="path"),c=JSON.stringify(u);return V.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:i})},[l,c,i,e,n]),null}function ri(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:r=!1,unstable_useTransitions:a}){Le(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:s,static:r,unstable_useTransitions:a,future:{}}),[l,s,r,a]);typeof n=="string"&&(n=Na(n));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:_="default"}=n,I=V.useMemo(()=>{let D=bi(c,l);return D==null?null:{location:{pathname:D,search:f,hash:p,state:g,key:_},navigationType:i}},[l,c,f,p,g,_,i]);return An(I!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(sn.Provider,{value:u},V.createElement(xl.Provider,{children:e,value:I}))}function oN({children:t,location:e}){return $I(nm(t),e)}function nm(t,e=[]){let n=[];return V.Children.forEach(t,(i,s)=>{if(!V.isValidElement(i))return;let r=[...e,s];if(i.type===V.Fragment){n.push.apply(n,nm(i.props.children,r));return}Le(i.type===ri,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=nm(i.props.children,r)),n.push(a)}),n}var Bu="get",qu="application/x-www-form-urlencoded";function _h(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lN(t){return _h(t)&&t.tagName.toLowerCase()==="button"}function uN(t){return _h(t)&&t.tagName.toLowerCase()==="form"}function cN(t){return _h(t)&&t.tagName.toLowerCase()==="input"}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}var yu=null;function dN(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var mN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(t){return t!=null&&!mN.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):t}function pN(t,e){let n,i,s,r,a;if(uN(t)){let l=t.getAttribute("action");i=l?bi(l,e):null,n=t.getAttribute("method")||Bu,s=Ff(t.getAttribute("enctype"))||qu,r=new FormData(t)}else if(lN(t)||cN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?bi(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Bu,s=Ff(t.getAttribute("formenctype"))||Ff(l.getAttribute("enctype"))||qu,r=new FormData(l,t),!dN()){let{name:c,type:f,value:p}=t;if(f==="image"){let g=c?`${c}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else c&&r.append(c,p)}}else{if(_h(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bu,i=null,s=qu,a=t}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gN(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&bi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function _N(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vN(t,e,n){let i=await Promise.all(t.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await _N(r,n);return a.links?a.links():[]}return[]}));return SN(i.flat(1).filter(yN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uv(t,e,n,i,s,r){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return r==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):r==="data"?e.filter((u,c)=>{var p;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function EN(t,e,{includeHydrateFallback:n}={}){return TN(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function TN(t){return[...new Set(t)]}function bN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function SN(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let r=JSON.stringify(bN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function uS(){let t=V.useContext(xa);return Lp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AN(){let t=V.useContext(gh);return Lp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pp=V.createContext(void 0);Pp.displayName="FrameworkContext";function cS(){let t=V.useContext(Pp);return Lp(t,"You must render this element inside a <HydratedRouter> element"),t}function wN(t,e){let n=V.useContext(Pp),[i,s]=V.useState(!1),[r,a]=V.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=e,g=V.useRef(null);V.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=S=>{S.forEach(E=>{a(E.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[t]),V.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let _=()=>{s(!0)},I=()=>{s(!1),a(!1)};return n?t!=="intent"?[r,g,{}]:[r,g,{onFocus:ho(l,_),onBlur:ho(u,I),onMouseEnter:ho(c,_),onMouseLeave:ho(f,I),onTouchStart:ho(p,_)}]:[!1,g,{}]}function ho(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RN({page:t,...e}){let{router:n}=uS(),i=V.useMemo(()=>Xb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(IN,{page:t,matches:i,...e}):null}function CN(t){let{manifest:e,routeModules:n}=cS(),[i,s]=V.useState([]);return V.useEffect(()=>{let r=!1;return vN(t,e,n).then(a=>{r||s(a)}),()=>{r=!0}},[t,e,n]),i}function IN({page:t,matches:e,...n}){let i=Qn(),{future:s,manifest:r,routeModules:a}=cS(),{basename:l}=uS(),{loaderData:u,matches:c}=AN(),f=V.useMemo(()=>uv(t,e,c,r,i,"data"),[t,e,c,r,i]),p=V.useMemo(()=>uv(t,e,c,r,i,"assets"),[t,e,c,r,i]),g=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,O=!1;if(e.forEach(E=>{var x;let A=r.routes[E.route.id];!A||!A.hasLoader||(!f.some(z=>z.route.id===E.route.id)&&E.route.id in u&&((x=a[E.route.id])!=null&&x.shouldRevalidate)||A.hasClientLoader?O=!0:D.add(E.route.id))}),D.size===0)return[];let S=gN(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return O&&D.size>0&&S.searchParams.set("_routes",e.filter(E=>D.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[l,s.unstable_trailingSlashAwareDataRequests,u,i,r,f,e,t,a]),_=V.useMemo(()=>EN(p,r),[p,r]),I=CN(p);return V.createElement(V.Fragment,null,g.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),_.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:O})=>V.createElement("link",{key:D,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function NN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xN&&(window.__reactRouterVersion="7.13.0")}catch{}function DN({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=V.useRef();s.current==null&&(s.current=uI({window:i,v5Compat:!0}));let r=s.current,[a,l]=V.useState({action:r.action,location:r.location}),u=V.useCallback(c=>{n===!1?l(c):V.startTransition(()=>l(c))},[n]);return V.useLayoutEffect(()=>r.listen(u),[r,u]),V.createElement(aN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r,unstable_useTransitions:n})}var hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},I){let{basename:D,unstable_useTransitions:O}=V.useContext(sn),S=typeof c=="string"&&hS.test(c),E=eS(c,D);c=E.to;let A=HI(c,{relative:s}),[x,z,B]=wN(i,_),T=kN(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:O});function v(R){e&&e(R),R.defaultPrevented||T(R)}let b=V.createElement("a",{..._,...B,href:E.absoluteURL||A,onClick:E.isExternal||r?e:v,ref:NN(I,z),target:u,"data-discover":!S&&n==="render"?"true":void 0});return x&&!S?V.createElement(V.Fragment,null,b,V.createElement(RN,{page:A})):b});Ui.displayName="Link";var ON=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:l,children:u,...c},f){let p=Dl(a,{relative:c.relative}),g=Qn(),_=V.useContext(gh),{navigator:I,basename:D}=V.useContext(sn),O=_!=null&&zN(p)&&l===!0,S=I.encodeLocation?I.encodeLocation(p).pathname:p.pathname,E=g.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&D&&(A=bi(A,D)||A);const x=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let z=E===S||!s&&E.startsWith(S)&&E.charAt(x)==="/",B=A!=null&&(A===S||!s&&A.startsWith(S)&&A.charAt(S.length)==="/"),T={isActive:z,isPending:B,isTransitioning:O},v=z?e:void 0,b;typeof i=="function"?b=i(T):b=[i,z?"active":null,B?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let R=typeof r=="function"?r(T):r;return V.createElement(Ui,{...c,"aria-current":v,className:b,ref:f,style:R,to:a,viewTransition:l},typeof u=="function"?u(T):u)});ON.displayName="NavLink";var MN=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Bu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},I)=>{let{unstable_useTransitions:D}=V.useContext(sn),O=jN(),S=UN(l,{relative:c}),E=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&hS.test(l),x=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,T=(B==null?void 0:B.getAttribute("formmethod"))||a,v=()=>O(B||z.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:r,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});D&&n!==!1?V.startTransition(()=>v()):v()};return V.createElement("form",{ref:I,method:E,action:S,onSubmit:i?u:x,..._,"data-discover":!A&&t==="render"?"true":void 0})});MN.displayName="Form";function VN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(t){let e=V.useContext(xa);return Le(e,VN(t)),e}function kN(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=Oa(),f=Qn(),p=Dl(t,{relative:r});return V.useCallback(g=>{if(fN(g,e)){g.preventDefault();let _=n!==void 0?n:ol(f)===ol(p),I=()=>c(t,{replace:_,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l});u?V.startTransition(()=>I()):I()}},[f,c,p,n,i,e,t,s,r,a,l,u])}var LN=0,PN=()=>`__${String(++LN)}__`;function jN(){let{router:t}=fS("useSubmit"),{basename:e}=V.useContext(sn),n=tN(),i=t.fetch,s=t.navigate;return V.useCallback(async(r,a={})=>{let{action:l,method:u,encType:c,formData:f,body:p}=pN(r,e);if(a.navigate===!1){let g=a.fetcherKey||PN();await i(g,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,s,e,n])}function UN(t,{relative:e}={}){let{basename:n}=V.useContext(sn),i=V.useContext(In);Le(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Dl(t||".",{relative:e})},a=Qn();if(t==null){r.search=a.search;let l=new URLSearchParams(r.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();r.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:gi([n,r.pathname])),ol(r)}function zN(t,{relative:e}={}){let n=V.useContext(nS);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fS("useViewTransitionState"),s=Dl(t,{relative:e});if(!n.isTransitioning)return!1;let r=bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ic(s.pathname,a)!=null||Ic(s.pathname,r)!=null}const BN="_navbar_1jfl5_1",qN="_navbarContent_1jfl5_16",HN="_logo_1jfl5_23",FN="_navLinks_1jfl5_34",GN="_navItem_1jfl5_40",$N="_activeNavItem_1jfl5_50",YN="_ctaButton_1jfl5_54",KN="_menuButton_1jfl5_72",Nt={navbar:BN,navbarContent:qN,logo:HN,navLinks:FN,navItem:GN,activeNavItem:$N,ctaButton:YN,menuButton:KN},QN=()=>{const[t,e]=V.useState(!1),n=Qn();return V.useEffect(()=>{const i=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]),d.jsx("nav",{className:`${Nt.navbar} ${t?Nt.scrolled:""}`,children:d.jsxs("div",{className:`${Nt.navbarContent} container`,children:[d.jsxs(Ui,{to:"/",className:Nt.logo,children:["Layer1",d.jsx("span",{children:".Studio"})]}),d.jsxs("div",{className:Nt.navLinks,children:[d.jsx(Ui,{to:"/services",className:`${Nt.navItem} ${n.pathname==="/services"?Nt.activeNavItem:""}`,children:"Services"}),d.jsx(Ui,{to:"/portfolio",className:`${Nt.navItem} ${n.pathname==="/portfolio"?Nt.activeNavItem:""}`,children:"Portfolio"}),d.jsx(Ui,{to:"/careers",className:`${Nt.navItem} ${n.pathname==="/careers"?Nt.activeNavItem:""}`,children:"Careers"}),d.jsx(Ui,{to:"/contact",className:`${Nt.navItem} ${n.pathname==="/contact"?Nt.activeNavItem:""}`,children:"Contact"}),d.jsxs(Ui,{to:"/contact",className:Nt.ctaButton,children:["Book a Call",d.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"arrow_forward"})]})]}),d.jsx("button",{className:Nt.menuButton,children:d.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]})})},XN="_footer_c31mc_1",WN="_footerGrid_c31mc_8",JN="_brandColumn_c31mc_15",ZN="_logo_c31mc_21",e2="_description_c31mc_32",t2="_columnTitle_c31mc_39",n2="_linkList_c31mc_47",i2="_linkItem_c31mc_53",s2="_locationItem_c31mc_64",r2="_locationName_c31mc_68",a2="_bottomBar_c31mc_79",o2="_legalLinks_c31mc_90",l2="_legalLink_c31mc_90",ze={footer:XN,footerGrid:WN,brandColumn:JN,logo:ZN,description:e2,columnTitle:t2,linkList:n2,linkItem:i2,locationItem:s2,locationName:r2,bottomBar:a2,legalLinks:o2,legalLink:l2},u2=()=>d.jsx("footer",{className:ze.footer,children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:ze.footerGrid,children:[d.jsxs("div",{className:ze.brandColumn,children:[d.jsxs("div",{className:ze.logo,children:["Layer1",d.jsx("span",{children:".Studio"})]}),d.jsx("p",{className:ze.description,children:"Building the foundations of the digital future from our studios in London and Colombo."}),d.jsx("div",{className:ze.linkList,children:d.jsx("a",{href:"mailto:hello@layer1.studio",className:ze.linkItem,style:{color:"#fff",fontWeight:600},children:"hello@layer1.studio"})})]}),d.jsxs("div",{children:[d.jsx("h5",{className:ze.columnTitle,children:"Locations"}),d.jsx("div",{className:ze.locationItem,children:d.jsx("p",{className:ze.locationName,children:"London, UK"})}),d.jsx("div",{className:ze.locationItem,children:d.jsx("p",{className:ze.locationName,children:"Colombo, Sri Lanka"})})]}),d.jsxs("div",{children:[d.jsx("h5",{className:ze.columnTitle,children:"Connect"}),d.jsxs("div",{className:ze.linkList,children:[d.jsx("a",{href:"#",className:ze.linkItem,children:"LinkedIn"}),d.jsx("a",{href:"#",className:ze.linkItem,children:"Twitter"}),d.jsx("a",{href:"#",className:ze.linkItem,children:"Instagram"}),d.jsx("a",{href:"#",className:ze.linkItem,children:"Dribbble"})]})]})]}),d.jsxs("div",{className:ze.bottomBar,children:[d.jsx("p",{children:" 2026 Layer1.Studio. All rights reserved."}),d.jsxs("div",{className:ze.legalLinks,children:[d.jsx("a",{href:"#",className:ze.legalLink,children:"Privacy Policy"}),d.jsx("a",{href:"#",className:ze.legalLink,children:"Terms of Service"})]})]})]})}),c2="_hero_tq6s7_1",h2="_heroContent_tq6s7_8",f2="_badge_tq6s7_14",d2="_title_tq6s7_28",m2="_subtitle_tq6s7_35",p2="_buttonGroup_tq6s7_43",g2="_primaryButton_tq6s7_49",_2="_secondaryButton_tq6s7_68",y2="_glow_tq6s7_85",ii={hero:c2,heroContent:h2,badge:f2,title:d2,subtitle:m2,buttonGroup:p2,primaryButton:g2,secondaryButton:_2,glow:y2},v2=()=>d.jsxs("section",{className:`${ii.hero} hero-gradient`,children:[d.jsx("div",{className:"container",children:d.jsxs("div",{className:ii.heroContent,children:[d.jsx("span",{className:ii.badge,children:"Engineering with Heart & Logic"}),d.jsx("h1",{className:`${ii.title} text-gradient`,children:"Building code that holds its own."}),d.jsx("p",{className:ii.subtitle,children:"We're a collective of product thinkers and engineers who care more about how things work than how they're marketed. Minimalist apps, complex systems, one standard: excellence."}),d.jsxs("div",{className:ii.buttonGroup,children:[d.jsxs("button",{className:ii.primaryButton,children:["Tell us a story",d.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"})]}),d.jsx("button",{className:ii.secondaryButton,children:"The things we've built"})]})]})}),d.jsx("div",{className:ii.glow})]}),E2="_philosophy_1frf5_1",T2="_grid_1frf5_6",b2="_title_1frf5_13",S2="_description_1frf5_18",A2="_featureList_1frf5_25",w2="_feature_1frf5_25",R2="_iconWrapper_1frf5_36",C2="_featureTitle_1frf5_49",I2="_featureText_1frf5_56",N2="_visualWrapper_1frf5_61",x2="_glassVisualization_1frf5_65",D2="_vizLogo_1frf5_78",$e={philosophy:E2,grid:T2,title:b2,description:S2,featureList:A2,feature:w2,iconWrapper:R2,featureTitle:C2,featureText:I2,visualWrapper:N2,glassVisualization:x2,vizLogo:D2},O2=()=>d.jsx("section",{id:"philosophy",className:$e.philosophy,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:$e.grid,children:[d.jsxs("div",{children:[d.jsx("h2",{className:$e.title,children:"Our Core Belief"}),d.jsx("p",{className:$e.description,children:"Layer 1 is the floor where everything starts. In code, it's the logic that survives the hype cycles. We're not here for the quick ship; we're here for the systems that still make sense ten years from now."}),d.jsxs("div",{className:$e.featureList,children:[d.jsxs("div",{className:$e.feature,children:[d.jsx("div",{className:$e.iconWrapper,children:d.jsx("span",{className:"material-symbols-outlined",children:"architecture"})}),d.jsxs("div",{children:[d.jsx("h4",{className:$e.featureTitle,children:"Build it right, once."}),d.jsx("p",{className:$e.featureText,children:"We hate technical debt as much as you do. Our patterns are clean, intentional, and predictably solid."})]})]}),d.jsxs("div",{className:$e.feature,children:[d.jsx("div",{className:$e.iconWrapper,children:d.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),d.jsxs("div",{children:[d.jsx("h4",{className:$e.featureTitle,children:"Speed with context."}),d.jsx("p",{className:$e.featureText,children:"Shipping fast is easy. Shipping right while moving fast takes discipline. We have the scars to prove we have both."})]})]}),d.jsxs("div",{className:$e.feature,children:[d.jsx("div",{className:$e.iconWrapper,children:d.jsx("span",{className:"material-symbols-outlined",children:"trending_up"})}),d.jsxs("div",{children:[d.jsx("h4",{className:$e.featureTitle,children:"Growing pains, solved."}),d.jsx("p",{className:$e.featureText,children:"Whether it's your first ten fans or a million global users, your infrastructure shouldn't be the thing that keeps you up at night."})]})]})]})]}),d.jsx("div",{className:$e.visualWrapper,children:d.jsx("div",{className:$e.glassVisualization,children:d.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDixvRaV__254DeMwb1TezHT5-q6q5ocjBBl1AiWwqFDMNzSXOzH-iTS_t3xI7nhulXQSmjBh_ZDClhFM7C6vMzawJYgKHYz8tAV3cOPF7i1j2qL89elfa95wZ-oqLjzs10XFRImxabKde3cLjaW6-d7hl0564lqoYWX_neZq-jvVHlSN-g8AFNUUA-MFY8F8I254Pof1ZVhWzsUB4d2_bh4AjcTJG6Hssbv7dUViSrhhNHh7AQ9fe-k3aznf2a_XxF4tJoXTafr-WT",alt:"Philosophy Viz",className:$e.vizLogo})})})]})})}),M2="_capabilities_lnslm_1",V2="_header_lnslm_5",k2="_title_lnslm_10",L2="_subtitle_lnslm_15",P2="_grid_lnslm_22",j2="_card_lnslm_28",U2="_iconWrapper_lnslm_43",z2="_cardTitle_lnslm_61",B2="_cardText_lnslm_68",q2="_list_lnslm_74",H2="_listItem_lnslm_80",F2="_checkIcon_lnslm_89",rn={capabilities:M2,header:V2,title:k2,subtitle:L2,grid:P2,card:j2,iconWrapper:U2,cardTitle:z2,cardText:B2,list:q2,listItem:H2,checkIcon:F2},G2=()=>{const t=[{icon:"language",title:"Web Systems",text:"We build the kind of websites that feel like software. Fast, responsive, and impossible to ignore.",list:["Custom SaaS Dashboards","E-commerce Engines","Interactive Experiences"]},{icon:"stay_primary_portrait",title:"Mobile & Beyond",text:"iOS, Android, or anything with a screen. We focus on the thumb-feel and the split-second interactions.",list:["Consumer Apps","Enterprise Solutions","Offline-First Design"]},{icon:"layers",title:"Backend & Infrastructure",text:"The invisible part that matters the most. Secure, distributed, and ready for whatever the internet throws at it.",list:["API Architecture","Database Optimization","DevSecOps & Security"]}];return d.jsx("section",{id:"services",className:rn.capabilities,children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:rn.header,children:[d.jsx("h2",{className:rn.title,children:"What we do best"}),d.jsx("p",{className:rn.subtitle,children:"Specialized engineering for the things that usually fail."})]}),d.jsx("div",{className:rn.grid,children:t.map((e,n)=>d.jsxs("div",{className:rn.card,children:[d.jsx("div",{className:rn.iconWrapper,children:d.jsx("span",{className:"material-symbols-outlined",children:e.icon})}),d.jsx("h3",{className:rn.cardTitle,children:e.title}),d.jsx("p",{className:rn.cardText,children:e.text}),d.jsx("ul",{className:rn.list,children:e.list.map((i,s)=>d.jsxs("li",{className:rn.listItem,children:[d.jsx("span",{className:`material-symbols-outlined ${rn.checkIcon}`,children:"check_circle"}),i]},s))})]},n))})]})})},$2="_portfolioPreview_m0cth_1",Y2="_header_m0cth_7",K2="_titleWrapper_m0cth_15",Q2="_title_m0cth_15",X2="_subtitle_m0cth_24",W2="_exploreButton_m0cth_29",J2="_grid_m0cth_45",Z2="_projectCard_m0cth_51",ex="_imageWrapper_m0cth_55",tx="_projectImage_m0cth_66",nx="_overlay_m0cth_74",ix="_cardContent_m0cth_91",sx="_projectTitle_m0cth_95",rx="_projectText_m0cth_102",ax="_tagGroup_m0cth_109",ox="_tag_m0cth_109",bt={portfolioPreview:$2,header:Y2,titleWrapper:K2,title:Q2,subtitle:X2,exploreButton:W2,grid:J2,projectCard:Z2,imageWrapper:ex,projectImage:tx,overlay:nx,cardContent:ix,projectTitle:sx,projectText:rx,tagGroup:ax,tag:ox},lx=()=>{const t=[{title:"OmniChannel CRM",text:"Enterprise-grade customer management system for a Fortune 500 retailer.",tags:["Node.js","Postgres"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC4_cbDAndJwZVOFPkfnWrYBKzbaO4n4rCY-mJ7m0SkSToxDUZ6s-Vu4pSwlEmc7BtkU9Xq_F5lL8ghrqzYiS7FpsLl-4GM_eUfG2obKIkOQcmx2YeS_JnarSUoR7hcXFLysetVpUes4uW1bw1bIxLDOSut7RsOEBpcOl12GKrjo47XAFZ4KprT0CBAvsG-o2i7r-uACqfiN8LbMVX4UIh4IVwP29qFqpfDZ8u6Aqn_vNcE4-60hAZuLLUL6e_v6FO5EgdvWMNl3pcY"},{title:"Vault FinTech",text:"Next-generation mobile banking experience with real-time asset tracking.",tags:["Flutter","Go"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuC6WiSTZ-crmpTbyxwY6Zi-1S04T36K_CZT5x56EPBVcfxeym20RVOopuMFEUrg59fzjkiLMKCznMiFEC1NFwkLl1iw7BDNF--WHn3P06zcSUtK5-jKIpEPCR-7gUgOgmC6ZSeq1PGfDF9su9QX9TN-rnx6myFFPA11HUrL03T1hlcz7c6YYl0rbEaBpXYvnb4gdU-QzY92h98GVdRE9xY3uWZ7Jo62ipsJr6hq-4ODZtD8M4QTC8pnS6M5HMbKR3AOE66KLrDjMNvr"}];return d.jsx("section",{id:"projects",className:bt.portfolioPreview,children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:bt.header,children:[d.jsxs("div",{className:bt.titleWrapper,children:[d.jsx("h2",{className:bt.title,children:"Hand-picked work"}),d.jsx("p",{className:bt.subtitle,children:"A few things we're proud of. We don't just build apps; we build tools people actually use."})]}),d.jsxs("a",{href:"/portfolio",className:bt.exploreButton,children:["See how we did it",d.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]}),d.jsx("div",{className:bt.grid,children:t.map((e,n)=>d.jsxs("div",{className:bt.projectCard,children:[d.jsxs("div",{className:bt.imageWrapper,children:[d.jsx("img",{src:e.image,alt:e.title,className:bt.projectImage}),d.jsx("div",{className:bt.overlay})]}),d.jsxs("div",{className:bt.cardContent,children:[d.jsx("h4",{className:bt.projectTitle,children:e.title}),d.jsx("p",{className:bt.projectText,children:e.text}),d.jsx("div",{className:bt.tagGroup,children:e.tags.map((i,s)=>d.jsx("span",{className:bt.tag,children:i},s))})]})]},n))})]})})},ux=()=>d.jsxs("main",{children:[d.jsx(v2,{}),d.jsx(O2,{}),d.jsx(G2,{}),d.jsx(lx,{})]}),cx="_servicesPage_1xekf_1",hx="_heroSection_1xekf_5",fx="_heroContent_1xekf_10",dx="_badge_1xekf_14",mx="_title_1xekf_28",px="_subtitle_1xekf_39",gx="_methodology_1xekf_45",_x="_sectionHeader_1xekf_52",yx="_sectionTitle_1xekf_56",vx="_sectionSubtitle_1xekf_61",Ex="_processGrid_1xekf_66",Tx="_processStep_1xekf_72",bx="_stepHeader_1xekf_76",Sx="_numberCircle_1xekf_83",Ax="_dashedLine_1xekf_104",wx="_stepTitle_1xekf_114",Rx="_stepText_1xekf_119",Cx="_ctaSection_1xekf_125",Ix="_ctaBox_1xekf_129",Nx="_ctaTitle_1xekf_152",xx="_ctaSubtitle_1xekf_157",Dx="_ctaButtons_1xekf_164",Ox="_primaryCta_1xekf_170",Mx="_secondaryCta_1xekf_179",Me={servicesPage:cx,heroSection:hx,heroContent:fx,badge:dx,title:mx,subtitle:px,methodology:gx,sectionHeader:_x,sectionTitle:yx,sectionSubtitle:vx,processGrid:Ex,processStep:Tx,stepHeader:bx,numberCircle:Sx,dashedLine:Ax,stepTitle:wx,stepText:Rx,ctaSection:Cx,ctaBox:Ix,ctaTitle:Nx,ctaSubtitle:xx,ctaButtons:Dx,primaryCta:Ox,secondaryCta:Mx},Vx=()=>{const t=[{number:"01",title:"Sense-making",text:"We start by asking a lot of questions. We strip away the noise to find the core of what you're building."},{number:"02",title:"The Forge",text:"Where logic meets craft. We write code that is clean enough to read and fast enough to fly."},{number:"03",title:"Momentum",text:"Setting it live is just the beginning. We make sure the first 24 hours (and the next 2400) are seamless."},{number:"04",title:"The Horizon",text:"We stay in your corner. As you grow, we're there to make sure the foundation holds firm."}];return d.jsxs("div",{className:Me.servicesPage,children:[d.jsx("section",{className:Me.heroSection,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:Me.heroContent,children:[d.jsx("span",{className:Me.badge,children:"Our craft"}),d.jsxs("h1",{className:`${Me.title} text-gradient`,children:["Foundations for ",d.jsx("span",{children:"the future."})]}),d.jsx("p",{className:Me.subtitle,children:"We don't do 'average'. We build complex, hard-working software for people who have big ideas and little time for bugs."})]})})}),d.jsx("section",{className:Me.methodology,children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:Me.sectionHeader,children:[d.jsx("h2",{className:Me.sectionTitle,children:"How we work"}),d.jsx("p",{className:Me.sectionSubtitle,children:"No magic, just a very disciplined process that gets things done."})]}),d.jsx("div",{className:Me.processGrid,children:t.map((e,n)=>d.jsxs("div",{className:Me.processStep,children:[d.jsxs("div",{className:Me.stepHeader,children:[d.jsx("div",{className:Me.numberCircle,children:e.number}),n<t.length-1&&d.jsx("div",{className:Me.dashedLine})]}),d.jsx("h3",{className:Me.stepTitle,children:e.title}),d.jsx("p",{className:Me.stepText,children:e.text})]},n))})]})}),d.jsx("section",{className:Me.ctaSection,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:Me.ctaBox,children:[d.jsx("h2",{className:Me.ctaTitle,children:"Let's build something real."}),d.jsx("p",{className:Me.ctaSubtitle,children:"If you're tired of generic solutions, we should talk. We build the things that most people find too difficult."}),d.jsxs("div",{className:Me.ctaButtons,children:[d.jsx("button",{className:Me.primaryCta,children:"Say Hello"}),d.jsx("button",{className:Me.secondaryCta,children:"See our work"})]})]})})})]})},kx=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Lx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,f=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(g=64)),i.push(n[f],n[p],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||p==null)throw new Px;const g=r<<2|l>>4;if(i.push(g),c!==64){const _=l<<4&240|c>>2;if(i.push(_),p!==64){const I=c<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jx=function(t){const e=dS(t);return mS.encodeByteArray(e,!0)},Nc=function(t){return jx(t).replace(/\./g,"")},pS=function(t){try{return mS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=()=>Ux().__FIREBASE_DEFAULTS__,Bx=()=>{if(typeof process>"u"||typeof cv>"u")return;const t=cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return kx()||zx()||Bx()||qx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gS=t=>{var e,n;return(n=(e=yh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_S=t=>{const e=gS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},yS=()=>{var t;return(t=yh())==null?void 0:t.config},vS=t=>{var e;return(e=yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nc(JSON.stringify(n)),Nc(JSON.stringify(a)),""].join(".")}const zo={};function Fx(){const t={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?t.emulator.push(e):t.prod.push(e);return t}function Gx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hv=!1;function Up(t,e){if(typeof window>"u"||typeof document>"u"||!fr(window.location.host)||zo[t]===e||zo[t]||hv)return;zo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=Fx().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{hv=!0,a()},g}function f(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Gx(i),_=n("text"),I=document.getElementById(_)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),S=n("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;l(A),f(O,D);const x=c();u(E,S),A.append(E,I,O,x),document.body.appendChild(A)}r?(I.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Yx(){var e;const t=(e=yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wx(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jx(){return!Yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zx(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="FirebaseError";class Xn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tD,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?nD(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Xn(s,l,i)}}function nD(t,e){return t.replace(iD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const iD=/\{\$([^}]+)}/g;function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(fv(r)&&fv(a)){if(!nr(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function fv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Eo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rD(t,e){const n=new aD(t,e);return n.subscribe.bind(n)}class aD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");oD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Gf),s.error===void 0&&(s.error=Gf),s.complete===void 0&&(s.complete=Gf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Hx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cD(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(t){return t===qs?void 0:t}function cD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const fD={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},dD=ae.INFO,mD={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},pD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=mD[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=pD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const gD=(t,e)=>e.some(n=>t instanceof n);let dv,mv;function _D(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yD(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,im=new WeakMap,bS=new WeakMap,$f=new WeakMap,Bp=new WeakMap;function vD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(us(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),Bp.set(e,t),e}function ED(t){if(im.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});im.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TD(t){sm=t(sm)}function bD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yf(this),e,...n);return bS.set(i,e.sort?e.sort():[e]),us(i)}:yD().includes(t)?function(...e){return t.apply(Yf(this),e),us(TS.get(this))}:function(...e){return us(t.apply(Yf(this),e))}}function SD(t){return typeof t=="function"?bD(t):(t instanceof IDBTransaction&&ED(t),gD(t,_D())?new Proxy(t,sm):t)}function us(t){if(t instanceof IDBRequest)return vD(t);if($f.has(t))return $f.get(t);const e=SD(t);return e!==t&&($f.set(t,e),Bp.set(e,t)),e}const Yf=t=>Bp.get(t);function AD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=us(a);return i&&a.addEventListener("upgradeneeded",u=>{i(us(a.result),u.oldVersion,u.newVersion,us(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const wD=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],Kf=new Map;function pv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||wD.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return Kf.set(e,r),r}TD(t=>({...t,get:(e,n,i)=>pv(e,n)||t.get(e,n,i),has:(e,n)=>!!pv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ID(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ID(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",gv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new zp("@firebase/app"),ND="@firebase/app-compat",xD="@firebase/analytics-compat",DD="@firebase/analytics",OD="@firebase/app-check-compat",MD="@firebase/app-check",VD="@firebase/auth",kD="@firebase/auth-compat",LD="@firebase/database",PD="@firebase/data-connect",jD="@firebase/database-compat",UD="@firebase/functions",zD="@firebase/functions-compat",BD="@firebase/installations",qD="@firebase/installations-compat",HD="@firebase/messaging",FD="@firebase/messaging-compat",GD="@firebase/performance",$D="@firebase/performance-compat",YD="@firebase/remote-config",KD="@firebase/remote-config-compat",QD="@firebase/storage",XD="@firebase/storage-compat",WD="@firebase/firestore",JD="@firebase/ai",ZD="@firebase/firestore-compat",eO="firebase",tO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",nO={[rm]:"fire-core",[ND]:"fire-core-compat",[DD]:"fire-analytics",[xD]:"fire-analytics-compat",[MD]:"fire-app-check",[OD]:"fire-app-check-compat",[VD]:"fire-auth",[kD]:"fire-auth-compat",[LD]:"fire-rtdb",[PD]:"fire-data-connect",[jD]:"fire-rtdb-compat",[UD]:"fire-fn",[zD]:"fire-fn-compat",[BD]:"fire-iid",[qD]:"fire-iid-compat",[HD]:"fire-fcm",[FD]:"fire-fcm-compat",[GD]:"fire-perf",[$D]:"fire-perf-compat",[YD]:"fire-rc",[KD]:"fire-rc-compat",[QD]:"fire-gcs",[XD]:"fire-gcs-compat",[WD]:"fire-fst",[ZD]:"fire-fst-compat",[JD]:"fire-vertex","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,iO=new Map,om=new Map;function _v(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ir(t){const e=t.name;if(om.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of xc.values())_v(n,t);for(const n of iO.values())_v(n,t);return!0}function vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ol("app","Firebase",sO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=tO;function SS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:am,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw cs.create("bad-app-name",{appName:String(s)});if(n||(n=yS()),!n)throw cs.create("no-options");const r=xc.get(s);if(r){if(nr(n,r.options)&&nr(i,r.config))return r;throw cs.create("duplicate-app",{appName:s})}const a=new hD(s);for(const u of om.values())a.addComponent(u);const l=new rO(n,i,a);return xc.set(s,l),l}function qp(t=am){const e=xc.get(t);if(!e&&t===am&&yS())return SS();if(!e)throw cs.create("no-app",{appName:t});return e}function Un(t,e,n){let i=nO[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}ir(new vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",oO=1,ll="firebase-heartbeat-store";let Qf=null;function AS(){return Qf||(Qf=AD(aO,oO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Qf}async function lO(t){try{const n=(await AS()).transaction(ll),i=await n.objectStore(ll).get(wS(t));return await n.done,i}catch(e){if(e instanceof Xn)Si.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function yv(t,e){try{const i=(await AS()).transaction(ll,"readwrite");await i.objectStore(ll).put(e,wS(t)),await i.done}catch(n){if(n instanceof Xn)Si.warn(n.message);else{const i=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(i.message)}}}function wS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1024,cO=30;class hO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>cO){const a=mO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vv(),{heartbeatsToSend:i,unsentEntries:s}=fO(this._heartbeatsCache.heartbeats),r=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Si.warn(n),""}}}function vv(){return new Date().toISOString().substring(0,10)}function fO(t,e=uO){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Ev(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ev(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class dO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zx()?eD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ev(t){return Nc(JSON.stringify({version:2,heartbeats:t})).length}function mO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){ir(new vs("platform-logger",e=>new CD(e),"PRIVATE")),ir(new vs("heartbeat",e=>new hO(e),"PRIVATE")),Un(rm,gv,t),Un(rm,gv,"esm2020"),Un("fire-js","")}pO("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,RS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function b(){}b.prototype=v.prototype,T.F=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(R,C,N){for(var w=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)w[ve-2]=arguments[ve];return v.prototype[C].apply(R,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,b){b||(b=0);const R=Array(16);if(typeof v=="string")for(var C=0;C<16;++C)R[C]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(C=0;C<16;++C)R[C]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],C=T.g[2];let N=T.g[3],w;w=v+(N^b&(C^N))+R[0]+3614090360&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[1]+3905402710&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[2]+606105819&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[3]+3250441966&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[4]+4118548399&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[5]+1200080426&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[6]+2821735955&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[7]+4249261313&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[8]+1770035416&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[9]+2336552879&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[10]+4294925233&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[11]+2304563134&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[12]+1804603682&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[13]+4254626195&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[14]+2792965006&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[15]+1236535329&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(C^N&(b^C))+R[1]+4129170786&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[6]+3225465664&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[11]+643717713&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[0]+3921069994&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[5]+3593408605&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[10]+38016083&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[15]+3634488961&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[4]+3889429448&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[9]+568446438&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[14]+3275163606&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[3]+4107603335&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[8]+1163531501&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[13]+2850285829&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[2]+4243563512&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[7]+1735328473&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[12]+2368359562&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(b^C^N)+R[5]+4294588738&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[8]+2272392833&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[11]+1839030562&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[14]+4259657740&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[1]+2763975236&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[4]+1272893353&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[7]+4139469664&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[10]+3200236656&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[13]+681279174&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[0]+3936430074&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[3]+3572445317&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[6]+76029189&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[9]+3654602809&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[12]+3873151461&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[15]+530742520&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[2]+3299628645&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(C^(b|~N))+R[0]+4096336452&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[7]+1126891415&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[14]+2878612391&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[5]+4237533241&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[12]+1700485571&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[3]+2399980690&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[10]+4293915773&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[1]+2240044497&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[8]+1873313359&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[15]+4264355552&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[6]+2734768916&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[13]+1309151649&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[4]+4149444226&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[11]+3174756917&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[2]+718787259&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+N&4294967295}i.prototype.v=function(T,v){v===void 0&&(v=T.length);const b=v-this.blockSize,R=this.C;let C=this.h,N=0;for(;N<v;){if(C==0)for(;N<=b;)s(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<v;)if(R[C++]=T.charCodeAt(N++),C==this.blockSize){s(this,R),C=0;break}}else for(;N<v;)if(R[C++]=T[N++],C==this.blockSize){s(this,R),C=0;break}}this.h=C,this.o+=v},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,b=0;b<4;++b)for(let R=0;R<32;R+=8)T[v++]=this.g[b]>>>R&255;return T};function r(T,v){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function a(T,v){this.h=v;const b=[];let R=!0;for(let C=T.length-1;C>=0;C--){const N=T[C]|0;R&&N==v||(b[C]=N,R=!1)}this.g=b}var l={};function u(T){return-128<=T&&T<128?r(T,function(v){return new a([v|0],v<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(T<0)return O(c(-T));const v=[];let b=1;for(let R=0;T>=b;R++)v[R]=T/b|0,b*=4294967296;return new a(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return O(f(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(v,8));let R=p;for(let N=0;N<T.length;N+=8){var C=Math.min(8,T.length-N);const w=parseInt(T.substring(N,N+C),v);C<8?(C=c(Math.pow(v,C)),R=R.j(C).add(c(w))):(R=R.j(b),R=R.add(c(w)))}return R}var p=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-O(this).m();let T=0,v=1;for(let b=0;b<this.g.length;b++){const R=this.i(b);T+=(R>=0?R:4294967296+R)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(D(this))return"-"+O(this).toString(T);const v=c(Math.pow(T,6));var b=this;let R="";for(;;){const C=x(b,v).g;b=S(b,C.j(v));let N=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=C,I(b))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=S(this,T),D(T)?-1:I(T)?0:1};function O(T){const v=T.g.length,b=[];for(let R=0;R<v;R++)b[R]=~T.g[R];return new a(b,~T.h).add(g)}t.abs=function(){return D(this)?O(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),b=[];let R=0;for(let C=0;C<=v;C++){let N=R+(this.i(C)&65535)+(T.i(C)&65535),w=(N>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);R=w>>>16,N&=65535,w&=65535,b[C]=w<<16|N}return new a(b,b[b.length-1]&-2147483648?-1:0)};function S(T,v){return T.add(O(v))}t.j=function(T){if(I(this)||I(T))return p;if(D(this))return D(T)?O(this).j(O(T)):O(O(this).j(T));if(D(T))return O(this.j(O(T)));if(this.l(_)<0&&T.l(_)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,b=[];for(var R=0;R<2*v;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<T.g.length;C++){const N=this.i(R)>>>16,w=this.i(R)&65535,ve=T.i(C)>>>16,ot=T.i(C)&65535;b[2*R+2*C]+=w*ot,E(b,2*R+2*C),b[2*R+2*C+1]+=N*ot,E(b,2*R+2*C+1),b[2*R+2*C+1]+=w*ve,E(b,2*R+2*C+1),b[2*R+2*C+2]+=N*ve,E(b,2*R+2*C+2)}for(T=0;T<v;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=v;T<2*v;T++)b[T]=0;return new a(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function A(T,v){this.g=T,this.h=v}function x(T,v){if(I(v))throw Error("division by zero");if(I(T))return new A(p,p);if(D(T))return v=x(O(T),v),new A(O(v.g),O(v.h));if(D(v))return v=x(T,O(v)),new A(O(v.g),v.h);if(T.g.length>30){if(D(T)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,R=v;R.l(T)<=0;)b=z(b),R=z(R);var C=B(b,1),N=B(R,1);for(R=B(R,2),b=B(b,2);!I(R);){var w=N.add(R);w.l(T)<=0&&(C=C.add(b),N=w),R=B(R,1),b=B(b,1)}return v=S(T,C.j(v)),new A(C,v)}for(C=p;T.l(v)>=0;){for(b=Math.max(1,Math.floor(T.m()/v.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=c(b),w=N.j(v);D(w)||w.l(T)>0;)b-=R,N=c(b),w=N.j(v);I(N)&&(N=g),C=C.add(N),T=S(T,w)}return new A(C,T)}t.B=function(T){return x(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)&T.i(R);return new a(b,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)|T.i(R);return new a(b,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)^T.i(R);return new a(b,this.h^T.h)};function z(T){const v=T.g.length+1,b=[];for(let R=0;R<v;R++)b[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(b,T.h)}function B(T,v){const b=v>>5;v%=32;const R=T.g.length-b,C=[];for(let N=0;N<R;N++)C[N]=v>0?T.i(N+b)>>>v|T.i(N+b+1)<<32-v:T.i(N+b);return new a(C,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,RS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,hs=a}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,To,IS,Hu,lm,NS,xS,DS;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var h=0;h<o.length;++h){var m=o[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function s(o,h){if(h)e:{var m=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var M=o[y];if(!(M in m))break e;m=m[M]}o=o[o.length-1],y=m[o],h=h(y),h!=y&&h!=null&&e(m,o,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(h){var m=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&m.push([y,h[y]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,m){return o.call.apply(o.bind,arguments)}function c(o,h,m){return c=u,c.apply(null,arguments)}function f(o,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function p(o,h){function m(){}m.prototype=h.prototype,o.Z=h.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(y,M,k){for(var H=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];return h.prototype[M].apply(y,H)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function _(o){const h=o.length;if(h>0){const m=Array(h);for(let y=0;y<h;y++)m[y]=o[y];return m}return[]}function I(o,h){for(let y=1;y<arguments.length;y++){const M=arguments[y];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=o.length||0;const k=M.length||0;o.length=m+k;for(let H=0;H<k;H++)o[m+H]=M[H]}else o.push(M)}}class D{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function O(o){a.setTimeout(()=>{throw o},0)}function S(){var o=T;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class E{constructor(){this.h=this.g=null}add(h,m){const y=A.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var A=new D(()=>new x,o=>o.reset());class x{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,T=new E,v=()=>{const o=Promise.resolve(void 0);z=()=>{o.then(b)}};function b(){for(var o;o=S();){try{o.h.call(o.g)}catch(m){O(m)}var h=A;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}B=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function ve(o,h){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}p(ve,C),ve.prototype.init=function(o,h){const m=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(m=="mouseover"?h=o.fromElement:m=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(o,h,m,y,M){this.listener=o,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=M,this.key=++F,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function fe(o,h,m){for(const y in o)h.call(m,o[y],y,o)}function je(o,h){for(const m in o)h.call(void 0,o[m],m,o)}function Nn(o){const h={};for(const m in o)h[m]=o[m];return h}const Jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ii(o,h){let m,y;for(let M=1;M<arguments.length;M++){y=arguments[M];for(m in y)o[m]=y[m];for(let k=0;k<Jn.length;k++)m=Jn[k],Object.prototype.hasOwnProperty.call(y,m)&&(o[m]=y[m])}}function Mt(o){this.src=o,this.g={},this.h=0}Mt.prototype.add=function(o,h,m,y,M){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const H=za(o,h,y,M);return H>-1?(h=o[H],m||(h.fa=!1)):(h=new te(h,this.src,k,!!y,M),h.fa=m,o.push(h)),h};function xn(o,h){const m=h.type;if(m in o.g){var y=o.g[m],M=Array.prototype.indexOf.call(y,h,void 0),k;(k=M>=0)&&Array.prototype.splice.call(y,M,1),k&&(W(h),o.g[m].length==0&&(delete o.g[m],o.h--))}}function za(o,h,m,y){for(let M=0;M<o.length;++M){const k=o[M];if(!k.da&&k.listener==h&&k.capture==!!m&&k.ha==y)return M}return-1}var _r="closure_lm_"+(Math.random()*1e6|0),U={};function Re(o,h,m,y,M){if(Array.isArray(h)){for(let k=0;k<h.length;k++)Re(o,h[k],m,y,M);return null}return m=kg(m),o&&o[ot]?o.J(h,m,l(y)?!!y.capture:!1,M):Ht(o,h,m,!1,y,M)}function Ht(o,h,m,y,M,k){if(!h)throw Error("Invalid event type");const H=l(M)?!!M.capture:!!M;let ie=Uh(o);if(ie||(o[_r]=ie=new Mt(o)),m=ie.add(h,m,y,H,k),m.proxy)return m;if(y=Ds(),m.proxy=y,y.src=o,y.listener=m,o.addEventListener)N||(M=H),M===void 0&&(M=!1),o.addEventListener(h.toString(),y,M);else if(o.attachEvent)o.attachEvent(Vg(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ds(){function o(m){return h.call(o.src,o.listener,m)}const h=j1;return o}function Ba(o,h,m,y,M){if(Array.isArray(h))for(var k=0;k<h.length;k++)Ba(o,h[k],m,y,M);else y=l(y)?!!y.capture:!!y,m=kg(m),o&&o[ot]?(o=o.i,k=String(h).toString(),k in o.g&&(h=o.g[k],m=za(h,m,y,M),m>-1&&(W(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete o.g[k],o.h--)))):o&&(o=Uh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=za(h,m,y,M)),(m=o>-1?h[o]:null)&&jh(m))}function jh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ot])xn(h.i,o);else{var m=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(m,y,o.capture):h.detachEvent?h.detachEvent(Vg(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=Uh(h))?(xn(m,o),m.h==0&&(m.src=null,h[_r]=null)):W(o)}}}function Vg(o){return o in U?U[o]:U[o]="on"+o}function j1(o,h){if(o.da)o=!0;else{h=new ve(h,this);const m=o.listener,y=o.ha||o.src;o.fa&&jh(o),o=m.call(y,h)}return o}function Uh(o){return o=o[_r],o instanceof Mt?o:null}var zh="__closure_events_fn_"+(Math.random()*1e9>>>0);function kg(o){return typeof o=="function"?o:(o[zh]||(o[zh]=function(h){return o.handleEvent(h)}),o[zh])}function Tt(){R.call(this),this.i=new Mt(this),this.M=this,this.G=null}p(Tt,R),Tt.prototype[ot]=!0,Tt.prototype.removeEventListener=function(o,h,m,y){Ba(this,o,h,m,y)};function Ct(o,h){var m,y=o.G;if(y)for(m=[];y;y=y.G)m.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new C(h,o);else if(h instanceof C)h.target=h.target||o;else{var M=h;h=new C(y,o),Ii(h,M)}M=!0;let k,H;if(m)for(H=m.length-1;H>=0;H--)k=h.g=m[H],M=Fl(k,y,!0,h)&&M;if(k=h.g=o,M=Fl(k,y,!0,h)&&M,M=Fl(k,y,!1,h)&&M,m)for(H=0;H<m.length;H++)k=h.g=m[H],M=Fl(k,y,!1,h)&&M}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const m=o.g[h];for(let y=0;y<m.length;y++)W(m[y]);delete o.g[h],o.h--}}this.G=null},Tt.prototype.J=function(o,h,m,y){return this.i.add(String(o),h,!1,m,y)},Tt.prototype.K=function(o,h,m,y){return this.i.add(String(o),h,!0,m,y)};function Fl(o,h,m,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let k=0;k<h.length;++k){const H=h[k];if(H&&!H.da&&H.capture==m){const ie=H.listener,it=H.ha||H.src;H.fa&&xn(o.i,H),M=ie.call(it,y)!==!1&&M}}return M&&!y.defaultPrevented}function U1(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Lg(o){o.g=U1(()=>{o.g=null,o.i&&(o.i=!1,Lg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class z1 extends R{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Lg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(o){R.call(this),this.h=o,this.g={}}p(qa,R);var Pg=[];function jg(o){fe(o.g,function(h,m){this.g.hasOwnProperty(m)&&jh(h)},o),o.g={}}qa.prototype.N=function(){qa.Z.N.call(this),jg(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=a.JSON.stringify,B1=a.JSON.parse,q1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Ug(){}function zg(){}var Ha={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qh(){C.call(this,"d")}p(qh,C);function Hh(){C.call(this,"c")}p(Hh,C);var Os={},Bg=null;function Gl(){return Bg=Bg||new Tt}Os.Ia="serverreachability";function qg(o){C.call(this,Os.Ia,o)}p(qg,C);function Fa(o){const h=Gl();Ct(h,new qg(h))}Os.STAT_EVENT="statevent";function Hg(o,h){C.call(this,Os.STAT_EVENT,o),this.stat=h}p(Hg,C);function It(o){const h=Gl();Ct(h,new Hg(h,o))}Os.Ja="timingevent";function Fg(o,h){C.call(this,Os.Ja,o),this.size=h}p(Fg,C);function Ga(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function $a(){this.g=!0}$a.prototype.ua=function(){this.g=!1};function H1(o,h,m,y,M,k){o.info(function(){if(o.g)if(k){var H="",ie=k.split("&");for(let be=0;be<ie.length;be++){var it=ie[be].split("=");if(it.length>1){const lt=it[0];it=it[1];const On=lt.split("_");H=On.length>=2&&On[1]=="type"?H+(lt+"="+it+"&"):H+(lt+"=redacted&")}}}else H=null;else H=k;return"XMLHTTP REQ ("+y+") [attempt "+M+"]: "+h+`
`+m+`
`+H})}function F1(o,h,m,y,M,k,H){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+M+"]: "+h+`
`+m+`
`+k+" "+H})}function yr(o,h,m,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+$1(o,m)+(y?" "+y:"")})}function G1(o,h){o.info(function(){return"TIMEOUT: "+h})}$a.prototype.info=function(){};function $1(o,h){if(!o.g)return h;if(!h)return null;try{const k=JSON.parse(h);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var m=k[o];if(!(m.length<2)){var y=m[1];if(Array.isArray(y)&&!(y.length<1)){var M=y[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<y.length;H++)y[H]=""}}}}return Bh(k)}catch{return h}}var $l={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$g;function Fh(){}p(Fh,Ug),Fh.prototype.g=function(){return new XMLHttpRequest},$g=new Fh;function Ya(o){return encodeURIComponent(String(o))}function Y1(o){var h=1;o=o.split(":");const m=[];for(;h>0&&o.length;)m.push(o.shift()),h--;return o.length&&m.push(o.join(":")),m}function Ni(o,h,m,y){this.j=o,this.i=h,this.l=m,this.S=y||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}var Kg={},Gh={};function $h(o,h,m){o.M=1,o.A=Kl(Dn(h)),o.u=m,o.R=!0,Qg(o,null)}function Qg(o,h){o.F=Date.now(),Yl(o),o.B=Dn(o.A);var m=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),l_(m.i,"t",y),o.C=0,m=o.j.L,o.h=new Yg,o.g=R_(o.j,m?h:null,!o.u),o.P>0&&(o.O=new z1(c(o.Y,o,o.g),o.P)),h=o.V,m=o.g,y=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(Pg[0]=M.toString()),M=Pg);for(let k=0;k<M.length;k++){const H=Re(m,M[k],y||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=o.J?Nn(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),Fa(),H1(o.i,o.v,o.B,o.l,o.S,o.u)}Ni.prototype.ba=function(o){o=o.target;const h=this.O;h&&Oi(o)==3?h.j():this.Y(o)},Ni.prototype.Y=function(o){try{if(o==this.g)e:{const ie=Oi(this.g),it=this.g.ya(),be=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||p_(this.g)))){this.K||ie!=4||it==7||(it==8||be<=0?Fa(3):Fa(2)),Yh(this);var h=this.g.ca();this.X=h;var m=K1(this);if(this.o=h==200,F1(this.i,this.v,this.B,this.l,this.S,ie,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,M=this.g;if((y=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var k=y;break t}}k=null}if(o=k)yr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kh(this,o);else{this.o=!1,this.m=3,It(12),Ms(this),Ka(this);break e}}if(this.R){o=!0;let lt;for(;!this.K&&this.C<m.length;)if(lt=Q1(this,m),lt==Gh){ie==4&&(this.m=4,It(14),o=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Kg){this.m=4,It(15),yr(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else yr(this.i,this.l,lt,null),Kh(this,lt);if(Xg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||m.length!=0||this.h.h||(this.m=1,It(16),o=!1),this.o=this.o&&o,!o)yr(this.i,this.l,m,"[Invalid Chunked Response]"),Ms(this),Ka(this);else if(m.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),nf(H),H.P=!0,It(11))}}else yr(this.i,this.l,m,null),Kh(this,m);ie==4&&Ms(this),this.o&&!this.K&&(ie==4?b_(this.j,this):(this.o=!1,Yl(this)))}else uw(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Ms(this),Ka(this)}}}catch{}finally{}};function K1(o){if(!Xg(o))return o.g.la();const h=p_(o.g);if(h==="")return"";let m="";const y=h.length,M=Oi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Ms(o),Ka(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<y;k++)o.h.h=!0,m+=o.h.i.decode(h[k],{stream:!(M&&k==y-1)});return h.length=0,o.h.g+=m,o.C=0,o.h.g}function Xg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Q1(o,h){var m=o.C,y=h.indexOf(`
`,m);return y==-1?Gh:(m=Number(h.substring(m,y)),isNaN(m)?Kg:(y+=1,y+m>h.length?Gh:(h=h.slice(y,y+m),o.C=y+m,h)))}Ni.prototype.cancel=function(){this.K=!0,Ms(this)};function Yl(o){o.T=Date.now()+o.H,Wg(o,o.H)}function Wg(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ga(c(o.aa,o),h)}function Yh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Ni.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(G1(this.i,this.B),this.M!=2&&(Fa(),It(17)),Ms(this),this.m=2,Ka(this)):Wg(this,this.T-o)};function Ka(o){o.j.I==0||o.K||b_(o.j,o)}function Ms(o){Yh(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,jg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Kh(o,h){try{var m=o.j;if(m.I!=0&&(m.g==o||Qh(m.h,o))){if(!o.L&&Qh(m.h,o)&&m.I==3){try{var y=m.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var M=y;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)Zl(m),Wl(m);else break e;tf(m),It(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ga(c(m.Va,m),6e3));e_(m.h)<=1&&m.ta&&(m.ta=void 0)}else ks(m,11)}else if((o.L||m.g==o)&&Zl(m),!w(h))for(M=m.Ba.g.parse(h),h=0;h<M.length;h++){let be=M[h];const lt=be[0];if(!(lt<=m.K))if(m.K=lt,be=be[1],m.I==2)if(be[0]=="c"){m.M=be[1],m.ba=be[2];const On=be[3];On!=null&&(m.ka=On,m.j.info("VER="+m.ka));const Ls=be[4];Ls!=null&&(m.za=Ls,m.j.info("SVER="+m.za));const Mi=be[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(y=1.5*Mi,m.O=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Vi=o.g;if(Vi){const tu=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var k=y.h;k.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Xh(k,k.h),k.h=null))}if(y.G){const sf=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;sf&&(y.wa=sf,Ce(y.J,y.G,sf))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),y=m;var H=o;if(y.na=w_(y,y.L?y.ba:null,y.W),H.L){t_(y.h,H);var ie=H,it=y.O;it&&(ie.H=it),ie.D&&(Yh(ie),Yl(ie)),y.g=H}else E_(y);m.i.length>0&&Jl(m)}else be[0]!="stop"&&be[0]!="close"||ks(m,7);else m.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?ks(m,7):ef(m):be[0]!="noop"&&m.l&&m.l.qa(be),m.A=0)}}Fa(4)}catch{}}var X1=class{constructor(o,h){this.g=o,this.map=h}};function Jg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function e_(o){return o.h?1:o.g?o.g.size:0}function Qh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Xh(o,h){o.g?o.g.add(h):o.h=h}function t_(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Jg.prototype.cancel=function(){if(this.i=n_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function n_(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const m of o.g.values())h=h.concat(m.G);return h}return _(o.i)}var i_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W1(o,h){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const y=o[m].indexOf("=");let M,k=null;y>=0?(M=o[m].substring(0,y),k=o[m].substring(y+1)):M=o[m],h(M,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function xi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof xi?(this.l=o.l,Qa(this,o.j),this.o=o.o,this.g=o.g,Xa(this,o.u),this.h=o.h,Wh(this,u_(o.i)),this.m=o.m):o&&(h=String(o).match(i_))?(this.l=!1,Qa(this,h[1]||"",!0),this.o=Wa(h[2]||""),this.g=Wa(h[3]||"",!0),Xa(this,h[4]),this.h=Wa(h[5]||"",!0),Wh(this,h[6]||"",!0),this.m=Wa(h[7]||"")):(this.l=!1,this.i=new Za(null,this.l))}xi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(Ja(h,s_,!0),":");var m=this.g;return(m||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Ja(h,s_,!0),"@"),o.push(Ya(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Ja(m,m.charAt(0)=="/"?ew:Z1,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Ja(m,nw)),o.join("")},xi.prototype.resolve=function(o){const h=Dn(this);let m=!!o.j;m?Qa(h,o.j):m=!!o.o,m?h.o=o.o:m=!!o.g,m?h.g=o.g:m=o.u!=null;var y=o.h;if(m)Xa(h,o.u);else if(m=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var M=h.h.lastIndexOf("/");M!=-1&&(y=h.h.slice(0,M+1)+y)}if(M=y,M==".."||M==".")y="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){y=M.lastIndexOf("/",0)==0,M=M.split("/");const k=[];for(let H=0;H<M.length;){const ie=M[H++];ie=="."?y&&H==M.length&&k.push(""):ie==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),y&&H==M.length&&k.push("")):(k.push(ie),y=!0)}y=k.join("/")}else y=M}return m?h.h=y:m=o.i.toString()!=="",m?Wh(h,u_(o.i)):m=!!o.m,m&&(h.m=o.m),h};function Dn(o){return new xi(o)}function Qa(o,h,m){o.j=m?Wa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Xa(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Wh(o,h,m){h instanceof Za?(o.i=h,iw(o.i,o.l)):(m||(h=Ja(h,tw)),o.i=new Za(h,o.l))}function Ce(o,h,m){o.i.set(h,m)}function Kl(o){return Ce(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Wa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ja(o,h,m){return typeof o=="string"?(o=encodeURI(o).replace(h,J1),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function J1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var s_=/[#\/\?@]/g,Z1=/[#\?:]/g,ew=/[#\?]/g,tw=/[#\?@]/g,nw=/#/g;function Za(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Vs(o){o.g||(o.g=new Map,o.h=0,o.i&&W1(o.i,function(h,m){o.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Za.prototype,t.add=function(o,h){Vs(this),this.i=null,o=vr(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(h),this.h+=1,this};function r_(o,h){Vs(o),h=vr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function a_(o,h){return Vs(o),h=vr(o,h),o.g.has(h)}t.forEach=function(o,h){Vs(this),this.g.forEach(function(m,y){m.forEach(function(M){o.call(h,M,y,this)},this)},this)};function o_(o,h){Vs(o);let m=[];if(typeof h=="string")a_(o,h)&&(m=m.concat(o.g.get(vr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)m=m.concat(o[h]);return m}t.set=function(o,h){return Vs(this),this.i=null,o=vr(this,o),a_(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=o_(this,o),o.length>0?String(o[0]):h):h};function l_(o,h,m){r_(o,h),m.length>0&&(o.i=null,o.g.set(vr(o,h),_(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var m=h[y];const M=Ya(m);m=o_(this,m);for(let k=0;k<m.length;k++){let H=M;m[k]!==""&&(H+="="+Ya(m[k])),o.push(H)}}return this.i=o.join("&")};function u_(o){const h=new Za;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function vr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function iw(o,h){h&&!o.j&&(Vs(o),o.i=null,o.g.forEach(function(m,y){const M=y.toLowerCase();y!=M&&(r_(this,y),l_(this,M,m))},o)),o.j=h}function sw(o,h){const m=new $a;if(a.Image){const y=new Image;y.onload=f(Di,m,"TestLoadImage: loaded",!0,h,y),y.onerror=f(Di,m,"TestLoadImage: error",!1,h,y),y.onabort=f(Di,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=f(Di,m,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function rw(o,h){const m=new $a,y=new AbortController,M=setTimeout(()=>{y.abort(),Di(m,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(k=>{clearTimeout(M),k.ok?Di(m,"TestPingServer: ok",!0,h):Di(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Di(m,"TestPingServer: error",!1,h)})}function Di(o,h,m,y,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),y(m)}catch{}}function aw(){this.g=new q1}function Jh(o){this.i=o.Sb||null,this.h=o.ab||!1}p(Jh,Ug),Jh.prototype.g=function(){return new Ql(this.i,this.h)};function Ql(o,h){Tt.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ql,Tt),t=Ql.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,to(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,eo(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;c_(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function c_(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?eo(this):to(this),this.readyState==3&&c_(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,eo(this))},t.Na=function(o){this.g&&(this.response=o,eo(this))},t.ga=function(){this.g&&eo(this)};function eo(o){o.readyState=4,o.l=null,o.j=null,o.B=null,to(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=h.next();return o.join(`\r
`)};function to(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function h_(o){let h="";return fe(o,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function Zh(o,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=h_(m),typeof o=="string"?m!=null&&Ya(m):Ce(o,h,m))}function Ue(o){Tt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,Tt);var ow=/^https?$/i,lw=["POST","PUT"];t=Ue.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$g.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(k){f_(this,k);return}if(o=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var M in y)m.set(M,y[M]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const k of y.keys())m.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(lw,h,void 0)>=0)||y||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,H]of m)this.g.setRequestHeader(k,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){f_(this,k)}};function f_(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,d_(o),Xl(o)}function d_(o){o.A||(o.A=!0,Ct(o,"complete"),Ct(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ct(this,"complete"),Ct(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?m_(this):this.Xa())},t.Xa=function(){m_(this)};function m_(o){if(o.h&&typeof r<"u"){if(o.v&&Oi(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ct(o,"readystatechange"),Oi(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=k===0){let H=String(o.D).match(i_)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),y=!ow.test(H?H.toLowerCase():"")}m=y}if(m)Ct(o,"complete"),Ct(o,"success");else{o.o=6;try{var M=Oi(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",d_(o)}}finally{Xl(o)}}}}function Xl(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,h||Ct(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),B1(h)}};function p_(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function uw(o){const h={};o=(o.g&&Oi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var m=Y1(o[y]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const k=h[M]||[];h[M]=k,k.push(m)}je(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(o,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||h}function g_(o){this.za=0,this.i=[],this.j=new $a,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=no("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=no("baseRetryDelayMs",5e3,o),this.Za=no("retryDelaySeedMs",1e4,o),this.Ta=no("forwardChannelMaxRetries",2,o),this.va=no("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Jg(o&&o.concurrentRequestLimit),this.Ba=new aw,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=g_.prototype,t.ka=8,t.I=1,t.connect=function(o,h,m,y){It(0),this.W=o,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.J=w_(this,null,this.W),Jl(this)};function ef(o){if(__(o),o.I==3){var h=o.V++,m=Dn(o.J);if(Ce(m,"SID",o.M),Ce(m,"RID",h),Ce(m,"TYPE","terminate"),io(o,m),h=new Ni(o,o.j,h),h.M=2,h.A=Kl(Dn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.A,m=!0),m||(h.g=R_(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Yl(h)}A_(o)}function Wl(o){o.g&&(nf(o),o.g.cancel(),o.g=null)}function __(o){Wl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Zl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Jl(o){if(!Zg(o.h)&&!o.m){o.m=!0;var h=o.Ea;z||v(),B||(z(),B=!0),T.add(h,o),o.D=0}}function cw(o,h){return e_(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ga(c(o.Ea,o,h),S_(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new Ni(this,this.j,o);let k=this.o;if(this.U&&(k?(k=Nn(k),Ii(k,this.U)):k=this.U),this.u!==null||this.R||(M.J=k,k=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=v_(this,M,h),m=Dn(this.J),Ce(m,"RID",o),Ce(m,"CVER",22),this.G&&Ce(m,"X-HTTP-Session-Id",this.G),io(this,m),k&&(this.R?h="headers="+Ya(h_(k))+"&"+h:this.u&&Zh(m,this.u,k)),Xh(this.h,M),this.Ra&&Ce(m,"TYPE","init"),this.S?(Ce(m,"$req",h),Ce(m,"SID","null"),M.U=!0,$h(M,m,null)):$h(M,m,h),this.I=2}}else this.I==3&&(o?y_(this,o):this.i.length==0||Zg(this.h)||y_(this))};function y_(o,h){var m;h?m=h.l:m=o.V++;const y=Dn(o.J);Ce(y,"SID",o.M),Ce(y,"RID",m),Ce(y,"AID",o.K),io(o,y),o.u&&o.o&&Zh(y,o.u,o.o),m=new Ni(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),h&&(o.i=h.G.concat(o.i)),h=v_(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Xh(o.h,m),$h(m,y,h)}function io(o,h){o.H&&fe(o.H,function(m,y){Ce(h,y,m)}),o.l&&fe({},function(m,y){Ce(h,y,m)})}function v_(o,h,m){m=Math.min(o.i.length,m);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var M=o.i;let ie=-1;for(;;){const it=["count="+m];ie==-1?m>0?(ie=M[0].g,it.push("ofs="+ie)):ie=0:it.push("ofs="+ie);let be=!0;for(let lt=0;lt<m;lt++){var k=M[lt].g;const On=M[lt].map;if(k-=ie,k<0)ie=Math.max(0,M[lt].g-100),be=!1;else try{k="req"+k+"_"||"";try{var H=On instanceof Map?On:Object.entries(On);for(const[Ls,Mi]of H){let Vi=Mi;l(Mi)&&(Vi=Bh(Mi)),it.push(k+Ls+"="+encodeURIComponent(Vi))}}catch(Ls){throw it.push(k+"type="+encodeURIComponent("_badmap")),Ls}}catch{y&&y(On)}}if(be){H=it.join("&");break e}}H=void 0}return o=o.i.splice(0,m),h.G=o,H}function E_(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;z||v(),B||(z(),B=!0),T.add(h,o),o.A=0}}function tf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ga(c(o.Da,o),S_(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,T_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ga(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Wl(this),T_(this))};function nf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function T_(o){o.g=new Ni(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=Dn(o.na);Ce(h,"RID","rpc"),Ce(h,"SID",o.M),Ce(h,"AID",o.K),Ce(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ce(h,"TO",o.ia),Ce(h,"TYPE","xmlhttp"),io(o,h),o.u&&o.o&&Zh(h,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=Kl(Dn(h)),m.u=null,m.R=!0,Qg(m,o)}t.Va=function(){this.C!=null&&(this.C=null,Wl(this),tf(this),It(19))};function Zl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function b_(o,h){var m=null;if(o.g==h){Zl(o),nf(o),o.g=null;var y=2}else if(Qh(o.h,h))m=h.G,t_(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var M=o.D;y=Gl(),Ct(y,new Fg(y,m)),Jl(o)}else E_(o);else if(M=h.m,M==3||M==0&&h.X>0||!(y==1&&cw(o,h)||y==2&&tf(o)))switch(m&&m.length>0&&(h=o.h,h.i=h.i.concat(m)),M){case 1:ks(o,5);break;case 4:ks(o,10);break;case 3:ks(o,6);break;default:ks(o,2)}}}function S_(o,h){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*h}function ks(o,h){if(o.j.info("Error code "+h),h==2){var m=c(o.bb,o),y=o.Ua;const M=!y;y=new xi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qa(y,"https"),Kl(y),M?sw(y.toString(),m):rw(y.toString(),m)}else It(2);o.I=0,o.l&&o.l.pa(h),A_(o),__(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function A_(o){if(o.I=0,o.ja=[],o.l){const h=n_(o.h);(h.length!=0||o.i.length!=0)&&(I(o.ja,h),I(o.ja,o.i),o.h.i.length=0,_(o.i),o.i.length=0),o.l.oa()}}function w_(o,h,m){var y=m instanceof xi?Dn(m):new xi(m);if(y.g!="")h&&(y.g=h+"."+y.g),Xa(y,y.u);else{var M=a.location;y=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const k=new xi(null);y&&Qa(k,y),h&&(k.g=h),M&&Xa(k,M),m&&(k.h=m),y=k}return m=o.G,h=o.wa,m&&h&&Ce(y,m,h),Ce(y,"VER",o.ka),io(o,y),y}function R_(o,h,m){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Ue(new Jh({ab:m})):new Ue(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C_(){}t=C_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eu(){}eu.prototype.g=function(o,h){return new Ft(o,h)};function Ft(o,h){Tt.call(this),this.g=new g_(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!w(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Er(this)}p(Ft,Tt),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){ef(this.g)},Ft.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=Bh(o),o=m);h.i.push(new X1(h.Ya++,o)),h.I==3&&Jl(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Ft.Z.N.call(this)};function I_(o){qh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const m in h){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}p(I_,qh);function N_(){Hh.call(this),this.status=1}p(N_,Hh);function Er(o){this.g=o}p(Er,C_),Er.prototype.ra=function(){Ct(this.g,"a")},Er.prototype.qa=function(o){Ct(this.g,new I_(o))},Er.prototype.pa=function(o){Ct(this.g,new N_)},Er.prototype.oa=function(){Ct(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,DS=function(){return new eu},xS=function(){return Gl()},NS=Os,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,Hu=$l,Gg.COMPLETE="complete",IS=Gg,zg.EventType=Ha,Ha.OPEN="a",Ha.CLOSE="b",Ha.ERROR="c",Ha.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,To=zg,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,CS=Ue}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.8.0";function gO(t){Ma=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new zp("@firebase/firestore");function Rr(){return sr.logLevel}function G(t,...e){if(sr.logLevel<=ae.DEBUG){const n=e.map(Hp);sr.debug(`Firestore (${Ma}): ${t}`,...n)}}function Ai(t,...e){if(sr.logLevel<=ae.ERROR){const n=e.map(Hp);sr.error(`Firestore (${Ma}): ${t}`,...n)}}function da(t,...e){if(sr.logLevel<=ae.WARN){const n=e.map(Hp);sr.warn(`Firestore (${Ma}): ${t}`,...n)}}function Hp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,OS(t,i,n)}function OS(t,e,n){let i=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ai(i),new Error(i)}function ge(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||OS(e,s,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class yO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vO{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Qs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string",31837,{l:i}),new MS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class EO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=At.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new EO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const i=r=>{r.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=SO(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function um(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),r=e.charAt(i);if(s!==r)return Xf(s)===Xf(r)?oe(s,r):Xf(s)?1:-1}return oe(t.length,e.length)}const AO=55296,wO=57343;function Xf(t){const e=t.charCodeAt(0);return e>=AO&&e<=wO}function ma(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class Vn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Vn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Vn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return oe(e.length,n.length)}static compareSegments(e,n){const i=Vn.isNumericId(e),s=Vn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Vn.extractNumericId(e).compare(Vn.extractNumericId(n)):um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class Ae extends Vn{construct(e,n,i){return new Ae(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Vn{construct(e,n,i){return new _t(e,n,i)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new _t([Sv])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ae.fromString(e))}static fromName(e){return new Y(Ae.fromString(e).popFirst(5))}static empty(){return new Y(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e,n){if(!n)throw new $(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CO(t,e,n,i){if(e===!0&&i===!0)throw new $(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Av(t){if(!Y.isDocumentKey(t))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wv(t){if(Y.isDocumentKey(t))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vl(t,e){if(!kS(t))throw new $(P.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new $(P.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Cv=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Cv);return new xe(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rv)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:et("string",xe._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new xe(0,0))}static max(){return new J(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function IO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(i===1e9?new xe(n+1,0):new xe(n,i));return new Es(s,Y.empty(),e)}function NO(t){return new Es(t.readTime,t.key,ul)}class Es{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Es(J.min(),Y.empty(),ul)}static max(){return new Es(J.max(),Y.empty(),ul)}}function xO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==DO)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(s=>s?j.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new j((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===r&&i(a)},f=>s(f))}})}static doWhile(e,n){return new j((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function MO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function bh(t){return t==null}function Dc(t){return t===0&&1/t==-1/0}function VO(t){return typeof t=="number"&&Number.isInteger(t)&&!Dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="";function kO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Iv(e)),e=LO(t.get(n),e);return Iv(e)}function LO(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case LS:n+="";break;default:n+=r}}return n}function Iv(t){return t+LS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??mt.RED,this.left=s??mt.EMPTY,this.right=r??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new mt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new rt(_t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new jS("Invalid base64 string: "+r):r}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=PO.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="server_timestamp",zS="__type__",BS="__previous_value__",qS="__local_write_time__";function $p(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zS])==null?void 0:i.stringValue)===US}function Sh(t){const e=t.mapValue.fields[BS];return $p(e)?Sh(e):e}function cl(t){const e=Ts(t.mapValue.fields[qS].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,i,s,r,a,l,u,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=p}}const Oc="(default)";class hl{constructor(e,n){this.projectId=e,this.database=n||Oc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}function UO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__type__",zO="__max__",Tu={mapValue:{}},FS="__vector__",Mc="value";function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:qO(t)?9007199254740991:BO(t)?10:11:Q(28295,{value:t})}function Gn(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ts(s.timestampValue),l=Ts(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return bs(s.bytesValue).isEqual(bs(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return He(s.geoPointValue.latitude)===He(r.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return He(s.integerValue)===He(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=He(s.doubleValue),l=He(r.doubleValue);return a===l?Dc(a)===Dc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ma(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(Nv(a)!==Nv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Gn(a[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function fl(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function pa(t,e){if(t===e)return 0;const n=Ss(t),i=Ss(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=He(r.integerValue||r.doubleValue),u=He(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Dv(t.timestampValue,e.timestampValue);case 4:return Dv(cl(t),cl(e));case 5:return um(t.stringValue,e.stringValue);case 6:return function(r,a){const l=bs(r),u=bs(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=oe(l[c],u[c]);if(f!==0)return f}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=oe(He(r.latitude),He(a.latitude));return l!==0?l:oe(He(r.longitude),He(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ov(t.arrayValue,e.arrayValue);case 10:return function(r,a){var g,_,I,D;const l=r.fields||{},u=a.fields||{},c=(g=l[Mc])==null?void 0:g.arrayValue,f=(_=u[Mc])==null?void 0:_.arrayValue,p=oe(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return p!==0?p:Ov(c,f)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Tu.mapValue&&a===Tu.mapValue)return 0;if(r===Tu.mapValue)return 1;if(a===Tu.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=um(u[p],f[p]);if(g!==0)return g;const _=pa(l[u[p]],c[f[p]]);if(_!==0)return _}return oe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function Dv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Ts(t),i=Ts(e),s=oe(n.seconds,i.seconds);return s!==0?s:oe(n.nanos,i.nanos)}function Ov(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=pa(n[s],i[s]);if(r)return r}return oe(n.length,i.length)}function ga(t){return cm(t)}function cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ts(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=cm(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${cm(n.fields[a])}`;return s+"}"}(t.mapValue):Q(61005,{value:t})}function Fu(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Fu(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Is(i.fields,(r,a)=>{s+=r.length+Fu(a)}),s}(t.mapValue);default:throw Q(13486,{value:t})}}function Mv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hm(t){return!!t&&"integerValue"in t}function Yp(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function kv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gu(t){return!!t&&"mapValue"in t}function BO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HS])==null?void 0:i.stringValue)===FS}function Bo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bo(t.arrayValue.values[n]);return e}return{...t}}function qO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(n)}setAll(e){let n=_t.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Bo(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Gu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Is(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ut(Bo(this.value))}}function GS(t){const e=[];return Is(t.fields,(n,i)=>{const s=new _t([n]);if(Gu(i)){const r=GS(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new wt(e,0,J.min(),J.min(),J.min(),Ut.empty(),0)}static newFoundDocument(e,n,i,s){return new wt(e,1,n,J.min(),i,s,0)}static newNoDocument(e,n){return new wt(e,2,n,J.min(),J.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,J.min(),J.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.position=e,this.inclusive=n}}function Lv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=pa(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class Je extends $S{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GO(e,n,i):n==="array-contains"?new KO(e,i):n==="in"?new QO(e,i):n==="not-in"?new XO(e,i):n==="array-contains-any"?new WO(e,i):new Je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new $O(e,i):new YO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pa(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends $S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wn(e,n)}matches(e){return YS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YS(t){return t.op==="and"}function KS(t){return FO(t)&&YS(t)}function FO(t){for(const e of t.filters)if(e instanceof wn)return!1;return!0}function fm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(KS(t))return t.filters.map(e=>fm(e)).join(",");{const e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function QS(t,e){return t instanceof Je?function(i,s){return s instanceof Je&&i.op===s.op&&i.field.isEqual(s.field)&&Gn(i.value,s.value)}(t,e):t instanceof wn?function(i,s){return s instanceof wn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&QS(a,s.filters[l]),!0):!1}(t,e):void Q(19439)}function XS(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"}(t):"Filter"}class GO extends Je{constructor(e,n,i){super(e,n,i),this.key=Y.fromName(i.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class $O extends Je{constructor(e,n){super(e,"in",n),this.keys=WS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YO extends Je{constructor(e,n){super(e,"not-in",n),this.keys=WS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class KO extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&fl(n.arrayValue,this.value)}}class QO extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class XO extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fl(this.value.arrayValue,n)}}class WO extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Te=null}}function jv(t,e=null,n=[],i=[],s=null,r=null,a=null){return new JO(t,e,n,i,s,r,a)}function Kp(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),e.Te=n}return e.Te}function Qp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pv(t.startAt,e.startAt)&&Pv(t.endAt,e.endAt)}function dm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZO(t,e,n,i,s,r,a,l){return new kl(t,e,n,i,s,r,a,l)}function Xp(t){return new kl(t)}function Uv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eM(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function JS(t){return t.collectionGroup!==null}function qo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rt(_t.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new kc(r,i))}),n.has(_t.keyField().canonicalString())||e.Ie.push(new kc(_t.keyField(),i))}return e.Ie}function zn(t){const e=Z(t);return e.Ee||(e.Ee=tM(e,qo(t))),e.Ee}function tM(t,e){if(t.limitType==="F")return jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new kc(s.field,r)});const n=t.endAt?new Vc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vc(t.startAt.position,t.startAt.inclusive):null;return jv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function mm(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pm(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return Qp(zn(t),zn(e))&&t.limitType===e.limitType}function ZS(t){return`${Kp(zn(t))}|lt:${t.limitType}`}function Cr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XS(s)).join(", ")}]`),bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ga(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ga(s)).join(",")),`Target(${i})`}(zn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Y.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of qo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const c=Lv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,qo(i),s)||i.endAt&&!function(a,l,u){const c=Lv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,qo(i),s))}(t,e)}function nM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let i=!1;for(const s of qo(t)){const r=iM(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function iM(t,e,n){const i=t.field.isKeyField()?Y.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),c=l.data.field(r);return u!==null&&c!==null?pa(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Pe(Y.comparator);function wi(){return sM}const tA=new Pe(Y.comparator);function bo(...t){let e=tA;for(const n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Hs(){return Ho()}function iA(){return Ho()}function Ho(){return new mr(t=>t.toString(),(t,e)=>t.isEqual(e))}const rM=new Pe(Y.comparator),aM=new rt(Y.comparator);function le(...t){let e=aM;for(const n of t)e=e.add(n);return e}const oM=new rt(oe);function lM(){return oM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function uM(t,e){return VO(e)?sA(e):Wp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function cM(t,e,n){return t instanceof Lc?function(s,r){const a={fields:{[zS]:{stringValue:US},[qS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&$p(r)&&(r=Sh(r)),r&&(a.fields[BS]=r),{mapValue:a}}(n,e):t instanceof dl?aA(t,e):t instanceof ml?oA(t,e):function(s,r){const a=rA(s,r),l=zv(a)+zv(s.Ae);return hm(a)&&hm(s.Ae)?sA(l):Wp(s.serializer,l)}(t,e)}function hM(t,e,n){return t instanceof dl?aA(t,e):t instanceof ml?oA(t,e):n}function rA(t,e){return t instanceof Pc?function(i){return hm(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Lc extends Rh{}class dl extends Rh{constructor(e){super(),this.elements=e}}function aA(t,e){const n=lA(e);for(const i of t.elements)n.some(s=>Gn(s,i))||n.push(i);return{arrayValue:{values:n}}}class ml extends Rh{constructor(e){super(),this.elements=e}}function oA(t,e){let n=lA(e);for(const i of t.elements)n=n.filter(s=>!Gn(s,i));return{arrayValue:{values:n}}}class Pc extends Rh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zv(t){return He(t.integerValue||t.doubleValue)}function lA(t){return Yp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fM(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof dl&&s instanceof dl||i instanceof ml&&s instanceof ml?ma(i.elements,s.elements,Gn):i instanceof Pc&&s instanceof Pc?Gn(i.Ae,s.Ae):i instanceof Lc&&s instanceof Lc}(t.transform,e.transform)}class dM{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ch{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jp(t.key,bn.none()):new Ll(t.key,t.data,bn.none());{const n=t.data,i=Ut.empty();let s=new rt(_t.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Ns(t.key,i,new Xt(s.toArray()),bn.none())}}function mM(t,e,n){t instanceof Ll?function(s,r,a){const l=s.value.clone(),u=qv(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(s,r,a){if(!$u(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=qv(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(cA(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Fo(t,e,n,i){return t instanceof Ll?function(r,a,l,u){if(!$u(r.precondition,a))return l;const c=r.value.clone(),f=Hv(r.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ns?function(r,a,l,u){if(!$u(r.precondition,a))return l;const c=Hv(r.fieldTransforms,u,a),f=a.data;return f.setAll(cA(r)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,a,l){return $u(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function pM(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=rA(i.transform,s||null);r!=null&&(n===null&&(n=Ut.empty()),n.set(i.field,r))}return n||null}function Bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ma(i,s,(r,a)=>fM(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends Ch{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ns extends Ch{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function cA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function qv(t,e,n){const i=new Map;ge(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,hM(a,l,n[s]))}return i}function Hv(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,cM(r,a,e))}return i}class Jp extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gM extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&mM(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=iA();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=uA(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(n,i)=>Bv(n,i))&&ma(this.baseMutations,e.baseMutations,(n,i)=>Bv(n,i))}}class Zp{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ge(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return rM}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Zp(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,he;function EM(t){switch(t){case P.OK:return Q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function hA(t){if(t===void 0)return Ai("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ke.OK:return P.OK;case Ke.CANCELLED:return P.CANCELLED;case Ke.UNKNOWN:return P.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return P.INTERNAL;case Ke.UNAVAILABLE:return P.UNAVAILABLE;case Ke.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ke.NOT_FOUND:return P.NOT_FOUND;case Ke.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ke.ABORTED:return P.ABORTED;case Ke.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ke.DATA_LOSS:return P.DATA_LOSS;default:return Q(39323,{code:t})}}(he=Ke||(Ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new hs([4294967295,4294967295],0);function Fv(t){const e=TM().encode(t),n=new RS;return n.update(e),new Uint8Array(n.digest())}function Gv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new hs([n,i],0),new hs([s,r],0)]}class eg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(i<0)throw new So(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(hs.fromNumber(i)));return s.compare(bM)===1&&(s=new hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Fv(e),[i,s]=Gv(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new eg(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Fv(e),[i,s]=Gv(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ih(J.min(),s,new Pe(oe),wi(),le())}}class Pl{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pl(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=s}}class fA{constructor(e,n){this.targetId=e,this.Ce=n}}class dA{constructor(e,n,i=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class $v{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),i=le();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Q(38017,{changeType:r})}}),new Pl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Yv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class SM{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=bu(),this.Je=bu(),this.Ze=new Pe(oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const r=s.target;if(dm(r))if(i===0){const a=new Y(r.path);this.et(n,a,wt.newNoDocument(a,J.min()))}else ge(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=bs(i).toUint8Array()}catch(u){if(u instanceof jS)return da("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new eg(a,s,r)}catch(u){return da(u instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const l=this.ot(a);if(l){if(r.current&&dm(l.target)){const u=new Y(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,wt.newNoDocument(u,e))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=le();this.Je.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const s=new Ih(e,n,this.Ze,this.je,i);return this.je=wi(),this.He=bu(),this.Je=bu(),this.Ze=new Pe(oe),s}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $v,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rt(oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rt(oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $v),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Pe(Y.comparator)}function Yv(){return new Pe(Y.comparator)}const AM={asc:"ASCENDING",desc:"DESCENDING"},wM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class CM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IM(t,e){return jc(t,e.toTimestamp())}function Bn(t){return ge(!!t,49232),J.fromTimestamp(function(n){const i=Ts(n);return new xe(i.seconds,i.nanos)}(t))}function tg(t,e){return _m(t,e).canonicalString()}function _m(t,e){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pA(t){const e=Ae.fromString(t);return ge(EA(e),10190,{key:e.toString()}),e}function ym(t,e){return tg(t.databaseId,e.path)}function Wf(t,e){const n=pA(e);if(n.get(1)!==t.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(_A(n))}function gA(t,e){return tg(t.databaseId,e)}function NM(t){const e=pA(t);return e.length===4?Ae.emptyPath():_A(e)}function vm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _A(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kv(t,e,n){return{name:ym(t,e),fields:n.value.mapValue.fields}}function xM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(c,f){return c.useProto3Json?(ge(f===void 0||typeof f=="string",58123),Et.fromBase64String(f||"")):(ge(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Et.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?P.UNKNOWN:hA(c.code);return new $(f,c.message||"")}(a);n=new dA(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Wf(t,i.document.name),r=Bn(i.document.updateTime),a=i.document.createTime?Bn(i.document.createTime):J.min(),l=new Ut({mapValue:{fields:i.document.fields}}),u=wt.newFoundDocument(s,r,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Yu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Wf(t,i.document),r=i.readTime?Bn(i.readTime):J.min(),a=wt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Yu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Wf(t,i.document),r=i.removedTargetIds||[];n=new Yu([],r,s,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new vM(s,r),l=i.targetId;n=new fA(l,a)}}return n}function DM(t,e){let n;if(e instanceof Ll)n={update:Kv(t,e.key,e.value)};else if(e instanceof Jp)n={delete:ym(t,e.key)};else if(e instanceof Ns)n={update:Kv(t,e.key,e.data),updateMask:zM(e.fieldMask)};else{if(!(e instanceof gM))return Q(16599,{dt:e.type});n={verify:ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Lc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ml)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:IM(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q(27497)}(t,e.precondition)),n}function OM(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Bn(s.updateTime):Bn(r);return a.isEqual(J.min())&&(a=Bn(r)),new dM(a,s.transformResults||[])}(n,e))):[]}function MM(t,e){return{documents:[gA(t,e.path)]}}function VM(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gA(t,s);const r=function(c){if(c.length!==0)return vA(wn.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Ir(g.field),direction:PM(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=gm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function kM(t){let e=NM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ge(i===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(p){const g=yA(p);return g instanceof wn&&KS(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(I){return new kc(Nr(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,bh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new Vc(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,_=p.values||[];return new Vc(_,g)}(n.endAt)),ZO(e,s,a,r,l,"F",u,c)}function LM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Nr(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Nr(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nr(n.unaryFilter.field);return Je.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nr(n.unaryFilter.field);return Je.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Nr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(i=>yA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function PM(t){return AM[t]}function jM(t){return wM[t]}function UM(t){return RM[t]}function Ir(t){return{fieldPath:t.canonicalString()}}function Nr(t){return _t.fromServerFormat(t.fieldPath)}function vA(t){return t instanceof Je?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(n.field),op:jM(n.op),value:n.value}}}(t):t instanceof wn?function(n){const i=n.getFilters().map(s=>vA(s));return i.length===1?i[0]:{compositeFilter:{op:UM(n.op),filters:i}}}(t):Q(54877,{filter:t})}function zM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function TA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,s,r=J.min(),a=J.min(),l=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.yt=e}}function qM(t){const e=kM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.Sn=new FM}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Es.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class FM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rt(Ae.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(bA,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _a(0)}static ar(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",GM=1048576;function Wv([t,e],[n,i]){const s=oe(t,n);return s===0?oe(e,i):s}class $M{constructor(e){this.Pr=e,this.buffer=new rt(Wv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Wv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(Xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?G(Xv,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.Ar(3e5)})}}class KM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Th.ce);const i=new $M(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Qv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,s,r,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(c=Date.now(),Rr()<=ae.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function QM(t,e){return new KM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.changes=new mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Fo(i.mutation,s,Xt.empty(),xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const s=Hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=bo();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=wi();const a=Ho(),l=function(){return Ho()}();return n.forEach((u,c)=>{const f=i.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof Ns)?r=r.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Fo(f.mutation,c,f.mutation.getFieldMask(),xe.now())):a.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new WM(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Ho();let s=new Pe((a,l)=>a-l),r=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Xt.empty();f=l.applyToLocalView(c,f),i.set(u,f);const p=(s.get(l.batchId)||le()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=iA();f.forEach(g=>{if(!r.has(g)){const _=uA(n.get(g),i.get(g));_!==null&&p.set(g,_),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return j.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return eM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):j.resolve(Hs());let l=ul,u=r;return a.next(c=>j.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,u,c,le())).next(f=>({batchId:l,changes:nA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(i=>{let s=bo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=bo();return this.indexManager.getCollectionParents(e,r).next(l=>j.forEach(l,u=>{const c=function(p,g){return new kl(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i,s).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,wt.newInvalidDocument(f)))});let l=bo();return a.forEach((u,c)=>{const f=r.get(u);f!==void 0&&Fo(f.mutation,c,Xt.empty(),xe.now()),wh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:qM(s.bundledQuery),readTime:Bn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.overlays=new Pe(Y.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Hs();return j.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.bt(e,n,r)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const s=Hs(),r=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Pe((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=r.get(c.largestBatchId);f===null&&(f=Hs(),r=r.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Hs(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=s)););return j.resolve(l)}bt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new yM(n,i));let r=this.Lr.get(n);r===void 0&&(r=le(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.kr=new rt(ut.Kr),this.qr=new rt(ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new ut(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new ut(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new Y(new Ae([])),i=new ut(n,e),s=new ut(n,e+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Y(new Ae([])),i=new ut(n,e),s=new ut(n,e+1);let r=le();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new ut(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Y.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(ut.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _M(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Jr=this.Jr.add(new ut(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Gp:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const l=this.Zr(a.Hr);r.push(l)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rt(oe);return n.forEach(s=>{const r=new ut(s,0),a=new ut(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],l=>{i=i.add(l.Hr)})}),j.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Y.isDocumentKey(r)||(r=r.child(""));const a=new ut(new Y(r),0);let l=new rt(oe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},a),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return j.forEach(n.mutations,s=>{const r=new ut(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new ut(n,0),s=this.Jr.firstAfterOrEqual(i);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ti=e,this.docs=function(){return new Pe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let i=wi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():wt.newInvalidDocument(s))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=wi();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||xO(NO(f),i)<=0||(s.has(f.key)||wh(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Q(9500)}ni(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new s4(this)}getSize(e){return j.resolve(this.size)}}class s4 extends XM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.persistence=e,this.ri=new mr(n=>Kp(n),Qp),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new ng,this.targetCount=0,this.oi=_a._r()}forEachTarget(e,n){return this.ri.forEach((i,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),j.waitFor(r).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),j.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new t4,this.referenceDelegate=e(this),this.li=new r4(this),this.indexManager=new HM,this.remoteDocumentCache=function(s){return new i4(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new BM(n),this.Pi=new ZM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new n4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);const s=new a4(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return j.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class a4 extends OO{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Ai=null}static Vi(e){return new ig(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,i=>{const s=Y.fromPath(i);return this.mi(e,s).next(r=>{r||n.removeEntry(s,J.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uc{constructor(e,n){this.persistence=e,this.fi=new mr(i=>kO(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=QM(this,n)}static Vi(e,n){return new Uc(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(i,s)=>this.wr(e,i,s).next(r=>r?j.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,J.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}wr(e,n,i){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return j.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=s}static Es(e,n){let i=le(),s=le();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new sg(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Jx()?8:MO(Rt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.gs(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new o4;return this.ys(e,n,a).next(l=>{if(r.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>r.result)}ws(e,n,i,s){return i.documentReadCount<this.Vs?(Rr()<=ae.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Cr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Rr()<=ae.DEBUG&&G("QueryEngine","Query:",Cr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Rr()<=ae.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Cr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):j.resolve())}gs(e,n){if(Uv(n))return j.resolve(null);let i=zn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pm(n,null,"F"),i=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=le(...r);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,pm(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,s){return Uv(n)||s.isEqual(J.min())?j.resolve(null):this.fs.getDocuments(e,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?j.resolve(null):(Rr()<=ae.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cr(n)),this.Ds(e,a,n,IO(s,ul)).next(l=>l))})}bs(e,n){let i=new rt(eA(e));return n.forEach((s,r)=>{wh(e,r)&&(i=i.add(r))}),i}Ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(e,n,i){return Rr()<=ae.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Cr(n)),this.fs.getDocumentsMatchingQuery(e,n,Es.min(),i)}Ds(e,n,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",u4=3e8;class c4{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Pe(oe),this.Fs=new mr(r=>Kp(r),Qp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function h4(t,e,n,i){return new c4(t,e,n,i)}async function AA(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=le();for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of r){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function f4(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,g=p.keys();let _=j.resolve();return g.forEach(I=>{_=_.next(()=>f.getEntry(u,I)).next(D=>{const O=c.docVersions.get(I);ge(O!==null,48541),D.version.compareTo(O)<0&&(p.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),f.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=le();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function wA(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function d4(t,e){const n=Z(t),i=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;l.push(n.li.removeMatchingKeys(r,f.removedDocuments,p).next(()=>n.li.addMatchingKeys(r,f.addedDocuments,p)));let _=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Et.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,i)),s=s.insert(p,_),function(D,O,S){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=u4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,_,f)&&l.push(n.li.updateTargetData(r,_))});let u=wi(),c=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(m4(r,a,e.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(J.min())){const f=n.li.getLastRemoteSnapshotVersion(r).next(p=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(f)}return j.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.vs=s,r))}function m4(t,e,n){let i=le(),s=le();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=wi();return n.forEach((l,u)=>{const c=r.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):G(rg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:s}})}function p4(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function g4(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,e).next(r=>r?(s=r,j.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new Zi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function Em(t,e,n){const i=Z(t),s=i.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ka(a))throw a;G(rg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function Jv(t,e,n){const i=Z(t);let s=J.min(),r=le();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const p=Z(u),g=p.Fs.get(f);return g!==void 0?j.resolve(p.vs.get(g)):p.li.getTargetData(c,f)}(i,a,zn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?s:J.min(),n?r:le())).next(l=>(_4(i,nM(e),l),{documents:l,ks:r})))}function _4(t,e,n){let i=t.Ms.get(e)||J.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ms.set(e,i)}class Zv{constructor(){this.activeTargetIds=lM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y4{constructor(){this.vo=new Zv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Zv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Tm(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class T4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Oc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const a=Tm(),l=this.Qo(e,n.toUriEncodedString());G(Jf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,r);const{host:c}=new URL(l),f=fr(c);return this.zo(e,l,u,i,f).then(p=>(G(Jf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw da(Jf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}jo(e,n,i,s,r,a){return this.Wo(e,n,i,s,r)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Qo(e,n){const i=E4[e];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection",fo=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class Xr extends T4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xr.c_){const e=xS();fo(e,NS.STAT_EVENT,n=>{n.stat===lm.PROXY?G(St,"STAT_EVENT: detected buffering proxy"):n.stat===lm.NOPROXY&&G(St,"STAT_EVENT: detected no buffering proxy")}),Xr.c_=!0}}zo(e,n,i,s,r){const a=Tm();return new Promise((l,u)=>{const c=new CS;c.setWithCredentials(!0),c.listenOnce(IS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hu.NO_ERROR:const p=c.getResponseJson();G(St,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Hu.TIMEOUT:G(St,`RPC '${e}' ${a} timed out`),u(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const g=c.getStatus();if(G(St,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const D=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(E)>=0?E:P.UNKNOWN}(I.status);u(new $(D,I.message))}else u(new $(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(P.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(St,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);G(St,`RPC '${e}' ${a} sending request:`,s),c.send(n,"POST",f,i,15)})}T_(e,n,i){const s=Tm(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=r.join("");G(St,`Creating RPC '${e}' stream ${s}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let p=!1,g=!1;const _=new b4({Ho:I=>{g?G(St,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(G(St,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(St,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Jo:()=>f.close()});return fo(f,To.EventType.OPEN,()=>{g||(G(St,`RPC '${e}' stream ${s} transport opened.`),_.i_())}),fo(f,To.EventType.CLOSE,()=>{g||(g=!0,G(St,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(f))}),fo(f,To.EventType.ERROR,I=>{g||(g=!0,da(St,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.o_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),fo(f,To.EventType.MESSAGE,I=>{var D;if(!g){const O=I.data[0];ge(!!O,16349);const S=O,E=(S==null?void 0:S.error)||((D=S[0])==null?void 0:D.error);if(E){G(St,`RPC '${e}' stream ${s} received error:`,E);const A=E.status;let x=function(T){const v=Ke[T];if(v!==void 0)return hA(v)}(A),z=E.message;x===void 0&&(x=P.INTERNAL,z="Unknown error status: "+A+" with message "+E.message),g=!0,_.o_(new $(x,z)),f.close()}else G(St,`RPC '${e}' stream ${s} received:`,O),_.__(O)}}),Xr.u_(),setTimeout(()=>{_.s_()},0),_}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){return new Xr(t)}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new CM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr.c_=!1;class RA{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class CA{constructor(e,n,i,s,r,a,l,u){this.Ci=e,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new $(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A4 extends CA{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xM(this.serializer,e),i=function(r){if(!("targetChange"in r))return J.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?Bn(a.readTime):J.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=vm(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=dm(u)?{documents:MM(r,u)}:{query:VM(r,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=mA(r,a.resumeToken);const c=gm(r,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=jc(r,a.snapshotVersion.toTimestamp());const c=gm(r,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=LM(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=vm(this.serializer),n.removeTarget=e,this.K_(n)}}class w4 extends CA{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OM(e.writeResults,e.commitTime),i=Bn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=vm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>DM(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{}class C4 extends R4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,_m(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(P.UNKNOWN,r.toString())})}jo(e,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,_m(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(P.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function I4(t,e,n,i){return new C4(t,e,n,i)}class N4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="RemoteStore";class x4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{pr(this)&&(G(rr,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await jl(c),c.Va.set("Unknown"),c.Ea.delete(4),await xh(c)}(this))})}),this.Va=new N4(i,s)}}async function xh(t){if(pr(t))for(const e of t.Ra)await e(!0)}async function jl(t){for(const e of t.Ra)await e(!1)}function IA(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?lg(n):La(n).O_()&&og(n,e))}function ag(t,e){const n=Z(t),i=La(n);n.Ia.delete(e),i.O_()&&NA(n,e),n.Ia.size===0&&(i.O_()?i.L_():pr(n)&&n.Va.set("Unknown"))}function og(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).Z_(e)}function NA(t,e){t.da.$e(e),La(t).X_(e)}function lg(t){t.da=new SM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),La(t).start(),t.Va.ua()}function ug(t){return pr(t)&&!La(t).x_()&&t.Ia.size>0}function pr(t){return Z(t).Ea.size===0}function xA(t){t.da=void 0}async function D4(t){t.Va.set("Online")}async function O4(t){t.Ia.forEach((e,n)=>{og(t,e)})}async function M4(t,e){xA(t),ug(t)?(t.Va.ha(e),lg(t)):t.Va.set("Unknown")}async function V4(t,e,n){if(t.Va.set("Online"),e instanceof dA&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(i){G(rr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(t,i)}else if(e instanceof Yu?t.da.Xe(e):e instanceof fA?t.da.st(e):t.da.tt(e),!n.isEqual(J.min()))try{const i=await wA(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ia.get(c);f&&r.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=r.Ia.get(u);if(!f)return;r.Ia.set(u,f.withResumeToken(Et.EMPTY_BYTE_STRING,f.snapshotVersion)),NA(r,u);const p=new Zi(f.target,u,c,f.sequenceNumber);og(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){G(rr,"Failed to raise snapshot:",i),await zc(t,i)}}async function zc(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await jl(t),t.Va.set("Offline"),n||(n=()=>wA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(rr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xh(t)})}function DA(t,e){return e().catch(n=>zc(t,n,e))}async function Dh(t){const e=Z(t),n=As(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;k4(e);)try{const s=await p4(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,L4(e,s)}catch(s){await zc(e,s)}OA(e)&&MA(e)}function k4(t){return pr(t)&&t.Ta.length<10}function L4(t,e){t.Ta.push(e);const n=As(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function OA(t){return pr(t)&&!As(t).x_()&&t.Ta.length>0}function MA(t){As(t).start()}async function P4(t){As(t).ra()}async function j4(t){const e=As(t);for(const n of t.Ta)e.ea(n.mutations)}async function U4(t,e,n){const i=t.Ta.shift(),s=Zp.from(i,e,n);await DA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dh(t)}async function z4(t,e){e&&As(t).Y_&&await async function(i,s){if(function(a){return EM(a)&&a!==P.ABORTED}(s.code)){const r=i.Ta.shift();As(i).B_(),await DA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Dh(i)}}(t,e),OA(t)&&MA(t)}async function iE(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),G(rr,"RemoteStore received new credentials");const i=pr(n);n.Ea.add(3),await jl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xh(n)}async function B4(t,e){const n=Z(t);e?(n.Ea.delete(2),await xh(n)):e||(n.Ea.add(2),await jl(n),n.Va.set("Unknown"))}function La(t){return t.ma||(t.ma=function(n,i,s){const r=Z(n);return r.sa(),new A4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:D4.bind(null,t),Yo:O4.bind(null,t),t_:M4.bind(null,t),J_:V4.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),ug(t)?lg(t):t.Va.set("Unknown")):(await t.ma.stop(),xA(t))})),t.ma}function As(t){return t.fa||(t.fa=function(n,i,s){const r=Z(n);return r.sa(),new w4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:P4.bind(null,t),t_:z4.bind(null,t),ta:j4.bind(null,t),na:U4.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Dh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(rr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new cg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),ka(t))return new $(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{static emptySet(e){return new Wr(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=bo(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wr;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new Pe(Y.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class ya{constructor(e,n,i,s,r,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ya(e,n,Wr.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class H4{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Z(n),r=s.queries;s.queries=rE(),r.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new $(P.ABORTED,"Firestore shutting down"))}}function rE(){return new mr(t=>ZS(t),Ah)}async function F4(t,e){const n=Z(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Sa()&&e.Da()&&(i=2):(r=new q4,i=e.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=hg(a,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&fg(n)}async function G4(t,e){const n=Z(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=e.Da()?0:1:!r.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function $4(t,e){const n=Z(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.ba)l.Fa(s)&&(i=!0);a.wa=s}}i&&fg(n)}function Y4(t,e,n){const i=Z(t),s=i.queries.get(e);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(e)}function fg(t){t.Ca.forEach(e=>{e.next()})}var bm,aE;(aE=bm||(bm={})).Ma="default",aE.Cache="cache";class K4{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.key=e}}class kA{constructor(e){this.key=e}}class Q4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.eu=eA(e),this.tu=new Wr(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new sE,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),_=wh(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let O=!1;g&&_?g.data.isEqual(_.data)?I!==D&&(i.track({type:3,doc:_}),O=!0):this.su(g,_)||(i.track({type:2,doc:_}),O=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(l=!0)):!g&&_?(i.track({type:0,doc:_}),O=!0):g&&!_&&(i.track({type:1,doc:g}),O=!0,(u||c)&&(l=!0)),O&&(_?(a=a.add(_),r=D?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,p)=>function(_,I){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:O})}};return D(_)-D(I)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(i),s=s??!1;const l=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new ya(this.query,e.tu,r,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=le(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new kA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new VA(i))}),n}cu(e){this.Za=e.ks,this.Ya=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const dg="SyncEngine";class X4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class W4{constructor(e){this.key=e,this.hu=!1}}class J4{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mr(l=>ZS(l),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pe(Y.comparator),this.Au=new Map,this.Vu=new ng,this.du={},this.mu=new Map,this.fu=_a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z4(t,e,n=!0){const i=BA(t);let s;const r=i.Tu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await LA(i,e,n,!0),s}async function eV(t,e){const n=BA(t);await LA(n,e,!0,!1)}async function LA(t,e,n,i){const s=await g4(t.localStore,zn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await tV(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&IA(t.remoteStore,s),l}async function tV(t,e,n,i,s){t.pu=(p,g,_)=>async function(D,O,S,E){let A=O.view.ru(S);A.Ss&&(A=await Jv(D.localStore,O.query,!1).then(({documents:T})=>O.view.ru(T,A)));const x=E&&E.targetChanges.get(O.targetId),z=E&&E.targetMismatches.get(O.targetId)!=null,B=O.view.applyChanges(A,D.isPrimaryClient,x,z);return lE(D,O.targetId,B.au),B.snapshot}(t,p,g,_);const r=await Jv(t.localStore,e,!0),a=new Q4(e,r.ks),l=a.ru(r.documents),u=Pl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=a.applyChanges(l,t.isPrimaryClient,u);lE(t,n,c.au);const f=new X4(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function nV(t,e,n){const i=Z(t),s=i.Tu.get(e),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Ah(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Em(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&ag(i.remoteStore,s.targetId),Sm(i,s.targetId)}).catch(Va)):(Sm(i,s.targetId),await Em(i.localStore,s.targetId,!0))}async function iV(t,e){const n=Z(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ag(n.remoteStore,i.targetId))}async function sV(t,e,n){const i=hV(t);try{const s=await function(a,l){const u=Z(a),c=xe.now(),f=l.reduce((_,I)=>_.add(I.key),le());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=wi(),D=le();return u.xs.getEntries(_,f).next(O=>{I=O,I.forEach((S,E)=>{E.isValidDocument()||(D=D.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,I)).next(O=>{p=O;const S=[];for(const E of l){const A=pM(E,p.get(E.key).overlayedDocument);A!=null&&S.push(new Ns(E.key,A,GS(A.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,S,l)}).next(O=>{g=O;const S=O.applyToLocalDocumentSet(p,D);return u.documentOverlayCache.saveOverlays(_,O.batchId,S)})}).then(()=>({batchId:g.batchId,changes:nA(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Pe(oe)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,s.batchId,n),await Ul(i,s.changes),await Dh(i.remoteStore)}catch(s){const r=hg(s,"Failed to persist write");n.reject(r)}}async function PA(t,e){const n=Z(t);try{const i=await d4(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ge(a.hu,14607):s.removedDocuments.size>0&&(ge(a.hu,42227),a.hu=!1))}),await Ul(n,i,e)}catch(i){await Va(i)}}function oE(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const g of p.ba)g.va(l)&&(c=!0)}),c&&fg(u)}(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function rV(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),r=s&&s.key;if(r){let a=new Pe(Y.comparator);a=a.insert(r,wt.newNoDocument(r,J.min()));const l=le().add(r),u=new Ih(J.min(),new Map,new Pe(oe),a,l);await PA(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(e),mg(i)}else await Em(i.localStore,e,!1).then(()=>Sm(i,e,n)).catch(Va)}async function aV(t,e){const n=Z(t),i=e.batch.batchId;try{const s=await f4(n.localStore,e);UA(n,i,null),jA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ul(n,s)}catch(s){await Va(s)}}async function oV(t,e,n){const i=Z(t);try{const s=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ge(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);UA(i,e,n),jA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ul(i,s)}catch(s){await Va(s)}}function jA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function UA(t,e,n){const i=Z(t);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||zA(t,i)})}function zA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ag(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),mg(t))}function lE(t,e,n){for(const i of n)i instanceof VA?(t.Vu.addReference(i.key,e),lV(t,i)):i instanceof kA?(G(dg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||zA(t,i.key)):Q(19791,{wu:i})}function lV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(G(dg,"New document in limbo: "+n),t.Eu.add(i),mg(t))}function mg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Ae.fromString(e)),i=t.fu.next();t.Au.set(i,new W4(n)),t.Ru=t.Ru.insert(n,i),IA(t.remoteStore,new Zi(zn(Xp(n.path)),i,"TargetPurposeLimboResolution",Th.ce))}}async function Ul(t,e,n){const i=Z(t),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=sg.Es(u.targetId,c);r.push(p)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(u,c){const f=Z(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(c,g=>j.forEach(g.Ts,_=>f.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>j.forEach(g.Is,_=>f.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!ka(p))throw p;G(rg,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const _=f.vs.get(g),I=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(I);f.vs=f.vs.insert(g,D)}}}(i.localStore,r))}async function uV(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){G(dg,"User change. New user:",e.toKey());const i=await AA(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(l=>{l.forEach(u=>{u.reject(new $(P.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ul(n,i.Ns)}}function cV(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return le().add(i.key);{let s=le();const r=n.Iu.get(e);if(!r)return s;for(const a of r){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function BA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rV.bind(null,e),e.Pu.J_=$4.bind(null,e.eventManager),e.Pu.yu=Y4.bind(null,e.eventManager),e}function hV(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oV.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h4(this.persistence,new l4,e.initialUser,this.serializer)}Cu(e){return new SA(ig.Vi,this.serializer)}Du(e){return new y4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class fV extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof Uc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new SA(i=>Uc.Vi(i,n),this.serializer)}}class Am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uV.bind(null,this.syncEngine),await B4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H4}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),i=S4(e.databaseInfo);return I4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new x4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>oE(this.syncEngine,n,0),function(){return tE.v()?new tE:new v4}())}createSyncEngine(e,n){return function(s,r,a,l,u,c,f){const p=new J4(s,r,a,l,u,c);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Z(s);G(rr,"RemoteStore shutting down."),r.Ea.add(5),await jl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class mV{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{G(ws,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(G(ws,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=hg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ed(t,e){t.asyncQueue.verifyOperationInProgress(),G(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await AA(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pV(t);G(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>iE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>iE(e.remoteStore,s)),t._onlineComponents=e}async function pV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ws,"Using user provided OfflineComponentProvider");try{await ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===P.FAILED_PRECONDITION||s.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await ed(t,new Bc)}}else G(ws,"Using default OfflineComponentProvider"),await ed(t,new fV(void 0));return t._offlineComponents}async function qA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ws,"Using user provided OnlineComponentProvider"),await uE(t,t._uninitializedComponentsProvider._online)):(G(ws,"Using default OnlineComponentProvider"),await uE(t,new Am))),t._onlineComponents}function gV(t){return qA(t).then(e=>e.syncEngine)}async function cE(t){const e=await qA(t),n=e.eventManager;return n.onListen=Z4.bind(null,e.syncEngine),n.onUnlisten=nV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iV.bind(null,e.syncEngine),n}function _V(t,e,n,i){const s=new dV(i),r=new K4(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>F4(await cE(t),r)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>G4(await cE(t),r))}}function yV(t,e){const n=new Qs;return t.asyncQueue.enqueueAndForget(async()=>sV(await gV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="ComponentProvider",hE=new Map;function EV(t,e,n,i,s){return new jO(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,HA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firestore.googleapis.com",fE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GM)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _O;switch(i.type){case"firstParty":return new TO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hE.get(n);i&&(G(vV,"Removing Datastore"),hE.delete(n),i.terminate())}(this),Promise.resolve()}}function TV(t,e,n,i={}){var c;t=fs(t,Oh);const s=fr(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(jp(`https://${l}`),Up("Firestore",!0)),r.host!==FA&&r.host!==l&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:l,ssl:s,emulatorOptions:i};if(!nr(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=At.MOCK_USER;else{f=ES(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new At(g)}t._authCredentials=new yO(new MS(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Vl(n,tt._jsonSchema))return new tt(e,i||null,new Y(Ae.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),referencePath:et("string")};class ds extends Pa{constructor(e,n,i){super(e,n,Xp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new Y(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function wm(t,e,...n){if(t=nt(t),VS("collection","path",e),t instanceof Oh){const i=Ae.fromString(e,...n);return wv(i),new ds(t,null,i)}{if(!(t instanceof tt||t instanceof ds))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return wv(i),new ds(t.firestore,null,i)}}function Rm(t,e,...n){if(t=nt(t),arguments.length===1&&(e=Fp.newId()),VS("doc","path",e),t instanceof Oh){const i=Ae.fromString(e,...n);return Av(i),new tt(t,null,new Y(i))}{if(!(t instanceof tt||t instanceof ds))throw new $(P.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return Av(i),new tt(t.firestore,t instanceof ds?t.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RA(this,"async_queue_retry"),this._c=()=>{const i=Zf();i&&G(mE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;G(mE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",gE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=cg.createAndSchedule(this,e,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class va extends Oh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new pE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function bV(t,e){const n=typeof t=="object"?t:qp(),i=typeof t=="string"?t:Oc,s=vh(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=_S("firestore");r&&TV(s,...r)}return s}function GA(t){if(t._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SV(t),t._firestoreClient}function SV(t){var i,s,r,a;const e=t._freezeSettings(),n=EV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mn(Et.fromBase64String(e))}catch(n){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mn(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,mn._jsonSchema))return mn.fromBase64String(e.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:et("string",mn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qn._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,qn._jsonSchema))return new qn(e.latitude,e.longitude)}}qn._jsonSchemaVersion="firestore/geoPoint/1.0",qn._jsonSchema={type:et("string",qn._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,Sn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Sn(e.vectorValues);throw new $(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sn._jsonSchemaVersion="firestore/vectorValue/1.0",Sn._jsonSchema={type:et("string",Sn._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=/^__.*__$/;class wV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}class $A{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}class _g{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YA(this.dataSource)&&AV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class RV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nh(e)}createContext(e,n,i,s=!1){return new _g({dataSource:e,methodName:n,targetDoc:i,path:_t.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new RV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CV(t,e,n,i,s,r={}){const a=t.createContext(r.merge||r.mergeFields?2:0,e,n,s);vg("Data must be an object, but it was:",a,i);const l=KA(i,a);let u,c;if(r.merge)u=new Xt(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const p of r.mergeFields){const g=pl(e,p,n);if(!a.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WA(f,g)||f.push(g)}u=new Xt(f),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new wV(new Ut(l),u,c)}class Mh extends gg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function IV(t,e,n,i){const s=t.createContext(1,e,n);vg("Data must be an object, but it was:",s,i);const r=[],a=Ut.empty();Is(i,(u,c)=>{const f=XA(e,u,n);c=nt(c);const p=s.childContextForFieldPath(f);if(c instanceof Mh)r.push(f);else{const g=zl(c,p);g!=null&&(r.push(f),a.set(f,g))}});const l=new Xt(r);return new $A(a,l,s.fieldTransforms)}function NV(t,e,n,i,s,r){const a=t.createContext(1,e,n),l=[pl(e,i,n)],u=[s];if(r.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)l.push(pl(e,r[g])),u.push(r[g+1]);const c=[],f=Ut.empty();for(let g=l.length-1;g>=0;--g)if(!WA(c,l[g])){const _=l[g];let I=u[g];I=nt(I);const D=a.childContextForFieldPath(_);if(I instanceof Mh)c.push(_);else{const O=zl(I,D);O!=null&&(c.push(_),f.set(_,O))}}const p=new Xt(c);return new $A(f,p,a.fieldTransforms)}function xV(t,e,n,i=!1){return zl(n,t.createContext(i?4:3,e))}function zl(t,e){if(QA(t=nt(t)))return vg("Unsupported field value:",e,t),KA(t,e);if(t instanceof gg)return function(i,s){if(!YA(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=zl(l,s.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=xe.fromDate(i);return{timestampValue:jc(s.serializer,r)}}if(i instanceof xe){const r=new xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(s.serializer,r)}}if(i instanceof qn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mn)return{bytesValue:mA(s.serializer,i._byteString)};if(i instanceof tt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:tg(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Sn)return function(a,l){const u=a instanceof Sn?a.toArray():a;return{mapValue:{fields:{[HS]:{stringValue:FS},[Mc]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return Wp(l.serializer,f)})}}}}}}(i,s);if(TA(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Eh(i)}`)}(t,e)}function KA(t,e){const n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(i,s)=>{const r=zl(s,e.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function QA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof qn||t instanceof mn||t instanceof tt||t instanceof gg||t instanceof Sn||TA(t))}function vg(t,e,n){if(!QA(n)||!kS(n)){const i=Eh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function pl(t,e,n){if((e=nt(e))instanceof pg)return e._internalPath;if(typeof e=="string")return XA(t,e);throw qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const DV=new RegExp("[~\\*/\\[\\]]");function XA(t,e,n){if(e.search(DV)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new $(P.INVALID_ARGUMENT,l+t+u)}function WA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Is(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var i,s,r;const n=(r=(s=(i=e.fields)==null?void 0:i[Mc].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>He(a.doubleValue));return new Sn(n)}convertGeoPoint(e){return new qn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Sh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ae.fromString(e);ge(EA(i),9688,{name:e});const s=new hl(i.get(1),i.get(3)),r=new Y(i.popFirst(5));return s.isEqual(n)||Ai(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends OV{constructor(e){super(),this.firestore=e}convertBytes(e){return new mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}const _E="@firebase/firestore",yE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(pl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MV extends ZA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class kV extends Eg{}function LV(t,e,...n){let i=[];e instanceof Eg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof bg).length,l=r.filter(u=>u instanceof Tg).length;if(a>1||a>0&&l>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Tg extends kV{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Tg(e,n,i)}_apply(e){const n=this._parse(e);return e1(e._query,n),new Pa(e.firestore,e.converter,mm(e._query,n))}_parse(e){const n=yg(e.firestore);return function(r,a,l,u,c,f,p){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){TE(p,f);const I=[];for(const D of p)I.push(EE(u,r,D));g={arrayValue:{values:I}}}else g=EE(u,r,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||TE(p,f),g=xV(l,a,p,f==="in"||f==="not-in");return Je.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)e1(a,u),a=mm(a,u)}(e._query,n),new Pa(e.firestore,e.converter,mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EE(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&n.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ae.fromString(n));if(!Y.isDocumentKey(i))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mv(t,new Y(i))}if(n instanceof tt)return Mv(t,n._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(n)}.`)}function TE(t,e){if(!Array.isArray(t)||t.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends ZA{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(pl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:et("string",Xs._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Ku extends Xs{data(e={}){return super.data(e)}}class Jr{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ao(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ku(this._firestore,this._userDataWriter,i.key,i,new Ao(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Ku(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ao(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:jV(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:et("string",Jr._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};function UV(t,e,n,...i){t=fs(t,tt);const s=fs(t.firestore,va),r=yg(s);let a;return a=typeof(e=nt(e))=="string"||e instanceof pg?NV(r,"updateDoc",t._key,e,n,i):IV(r,"updateDoc",t._key,e),Sg(s,[a.toMutation(t._key,bn.exists(!0))])}function zV(t){return Sg(fs(t.firestore,va),[new Jp(t._key,bn.none())])}function t1(t,e){const n=fs(t.firestore,va),i=Rm(t),s=PV(t.converter,e),r=yg(t.firestore);return Sg(n,[CV(r,"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,bn.exists(!1))]).then(()=>i)}function BV(t,...e){var c,f,p;t=nt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||vE(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vE(e[i])){const g=e[i];e[i]=(c=g.next)==null?void 0:c.bind(g),e[i+1]=(f=g.error)==null?void 0:f.bind(g),e[i+2]=(p=g.complete)==null?void 0:p.bind(g)}let r,a,l;if(t instanceof tt)a=fs(t.firestore,va),l=Xp(t._key.path),r={next:g=>{e[i]&&e[i](qV(a,t,g))},error:e[i+1],complete:e[i+2]};else{const g=fs(t,Pa);a=fs(g.firestore,va),l=g._query;const _=new JA(a);r={next:I=>{e[i]&&e[i](new Jr(a,_,g,I))},error:e[i+1],complete:e[i+2]},VV(t._query)}const u=GA(a);return _V(u,l,s,r)}function Sg(t,e){const n=GA(t);return yV(n,e)}function qV(t,e,n){const i=n.docs.get(e._key),s=new JA(t);return new Xs(t,s,e._key,i,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){gO(dr),ir(new vs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new va(new vO(i.getProvider("auth-internal")),new bO(a,i.getProvider("app-check-internal")),UO(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Un(_E,yE,e),Un(_E,yE,"esm2020")})();var HV="firebase",FV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(HV,FV,"app");function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GV=n1,i1=new Ol("auth","Firebase",n1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new zp("@firebase/auth");function $V(t,...e){Hc.logLevel<=ae.WARN&&Hc.warn(`Auth (${dr}): ${t}`,...e)}function Qu(t,...e){Hc.logLevel<=ae.ERROR&&Hc.error(`Auth (${dr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Ag(t,...e)}function Hn(t,...e){return Ag(t,...e)}function s1(t,e,n){const i={...GV(),[e]:n};return new Ol("auth","Firebase",i).create(e,{appName:t.name})}function ms(t){return s1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return i1.create(t,...e)}function K(t,e,...n){if(!t)throw Ag(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qu(e),new Error(e)}function Ri(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function YV(){return bE()==="http:"||bE()==="https:"}function bE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YV()||Qx()||"connection"in navigator)?navigator.onLine:!0}function QV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=$x()||Xx()}get(){return KV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JV=new Bl(3e4,6e4);function gr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xs(t,e,n,i,s={}){return a1(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=Ml({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...r};return Kx()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fr(t.emulatorConfig.host)&&(c.credentials="include"),r1.fetch()(await o1(t,t.config.apiHost,n,l),c)})}async function a1(t,e,n){t._canInitEmulator=!1;const i={...XV,...e};try{const s=new e3(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Au(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Au(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw s1(t,f,c);Rn(t,f)}}catch(s){if(s instanceof Xn)throw s;Rn(t,"network-request-failed",{message:String(s)})}}async function Vh(t,e,n,i,s={}){const r=await xs(t,e,n,i,s);return"mfaPendingCredential"in r&&Rn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function o1(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?wg(t.config,s):`${t.config.apiScheme}://${s}`;return WV.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function ZV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),JV.get())})}}function Au(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Hn(t,e,i);return s.customData._tokenResponse=n,s}function SE(t){return t!==void 0&&t.enterprise!==void 0}class t3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n3(t,e){return xs(t,"GET","/v2/recaptchaConfig",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function Fc(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s3(t,e=!1){const n=nt(t),i=await n.getIdToken(e),s=Rg(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Go(td(s.auth_time)),issuedAtTime:Go(td(s.iat)),expirationTime:Go(td(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function td(t){return Number(t)*1e3}function Rg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const s=pS(n);return s?JSON.parse(s):(Qu("Failed to decode base64 JWT payload"),null)}catch(s){return Qu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AE(t){const e=Rg(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Xn&&r3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function r3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t){var p;const e=t.auth,n=await t.getIdToken(),i=await gl(t,Fc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const r=(p=s.providerUserInfo)!=null&&p.length?l1(s.providerUserInfo):[],a=l3(t.providerData,r),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function o3(t){const e=nt(t);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l3(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function l1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e){const n=await a1(t,{},async()=>{const i=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await o1(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&fr(t.emulatorConfig.host)&&(u.credentials="include"),r1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c3(t,e){return xs(t,"POST","/v2/accounts:revokeToken",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await u3(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Zr;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new a3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Im(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s3(this,e)}reload(){return o3(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await gl(this,i3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:_,providerData:I,stsTokenManager:D}=n;K(p&&D,e,"internal-error");const O=Zr.fromJSON(this.name,D);K(typeof p=="string",e,"internal-error"),Li(i,e.name),Li(s,e.name),K(typeof g=="boolean",e,"internal-error"),K(typeof _=="boolean",e,"internal-error"),Li(r,e.name),Li(a,e.name),Li(l,e.name),Li(u,e.name),Li(c,e.name),Li(f,e.name);const S=new En({uid:p,auth:e,email:s,emailVerified:g,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:O,createdAt:c,lastLoginAt:f});return I&&Array.isArray(I)&&(S.providerData=I.map(E=>({...E}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,n,i=!1){const s=new Zr;s.updateFromServerResponse(n);const r=new En({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Gc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?l1(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Zr;l.updateFromIdToken(i);const u=new En({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Im(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function fi(t){Ri(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u1.type="NONE";const RE=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Xu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Xu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fc(this.auth,{idToken:e}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ea(fi(RE),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||fi(RE);const a=Xu(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let p;if(typeof f=="string"){const g=await Fc(e,{idToken:f}).catch(()=>{});if(!g)break;p=await En._fromGetAccountInfoResponse(e,g,f)}else p=En._fromJSON(e,f);c!==r&&(l=p),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new ea(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new ea(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(g1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function c1(t=Rt()){return/firefox\//i.test(t)}function h1(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(t=Rt()){return/crios\//i.test(t)}function d1(t=Rt()){return/iemobile/i.test(t)}function m1(t=Rt()){return/android/i.test(t)}function p1(t=Rt()){return/blackberry/i.test(t)}function g1(t=Rt()){return/webos/i.test(t)}function Cg(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h3(t=Rt()){var e;return Cg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function f3(){return Wx()&&document.documentMode===10}function _1(t=Rt()){return Cg(t)||m1(t)||g1(t)||p1(t)||/windows phone/i.test(t)||d1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e=[]){let n;switch(t){case"Browser":n=CE(Rt());break;case"Worker":n=`${CE(Rt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return xs(t,"GET","/v2/passwordPolicy",gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=6;class g3{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new d3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fc(this,{idToken:e}),i=await En._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(dn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(ms(this));const n=e?nt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m3(this),n=new g3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await c3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$V(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ja(t){return nt(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rD(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y3(t){kh=t}function v1(t){return kh.loadJS(t)}function v3(){return kh.recaptchaEnterpriseScript}function E3(){return kh.gapiScript}function T3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b3{constructor(){this.enterprise=new S3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class S3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A3="recaptcha-enterprise",E1="NO_RECAPTCHA";class w3{constructor(e){this.type=A3,this.auth=ja(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{n3(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new t3(u);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function s(r,a,l){const u=window.grecaptcha;SE(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(c=>{a(c)}).catch(()=>{a(E1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b3().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&SE(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=v3();u.length!==0&&(u+=l),v1(u).then(()=>{s(l,r,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function NE(t,e,n,i=!1,s=!1){const r=new w3(t);let a;if(s)a=E1;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function xE(t,e,n,i,s){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await NE(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await NE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){const n=vh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(nr(r,e??{}))return s;Rn(s,"already-initialized")}return n.initialize({options:e})}function C3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function I3(t,e,n){const i=ja(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=T1(e),{host:a,port:l}=N3(e),u=l===null?"":`:${l}`,c={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(nr(c,i.config.emulator)&&nr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,fr(a)?(jp(`${r}//${a}${u}`),Up("Auth",!0)):x3()}function T1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N3(t){const e=T1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:DE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:DE(a)}}}function DE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function D3(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Vh(t,"POST","/v1/accounts:signInWithPassword",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){return Vh(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}async function V3(t,e){return Vh(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Ig{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new _l(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,n,"signInWithPassword",O3);case"emailLink":return M3(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,i,"signUpPassword",D3);case"emailLink":return V3(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return Vh(t,"POST","/v1/accounts:signInWithIdp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="http://localhost";class ar extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new ar(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ta(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:k3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P3(t){const e=vo(Eo(t)).link,n=e?vo(Eo(e)).deep_link_id:null,i=vo(Eo(t)).deep_link_id;return(i?vo(Eo(i)).link:null)||i||n||e||t}class Ng{constructor(e){const n=vo(Eo(e)),i=n.apiKey??null,s=n.oobCode??null,r=L3(n.mode??null);K(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=P3(e);try{return new Ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ng.parseLink(n);return K(i,"argument-error"),_l._fromEmailAndCode(e,i.code,i.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends b1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ql{constructor(){super("facebook.com")}static credential(e){return ar._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ar._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ql{constructor(){super("github.com")}static credential(e){return ar._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ql{constructor(){super("twitter.com")}static credential(e,n){return ar._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Yi.credential(n,i)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await En._fromIdTokenResponse(e,i,s),a=OE(i);return new Ea({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=OE(i);return new Ea({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function OE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Xn{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new $c(e,n,i,s)}}function S1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(t,r,e,i):r})}async function j3(t,e,n=!1){const i=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e,n=!1){const{auth:i}=t;if(dn(i.app))return Promise.reject(ms(i));const s="reauthenticate";try{const r=await gl(t,S1(i,s,e,t),n);K(r.idToken,i,"internal-error");const a=Rg(r.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),Ea._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Rn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t,e,n=!1){if(dn(t.app))return Promise.reject(ms(t));const i="signIn",s=await S1(t,i,e),r=await Ea._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function z3(t,e){return A1(ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t){const e=ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function q3(t,e,n){return dn(t.app)?Promise.reject(ms(t)):z3(nt(t),Ua.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&B3(t),i})}function H3(t,e,n,i){return nt(t).onIdTokenChanged(e,n,i)}function F3(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function G3(t,e,n,i){return nt(t).onAuthStateChanged(e,n,i)}function $3(t){return nt(t).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=1e3,K3=10;class R1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);f3()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K3):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const Q3=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const I1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Lh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async c=>c(n.origin,r)),u=await X3(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const c=xg("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function J3(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function Z3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ek(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tk(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",nk=1,Kc="firebaseLocalStorage",D1="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function ik(){const t=indexedDB.deleteDatabase(x1);return new Hl(t).toPromise()}function Nm(){const t=indexedDB.open(x1,nk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Kc,{keyPath:D1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Kc)?e(i):(i.close(),await ik(),e(await Nm()))})})}async function ME(t,e,n){const i=Ph(t,!0).put({[D1]:e,value:n});return new Hl(i).toPromise()}async function sk(t,e){const n=Ph(t,!1).get(e),i=await new Hl(n).toPromise();return i===void 0?null:i.value}function VE(t,e){const n=Ph(t,!0).delete(e);return new Hl(n).toPromise()}const rk=800,ak=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ak)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(tk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Z3(),!this.activeServiceWorker)return;this.sender=new W3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await ME(e,Yc,"1"),await VE(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ME(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>sk(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Ph(s,!1).getAll();return new Hl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const ok=O1;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){return e?fi(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uk(t){return A1(t.auth,new Dg(t),t.bypassAuthState)}function ck(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),U3(n,new Dg(t),t.bypassAuthState)}async function hk(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),j3(n,new Dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uk;case"linkViaPopup":case"linkViaRedirect":return hk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:Rn(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Bl(2e3,1e4);class qr extends M1{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fk.get())};e()}}qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="pendingRedirect",Wu=new Map;class mk extends M1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const i=await pk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pk(t,e){const n=yk(e),i=_k(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function gk(t,e){Wu.set(t._key(),e)}function _k(t){return fi(t._redirectPersistence)}function yk(t){return Xu(dk,t.config.apiKey,t.name)}async function vk(t,e,n=!1){if(dn(t.app))return Promise.reject(ms(t));const i=ja(t),s=lk(i,e),a=await new mk(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=10*60*1e3;class Tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!V1(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ek&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wk=/^https?/;async function Rk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sk(t);for(const n of e)try{if(Ck(n))return}catch{}Rn(t,"unauthorized-domain")}function Ck(t){const e=Cm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!wk.test(n))return!1;if(Ak.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Bl(3e4,6e4);function LE(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nk(t){return new Promise((e,n)=>{var s,r,a;function i(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),n(Hn(t,"network-request-failed"))},timeout:Ik.get()})}if((r=(s=Fn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=Fn().gapi)!=null&&a.load)i();else{const l=T3("iframefcb");return Fn()[l]=()=>{gapi.load?i():n(Hn(t,"network-request-failed"))},v1(`${E3()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function xk(t){return Ju=Ju||Nk(t),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new Bl(5e3,15e3),Ok="__/auth/iframe",Mk="emulator/auth/iframe",Vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lk(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wg(e,Mk):`https://${t.config.authDomain}/${Ok}`,i={apiKey:e.apiKey,appName:t.name,v:dr},s=kk.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ml(i).slice(1)}`}async function Pk(t){const e=await xk(t),n=Fn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:Lk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vk,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),l=Fn().setTimeout(()=>{r(a)},Dk.get());function u(){Fn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uk=500,zk=600,Bk="_blank",qk="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hk(t,e,n,i=Uk,s=zk){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...jk,width:i.toString(),height:s.toString(),top:r,left:a},c=Rt().toLowerCase();n&&(l=f1(c)?Bk:n),c1(c)&&(e=e||qk,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[_,I])=>`${g}${_}=${I},`,"");if(h3(c)&&l!=="_self")return Fk(e||"",l),new PE(null);const p=window.open(e||"",l,f);K(p,t,"popup-blocked");try{p.focus()}catch{}return new PE(p)}function Fk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="__/auth/handler",$k="emulator/auth/handler",Yk=encodeURIComponent("fac");async function jE(t,e,n,i,s,r){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:dr,eventId:s};if(e instanceof b1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",sD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof ql){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${Yk}=${encodeURIComponent(u)}`:"";return`${Kk(t)}?${Ml(l).slice(1)}${c}`}function Kk({config:t}){return t.emulator?wg(t,$k):`https://${t.authDomain}/${Gk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="webStorageSupport";class Qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=vk,this._overrideRedirectResult=gk}async _openPopup(e,n,i,s){var a;Ri((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await jE(e,n,i,Cm(),s);return Hk(e,r,xg())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await jE(e,n,i,Cm(),s);return J3(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Pk(e),i=new Tk(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nd,{type:nd},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[nd];r!==void 0&&n(!!r),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _1()||h1()||Cg()}}const Xk=Qk;var UE="@firebase/auth",zE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(t){ir(new vs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(t)},c=new _3(i,s,r,u);return C3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ir(new vs("auth-internal",e=>{const n=ja(e.getProvider("auth").getImmediate());return(i=>new Wk(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(UE,zE,Jk(t)),Un(UE,zE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=5*60,tL=vS("authIdTokenMaxAge")||eL;let BE=null;const nL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tL)return;const s=n==null?void 0:n.token;BE!==s&&(BE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iL(t=qp()){const e=vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R3(t,{popupRedirectResolver:Xk,persistence:[ok,Q3,I1]}),i=vS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=nL(r.toString());F3(n,a,()=>a(n.currentUser)),H3(n,l=>a(l))}}const s=gS("auth");return s&&I3(n,`http://${s}`),n}function sL(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}y3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Hn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",sL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebasestorage.googleapis.com",rL="storageBucket",aL=2*60*1e3,oL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Xn{constructor(e,n,i=0){super(id(e),`Firebase Storage: ${n} (${id(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return id(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $n;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function id(t){return"storage/"+t}function lL(){const t="An unknown error occurred, please check the error payload for server response.";return new Wn($n.UNKNOWN,t)}function uL(){return new Wn($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cL(){return new Wn($n.CANCELED,"User canceled the upload/download.")}function hL(t){return new Wn($n.INVALID_URL,"Invalid URL '"+t+"'.")}function fL(t){return new Wn($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qE(t){return new Wn($n.INVALID_ARGUMENT,t)}function L1(){return new Wn($n.APP_DELETED,"The Firebase app was deleted.")}function dL(t){return new Wn($n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Tn.makeFromUrl(e,n)}catch{return new Tn(e,"")}if(i.path==="")return i;throw fL(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${f}/b/${s}/o${g}`,"i"),I={bucket:1,path:3},D=n===k1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",S=new RegExp(`^https?://${D}/${s}/${O}`,"i"),A=[{regex:l,indices:u,postModify:r},{regex:_,indices:I,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<A.length;x++){const z=A[x],B=z.regex.exec(e);if(B){const T=B[z.indices.bucket];let v=B[z.indices.path];v||(v=""),i=new Tn(T,v),z.postModify(i);break}}if(i==null)throw hL(e);return i}}class mL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e,n){let i=1,s=null,r=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...O){c||(c=!0,e.apply(null,O))}function p(O){s=setTimeout(()=>{s=null,t(_,u())},O)}function g(){r&&clearTimeout(r)}function _(O,...S){if(c){g();return}if(O){g(),f.call(null,O,...S);return}if(u()||a){g(),f.call(null,O,...S);return}i<64&&(i*=2);let A;l===1?(l=2,A=0):A=(i+Math.random())*1e3,p(A)}let I=!1;function D(O){I||(I=!0,g(),!c&&(s!==null?(O||(l=2),clearTimeout(s),p(0)):O||(l=1)))}return p(0),r=setTimeout(()=>{a=!0,D(!0)},n),D}function gL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){return t!==void 0}function HE(t,e,n,i){if(i<e)throw qE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw qE(`Invalid value for '${t}'. Expected ${n} or less.`)}function yL(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Qc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qc||(Qc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,i,s,r,a,l,u,c,f,p,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new wu(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===Qc.NO_ERROR,u=r.getStatus();if(!l||vL(u,this.additionalRetryCodes_)&&this.retry){const f=r.getErrorCode()===Qc.ABORT;i(!1,new wu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new wu(c,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());_L(u)?r(u):r()}catch(u){a(u)}else if(l!==null){const u=lL();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(s.canceled){const u=this.appDelete_?L1():cL();a(u)}else{const u=uL();a(u)}};this.canceled_?n(!1,new wu(!1,null,!0)):this.backoffId_=pL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function TL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wL(t,e,n,i,s,r,a=!0,l=!1){const u=yL(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return SL(f,e),TL(f,n),bL(f,r),AL(f,i),new EL(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this._service=e,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xc(e,n)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CL(this._location.path)}get storage(){return this._service}get parent(){const e=RL(this._location.path);if(e===null)return null;const n=new Tn(this._location.bucket,e);return new Xc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dL(e)}}function FE(t,e){const n=e==null?void 0:e[rL];return n==null?null:Tn.makeFromBucketSpec(n,t)}function IL(t,e,n,i={}){t.host=`${e}:${n}`;const s=fr(e);s&&(jp(`https://${t.host}/b`),Up("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:ES(r,t.app.options.projectId))}class NL{constructor(e,n,i,s,r,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=a,this._bucket=null,this._host=k1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aL,this._maxUploadRetryTime=oL,this._requests=new Set,s!=null?this._bucket=Tn.makeFromBucketSpec(s,this._host):this._bucket=FE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=FE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xc(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new mL(L1());{const a=wL(e,this._appId,i,s,n,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const GE="@firebase/storage",$E="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="storage";function xL(t=qp(),e){t=nt(t);const i=vh(t,P1).getImmediate({identifier:e}),s=_S("storage");return s&&DL(i,...s),i}function DL(t,e,n,i={}){IL(t,e,n,i)}function OL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new NL(n,i,s,e,dr)}function ML(){ir(new vs(P1,OL,"PUBLIC").setMultipleInstances(!0)),Un(GE,$E,""),Un(GE,$E,"esm2020")}ML();const VL={apiKey:"AIzaSyCKLXNE3JFIfSULFUCFwz0G3XeUb4BNnkg",authDomain:"layer1studio-750f4.firebaseapp.com",projectId:"layer1studio-750f4",storageBucket:"layer1studio-750f4.firebasestorage.app",messagingSenderId:"540706846466",appId:"1:540706846466:web:7080fcb3c6533dd081f41b",measurementId:"G-8YCTMN2X95"},Og=SS(VL),wo=bV(Og),Mg=iL(Og);xL(Og);const $o=t=>{const[e,n]=V.useState([]),[i,s]=V.useState(!0),[r,a]=V.useState(null);return V.useEffect(()=>{const f=LV(wm(wo,t)),p=BV(f,g=>{const _=[];g.forEach(I=>{_.push({id:I.id,...I.data()})}),n(_),s(!1)},g=>{console.error("Error fetching content:",g),a("Firebase not configured or permission denied. Using local state."),s(!1)});return()=>p()},[t]),{data:e,loading:i,error:r,addItem:async f=>{try{await t1(wm(wo,t),f)}catch(p){console.error("Error adding item:",p)}},deleteItem:async f=>{try{await zV(Rm(wo,t,f))}catch(p){console.error("Error deleting item:",p)}},updateItem:async(f,p)=>{try{await UV(Rm(wo,t,f),p)}catch(g){console.error("Error updating item:",g)}}}},kL="_portfolioPage_ex3vh_1",LL="_header_ex3vh_6",PL="_badge_ex3vh_10",jL="_title_ex3vh_24",UL="_italic_ex3vh_31",zL="_subtitle_ex3vh_37",BL="_filterGroup_ex3vh_44",qL="_filterBtn_ex3vh_51",HL="_activeFilter_ex3vh_67",FL="_grid_ex3vh_73",GL="_card_ex3vh_79",$L="_imageWrapper_ex3vh_95",YL="_image_ex3vh_95",KL="_overlay_ex3vh_109",QL="_viewBtn_ex3vh_129",XL="_cardContent_ex3vh_147",WL="_cardTitle_ex3vh_154",JL="_cardText_ex3vh_159",ZL="_tagGroup_ex3vh_165",eP="_tag_ex3vh_165",Ye={portfolioPage:kL,header:LL,badge:PL,title:jL,italic:UL,subtitle:zL,filterGroup:BL,filterBtn:qL,activeFilter:HL,grid:FL,card:GL,imageWrapper:$L,image:YL,overlay:KL,viewBtn:QL,cardContent:XL,cardTitle:WL,cardText:JL,tagGroup:ZL,tag:eP},tP=()=>{const[t,e]=V.useState("All"),n=["All","Enterprise Web","Mobile Apps","Fintech","Cloud Infra"],{data:i}=$o("projects"),s=[{title:"Marketing Agency Website",category:"Enterprise Web",text:"Premium landing page and lead generation system for a cutting-edge creative agency.",tags:["React","Framer Motion"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCY5_DOj58Gd86kyFqTh-UMlYh-Ucb65wd-sD-b96Inv833_ls5oCdaUJMbAxpqb60X8Px2eJXNKFr7i6BsyCXfWb5A3IWK9wWz7wYU0BWFTaP_fjSV9cnfcCM3nlxsqoJtpPGz8JP5UCnjJH5sGy_nYFeiO87DUpizoshaQ7T8TStniKD-jRQvU0XFSB5kyYUfzn_vflPT72nupuVZLVceUlAQtAzcVfTFlYT4DOpY97kbBO4dooSt0ln5qlY8dNQ3Vlvf4b3zdmeI"},{title:"E-commerce Website",category:"Fintech",text:"Modern shopping experience with integrated payment gateways and real-time inventory.",tags:["Next.js","Stripe"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCgbZxfNBLuDsa2QV28yTaF9_B3Ya2cUh6RbaCJyuolqZhgP2bI28S8SnmxLbea9fJcpdkW57gTSrGcfaziwyLuYUIOeFfY4thy9nV6dOkhWjI9IzXqjtO6lw9Y8HMrvYAc9MoFgOlOwI5v0UKORF6p8m40k7rdG4d_88AsWNWvdZEScmM_1J5QoD7nqOMd4CB4qzgsc4mrtjm-y6N4i6mCEbnmTVpheZ-FDvNGQ67LZX6LypqPAVqjRyVi6b9rVIN8PgAxLD29QHiG"},{title:"Admin Panel & Dashboard",category:"Enterprise Web",text:"Powerful internal tool for managing complex business operations and data analytics.",tags:["React","Node.js"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCflepDypeli6J7rrskPHYWCaPnyVhzc-slMHXqrt2QM5mTB9V21AV9E7KaTTZHPncHYXIhtu5vBIDGuqSXIjEWFmig6hUUGli9TVVwpF8WQpHWBDer-OxWWsAEKdympaombGF_Q3HgencfCxqccCNgDmBEXS7GcpIXLDA4a-dseIJ8rGPgYYevXJQjxs-wADJ3lv8f5i7z0Aj4baEiCqdW7RDUcAV3MMybsKXnhY33ilp4ciLeD6Uequ_8XuNZLxYYiwrWOy3UxzXS"}],r=i.length>0?i:s,a=t==="All"?r:r.filter(l=>l.category===t);return d.jsxs("div",{className:Ye.portfolioPage,children:[d.jsx("header",{className:Ye.header,children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:Ye.badge,children:"The Gallery"}),d.jsxs("h1",{className:Ye.title,children:["Digital foundations, ",d.jsx("span",{className:Ye.italic,children:"built to last"}),"."]}),d.jsx("p",{className:Ye.subtitle,children:"We don't believe in vanity metrics. We believe in tools that work, systems that scale, and code that remains elegant under pressure."})]})}),d.jsxs("div",{className:"container",children:[d.jsx("div",{className:Ye.filterGroup,children:n.map(l=>d.jsx("button",{className:`${Ye.filterBtn} ${t===l?Ye.activeFilter:""}`,onClick:()=>e(l),children:l},l))}),d.jsx("div",{className:Ye.grid,children:a.map((l,u)=>d.jsxs("div",{className:Ye.card,children:[d.jsxs("div",{className:Ye.imageWrapper,children:[d.jsx("img",{src:l.image,alt:l.title,className:Ye.image}),d.jsx("div",{className:Ye.overlay,children:d.jsxs("button",{className:Ye.viewBtn,children:["View Case Study",d.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]}),d.jsxs("div",{className:Ye.cardContent,children:[d.jsx("h3",{className:Ye.cardTitle,children:l.title}),d.jsx("p",{className:Ye.cardText,children:l.text}),d.jsx("div",{className:Ye.tagGroup,children:l.tags.map(c=>d.jsx("span",{className:Ye.tag,children:c},c))})]})]},u))})]})]})},nP="_contactPage_3d8mg_1",iP="_grid_3d8mg_6",sP="_badge_3d8mg_12",rP="_title_3d8mg_26",aP="_description_3d8mg_38",oP="_studios_3d8mg_45",lP="_studioName_3d8mg_52",uP="_contactLinks_3d8mg_72",cP="_contactItem_3d8mg_80",hP="_iconBox_3d8mg_86",fP="_contactLabel_3d8mg_98",dP="_contactValue_3d8mg_107",mP="_formCard_3d8mg_113",pP="_form_3d8mg_113",gP="_row_3d8mg_127",_P="_field_3d8mg_133",yP="_submitBtn_3d8mg_168",vP="_privacyNote_3d8mg_186",de={contactPage:nP,grid:iP,badge:sP,title:rP,description:aP,studios:oP,studioName:lP,contactLinks:uP,contactItem:cP,iconBox:hP,contactLabel:fP,contactValue:dP,formCard:mP,form:pP,row:gP,field:_P,submitBtn:yP,privacyNote:vP},EP=()=>d.jsx("div",{className:de.contactPage,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:de.grid,children:[d.jsxs("div",{className:de.infoColumn,children:[d.jsx("span",{className:de.badge,children:"Let's Talk"}),d.jsxs("h1",{className:de.title,children:["Shall we ",d.jsx("br",{}),d.jsx("span",{children:"start?"})]}),d.jsx("p",{className:de.description,children:"Drop us a line. We're based in London and Colombo, but we work with partners all over the world. Whether it's a quick question or a massive project, we'd love to hear from you."}),d.jsxs("div",{className:de.studios,children:[d.jsx("div",{className:de.studioItem,children:d.jsxs("h4",{className:de.studioName,children:[d.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"London, UK"]})}),d.jsx("div",{className:de.studioItem,children:d.jsxs("h4",{className:de.studioName,children:[d.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"Colombo, Sri Lanka"]})})]}),d.jsxs("div",{className:de.contactLinks,children:[d.jsxs("div",{className:de.contactItem,children:[d.jsx("div",{className:de.iconBox,children:d.jsx("span",{className:"material-symbols-outlined",children:"mail"})}),d.jsxs("div",{children:[d.jsx("p",{className:de.contactLabel,children:"Email Inquiry"}),d.jsx("a",{href:"mailto:studio.layer1@gmail.com",className:de.contactValue,children:"studio.layer1@gmail.com"})]})]}),d.jsxs("div",{className:de.contactItem,children:[d.jsx("div",{className:de.iconBox,children:d.jsx("span",{className:"material-symbols-outlined",children:"call"})}),d.jsxs("div",{children:[d.jsx("p",{className:de.contactLabel,children:"Phone Support"}),d.jsx("p",{className:de.contactValue,children:"+44 (0) 20 1234 5678"})]})]})]})]}),d.jsx("div",{className:de.formColumn,children:d.jsx("div",{className:de.formCard,children:d.jsxs("form",{className:de.form,children:[d.jsxs("div",{className:de.row,children:[d.jsxs("div",{className:de.field,children:[d.jsx("label",{children:"First Name"}),d.jsx("input",{type:"text",placeholder:"E.g. Alexander"})]}),d.jsxs("div",{className:de.field,children:[d.jsx("label",{children:"Last Name"}),d.jsx("input",{type:"text",placeholder:"E.g. Wright"})]})]}),d.jsxs("div",{className:de.field,children:[d.jsx("label",{children:"Email"}),d.jsx("input",{type:"email",placeholder:"alex@studio.com"})]}),d.jsxs("div",{className:de.field,children:[d.jsx("label",{children:"How can we help?"}),d.jsxs("select",{children:[d.jsx("option",{children:"Product Development"}),d.jsx("option",{children:"Cloud Infrastructure"}),d.jsx("option",{children:"Mobile Application"}),d.jsx("option",{children:"Technical Audit"})]})]}),d.jsxs("div",{className:de.field,children:[d.jsx("label",{children:"What's on your mind?"}),d.jsx("textarea",{rows:"5",placeholder:"Tell us about what you're building..."})]}),d.jsx("button",{type:"submit",className:de.submitBtn,children:"Send message"}),d.jsxs("p",{className:de.privacyNote,children:[d.jsx("span",{className:"material-symbols-outlined",children:"verified_user"}),"Your information is safe with us. We're engineerswe take security seriously."]})]})})})]})})}),TP="_careersPage_jsyj2_1",bP="_hero_jsyj2_5",SP="_badge_jsyj2_9",AP="_title_jsyj2_23",wP="_subtitle_jsyj2_35",RP="_values_jsyj2_42",CP="_grid_jsyj2_49",IP="_valueCard_jsyj2_55",NP="_openRoles_jsyj2_70",xP="_sectionTitle_jsyj2_74",DP="_jobList_jsyj2_79",OP="_jobCard_jsyj2_84",MP="_expanded_jsyj2_98",VP="_jobMain_jsyj2_104",kP="_jobTitleRow_jsyj2_110",LP="_expandIcon_jsyj2_121",PP="_jobDetails_jsyj2_130",jP="_description_jsyj2_149",UP="_hotTag_jsyj2_157",zP="_jobMeta_jsyj2_168",BP="_applyBtn_jsyj2_174",Ve={careersPage:TP,hero:bP,badge:SP,title:AP,subtitle:wP,values:RP,grid:CP,valueCard:IP,openRoles:NP,sectionTitle:xP,jobList:DP,jobCard:OP,expanded:MP,jobMain:VP,jobTitleRow:kP,expandIcon:LP,jobDetails:PP,description:jP,hotTag:UP,jobMeta:zP,applyBtn:BP},qP=()=>{const{data:t,loading:e}=$o("careers"),n=Oa(),[i,s]=V.useState(null),r=[{title:"Senior Full-stack Developer",location:"Remote",salary:"$140k - $180k",type:"Full-time",hot:!0,description:"We're looking for someone who can handle everything from server architecture to CSS animations. You'll be the backbone of our product team."},{title:"Senior UI/UX Designer",location:"Hybrid / London",salary:"$110k - $150k",type:"Full-time",hot:!1,description:"Design isn't just about looks. We need a thinker who understands how users move through complex systems and can make that movement feel effortless."}],a=t.length>0?t:e?[]:r;return d.jsxs("div",{className:Ve.careersPage,children:[d.jsx("header",{className:Ve.hero,children:d.jsxs("div",{className:"container",children:[d.jsx("span",{className:Ve.badge,children:"Join our mission"}),d.jsxs("h1",{className:Ve.title,children:["Help us build the ",d.jsx("br",{}),d.jsx("span",{children:"digital foundations."})]}),d.jsx("p",{className:Ve.subtitle,children:"We are a collective of product thinkers and engineers crafting software that stands the test of time. Join a studio where quality isn't a goalit's the baseline."})]})}),d.jsx("section",{className:Ve.values,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:Ve.grid,children:[d.jsxs("div",{className:Ve.valueCard,children:[d.jsx("span",{className:"material-symbols-outlined",children:"terminal"}),d.jsx("h3",{children:"Engineering Focus"}),d.jsx("p",{children:"We prioritize clean architecture and deep technical expertise. No shortcuts, just solid engineering."})]}),d.jsxs("div",{className:Ve.valueCard,children:[d.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),d.jsx("h3",{children:"Design-Led Craft"}),d.jsx("p",{children:"Every pixel matters. We believe that beautiful software is more than skin deepit's about the experience."})]}),d.jsxs("div",{className:Ve.valueCard,children:[d.jsx("span",{className:"material-symbols-outlined",children:"favorite"}),d.jsx("h3",{children:"People First"}),d.jsx("p",{children:"Flexible work, meaningful ownership, and a supportive environment that values your growth."})]})]})})}),d.jsx("section",{className:Ve.openRoles,children:d.jsxs("div",{className:"container",children:[d.jsx("h2",{className:Ve.sectionTitle,children:"Open Opportunities"}),d.jsx("div",{className:Ve.jobList,children:a.map((l,u)=>d.jsxs("div",{className:`${Ve.jobCard} ${i===u?Ve.expanded:""}`,onClick:()=>s(i===u?null:u),children:[d.jsxs("div",{className:Ve.jobMain,children:[d.jsxs("div",{className:Ve.jobInfo,children:[d.jsxs("div",{className:Ve.jobTitleRow,children:[d.jsx("h3",{children:l.title}),l.hot&&d.jsx("span",{className:Ve.hotTag,children:"Hot"})]}),d.jsxs("div",{className:Ve.jobMeta,children:[d.jsx("span",{children:l.location}),"  ",d.jsx("span",{children:l.type}),"  ",d.jsx("span",{children:l.salary})]})]}),d.jsx("span",{className:`material-symbols-outlined ${Ve.expandIcon}`,children:i===u?"expand_less":"expand_more"})]}),i===u&&d.jsxs("div",{className:Ve.jobDetails,onClick:c=>c.stopPropagation(),children:[d.jsx("div",{className:Ve.description,children:d.jsx("p",{children:l.description||"Inquire for details."})}),d.jsx("button",{className:Ve.applyBtn,onClick:()=>n(`/apply/${encodeURIComponent(l.title)}`),children:"Apply Now"})]})]},u))})]})})]})},HP="_dashboard_18w5h_1",FP="_header_18w5h_7",GP="_titleGroup_18w5h_14",$P="_logoutBtn_18w5h_21",YP="_title_18w5h_14",KP="_tabs_18w5h_50",QP="_tabBtn_18w5h_59",XP="_active_18w5h_69",WP="_form_18w5h_74",JP="_formGrid_18w5h_87",ZP="_fileInputWrapper_18w5h_95",e6="_fileLabel_18w5h_101",t6="_uploadStatus_18w5h_124",n6="_list_18w5h_153",i6="_item_18w5h_158",s6="_itemInfo_18w5h_179",r6="_editBtn_18w5h_183",a6="_itemActions_18w5h_194",o6="_deleteBtn_18w5h_200",l6="_confirmGroup_18w5h_211",u6="_confirmLabel_18w5h_221",c6="_advancedFilters_18w5h_228",h6="_searchWrapper_18w5h_234",f6="_searchInput_18w5h_250",d6="_statusFilterGroup_18w5h_259",m6="_statusFilterSelect_18w5h_266",p6="_jobItemContainer_18w5h_281",g6="_jobPreview_18w5h_285",_6="_slideDown_18w5h_1",y6="_previewText_18w5h_316",v6="_previewMeta_18w5h_323",E6="_viewBtn_18w5h_328",T6="_buttonGroup_18w5h_347",b6="_saveBtn_18w5h_352",S6="_cancelBtn_18w5h_363",A6="_sectionHeader_18w5h_380",w6="_filterGroup_18w5h_387",R6="_filterBtn_18w5h_396",C6="_appCard_18w5h_412",I6="_viewed_18w5h_437",N6="_interview_18w5h_442",x6="_rejected_18w5h_447",D6="_appHeader_18w5h_454",O6="_appMainInfo_18w5h_461",M6="_statusBadge_18w5h_467",V6="_statusSelect_18w5h_474",k6="_appEmail_18w5h_490",L6="_appLinks_18w5h_496",P6="_link_18w5h_504",j6="_emptyMsg_18w5h_523",q={dashboard:HP,header:FP,titleGroup:GP,logoutBtn:$P,title:YP,tabs:KP,tabBtn:QP,active:XP,form:WP,formGrid:JP,fileInputWrapper:ZP,fileLabel:e6,uploadStatus:t6,list:n6,item:i6,itemInfo:s6,editBtn:r6,itemActions:a6,deleteBtn:o6,confirmGroup:l6,confirmLabel:u6,advancedFilters:c6,searchWrapper:h6,searchInput:f6,statusFilterGroup:d6,statusFilterSelect:m6,jobItemContainer:p6,jobPreview:g6,slideDown:_6,previewText:y6,previewMeta:v6,viewBtn:E6,buttonGroup:T6,saveBtn:b6,cancelBtn:S6,sectionHeader:A6,filterGroup:w6,filterBtn:R6,appCard:C6,new:"_new_18w5h_432",viewed:I6,interview:N6,rejected:x6,appHeader:D6,appMainInfo:O6,statusBadge:M6,statusSelect:V6,appEmail:k6,appLinks:L6,link:P6,emptyMsg:j6},U6=()=>{const[t,e]=V.useState("projects"),{data:n,addItem:i,deleteItem:s,updateItem:r}=$o("projects"),{data:a,addItem:l,deleteItem:u,updateItem:c}=$o("careers"),{data:f,deleteItem:p,updateItem:g}=$o("applications"),_=Oa(),[I,D]=V.useState(!1),[O,S]=V.useState(null),[E,A]=V.useState(""),[x,z]=V.useState("Active"),[B,T]=V.useState(null),[v,b]=V.useState(null),[R,C]=V.useState(null),[N,w]=V.useState({title:"",category:"",text:"",tags:"",image:""}),[ve,ot]=V.useState({title:"",location:"",salary:"",type:"",description:""}),[F,te]=V.useState(!1),[W,fe]=V.useState(""),je=async()=>{await $3(Mg),_("/")},Nn=async(U,Re=!1)=>{const Ht=U.target.files[0];if(Ht){if(Ht.size>1024*1024){fe("Image too large. Max 1MB.");return}te(!0),fe("Processing image...");try{const Ds=new FileReader;Ds.readAsDataURL(Ht),Ds.onload=()=>{const Ba=Ds.result;Re?T({...B,image:Ba}):w({...N,image:Ba}),fe("Image processed successfully!")}}catch(Ds){console.error("Processing failed:",Ds),fe("Processing failed.")}finally{te(!1)}}},Jn=U=>{U.preventDefault();const Re={...N,tags:typeof N.tags=="string"?N.tags.split(",").map(Ht=>Ht.trim()):N.tags};i(Re),w({title:"",category:"",text:"",tags:"",image:""})},Ii=U=>{U.preventDefault();const Re={...B,tags:typeof B.tags=="string"?B.tags.split(",").map(Ht=>Ht.trim()):B.tags};r(B.id,Re),T(null)},Mt=U=>{U.preventDefault(),l(ve),ot({title:"",location:"",salary:"",type:"",description:""})},xn=U=>{U.preventDefault(),c(v.id,v),b(null)},za=(U,Re)=>{g(U,{status:Re})},_r=f.filter(U=>{const Re=U.name.toLowerCase().includes(E.toLowerCase())||U.jobTitle.toLowerCase().includes(E.toLowerCase()),Ht=x==="All"||x==="Active"&&U.status!=="Rejected"||(U.status||"New")===x;return Re&&Ht});return d.jsx("div",{className:q.dashboard,children:d.jsxs("div",{className:"container",children:[d.jsxs("header",{className:q.header,children:[d.jsxs("div",{className:q.titleGroup,children:[d.jsxs("h1",{className:q.title,children:["Studio ",d.jsx("span",{children:"Manager"})]}),d.jsxs("button",{onClick:je,className:q.logoutBtn,children:[d.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Logout"]})]}),d.jsxs("div",{className:q.tabs,children:[d.jsx("button",{className:`${q.tabBtn} ${t==="projects"?q.active:""}`,onClick:()=>{e("projects"),T(null),C(null)},children:"Projects"}),d.jsx("button",{className:`${q.tabBtn} ${t==="careers"?q.active:""}`,onClick:()=>{e("careers"),b(null),C(null)},children:"Careers"}),d.jsx("button",{className:`${q.tabBtn} ${t==="applications"?q.active:""}`,onClick:()=>{e("applications"),C(null)},children:"Applications"})]})]}),d.jsx("main",{className:q.content,children:t==="projects"?d.jsxs("div",{className:q.section,children:[B?d.jsxs("form",{className:q.form,onSubmit:Ii,children:[d.jsx("h3",{children:"Edit Project"}),d.jsxs("div",{className:q.formGrid,children:[d.jsx("input",{placeholder:"Title",value:B.title,onChange:U=>T({...B,title:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Category",value:B.category,onChange:U=>T({...B,category:U.target.value}),required:!0}),d.jsx("div",{className:q.fileInputWrapper,children:d.jsxs("label",{className:q.fileLabel,children:[d.jsx("span",{className:"material-symbols-outlined",children:"upload"}),"Change Image",d.jsx("input",{type:"file",onChange:U=>Nn(U,!0),accept:"image/*"})]})}),d.jsx("input",{placeholder:"Tags (comma separated)",value:Array.isArray(B.tags)?B.tags.join(", "):B.tags,onChange:U=>T({...B,tags:U.target.value})})]}),d.jsx("textarea",{placeholder:"Description",value:B.text,onChange:U=>T({...B,text:U.target.value}),required:!0}),d.jsxs("div",{className:q.buttonGroup,children:[d.jsx("button",{type:"submit",className:q.saveBtn,children:"Save Changes"}),d.jsx("button",{type:"button",onClick:()=>T(null),className:q.cancelBtn,children:"Cancel"})]})]}):d.jsxs("form",{className:q.form,onSubmit:Jn,children:[d.jsx("h3",{children:"Add New Project"}),d.jsxs("div",{className:q.formGrid,children:[d.jsx("input",{placeholder:"Title",value:N.title,onChange:U=>w({...N,title:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Category",value:N.category,onChange:U=>w({...N,category:U.target.value}),required:!0}),d.jsxs("div",{className:q.fileInputWrapper,children:[d.jsxs("label",{className:q.fileLabel,children:[d.jsx("span",{className:"material-symbols-outlined",children:"upload"}),N.image?"Image Selected":"Upload Project Image",d.jsx("input",{type:"file",onChange:Nn,accept:"image/*"})]}),W&&d.jsx("p",{className:q.uploadStatus,children:W})]}),d.jsx("input",{placeholder:"Tags (comma separated)",value:N.tags,onChange:U=>w({...N,tags:U.target.value})})]}),d.jsx("textarea",{placeholder:"Description",value:N.text,onChange:U=>w({...N,text:U.target.value}),required:!0}),d.jsx("button",{type:"submit",children:"Publish Project"})]}),d.jsxs("div",{className:q.list,children:[d.jsx("h3",{children:"Existing Projects"}),n.map(U=>d.jsxs("div",{className:q.item,children:[d.jsxs("div",{className:q.itemInfo,children:[d.jsx("h4",{children:U.title}),d.jsx("p",{children:U.category})]}),d.jsx("div",{className:q.itemActions,children:R===U.id?d.jsxs("div",{className:q.confirmGroup,children:[d.jsx("span",{className:q.confirmLabel,children:"Are you sure?"}),d.jsx("button",{onClick:()=>s(U.id),className:q.deleteBtn,children:"Yes, Delete"}),d.jsx("button",{onClick:()=>C(null),className:q.cancelBtn,children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>T(U),className:q.editBtn,children:"Edit"}),d.jsx("button",{onClick:()=>C(U.id),className:q.deleteBtn,children:"Delete"})]})})]},U.id))]})]}):t==="careers"?d.jsxs("div",{className:q.section,children:[v?d.jsxs("form",{className:q.form,onSubmit:xn,children:[d.jsx("h3",{children:"Edit Role"}),d.jsxs("div",{className:q.formGrid,children:[d.jsx("input",{placeholder:"Job Title",value:v.title,onChange:U=>b({...v,title:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Location",value:v.location,onChange:U=>b({...v,location:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Salary Range",value:v.salary,onChange:U=>b({...v,salary:U.target.value})}),d.jsx("input",{placeholder:"Type (Full-time/Contract)",value:v.type,onChange:U=>b({...v,type:U.target.value}),required:!0})]}),d.jsx("textarea",{placeholder:"Job Description",value:v.description,onChange:U=>b({...v,description:U.target.value}),required:!0}),d.jsxs("div",{className:q.buttonGroup,children:[d.jsx("button",{type:"submit",className:q.saveBtn,children:"Save Changes"}),d.jsx("button",{type:"button",onClick:()=>b(null),className:q.cancelBtn,children:"Cancel"})]})]}):d.jsxs("form",{className:q.form,onSubmit:Mt,children:[d.jsx("h3",{children:"Add New Role"}),d.jsxs("div",{className:q.formGrid,children:[d.jsx("input",{placeholder:"Job Title",value:ve.title,onChange:U=>ot({...ve,title:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Location",value:ve.location,onChange:U=>ot({...ve,location:U.target.value}),required:!0}),d.jsx("input",{placeholder:"Salary Range",value:ve.salary,onChange:U=>ot({...ve,salary:U.target.value})}),d.jsx("input",{placeholder:"Type (Full-time/Contract)",value:ve.type,onChange:U=>ot({...ve,type:U.target.value}),required:!0})]}),d.jsx("textarea",{placeholder:"Job Description",value:ve.description,onChange:U=>ot({...ve,description:U.target.value}),required:!0}),d.jsx("button",{type:"submit",children:"Post Job"})]}),d.jsxs("div",{className:q.list,children:[d.jsx("h3",{children:"Open Roles"}),a.map(U=>d.jsxs("div",{className:q.jobItemContainer,children:[d.jsxs("div",{className:q.item,onClick:()=>S(O===U.id?null:U.id),children:[d.jsxs("div",{className:q.itemInfo,children:[d.jsx("h4",{children:U.title}),d.jsxs("p",{children:[U.location,"  ",U.type]})]}),d.jsxs("div",{className:q.itemActions,children:[d.jsx("button",{onClick:Re=>{Re.stopPropagation(),S(O===U.id?null:U.id)},className:q.viewBtn,children:d.jsx("span",{className:"material-symbols-outlined",children:O===U.id?"expand_less":"expand_more"})}),R===U.id?d.jsxs("div",{className:q.confirmGroup,children:[d.jsx("span",{className:q.confirmLabel,children:"Really delete?"}),d.jsx("button",{onClick:Re=>{Re.stopPropagation(),u(U.id)},className:q.deleteBtn,children:"Delete"}),d.jsx("button",{onClick:Re=>{Re.stopPropagation(),C(null)},className:q.cancelBtn,children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Re=>{Re.stopPropagation(),b(U)},className:q.editBtn,children:"Edit"}),d.jsx("button",{onClick:Re=>{Re.stopPropagation(),C(U.id)},className:q.deleteBtn,children:"Delete"})]})]})]}),O===U.id&&d.jsxs("div",{className:q.jobPreview,children:[d.jsx("h5",{children:"Role Description"}),d.jsx("p",{className:q.previewText,children:U.description}),U.salary&&d.jsxs("p",{className:q.previewMeta,children:[d.jsx("strong",{children:"Salary:"})," ",U.salary]})]})]},U.id))]})]}):d.jsxs("div",{className:q.section,children:[d.jsxs("div",{className:q.sectionHeader,children:[d.jsx("h3",{children:"Candidate Applications"}),d.jsxs("div",{className:q.advancedFilters,children:[d.jsxs("div",{className:q.searchWrapper,children:[d.jsx("span",{className:"material-symbols-outlined",children:"search"}),d.jsx("input",{type:"text",placeholder:"Search name or role...",value:E,onChange:U=>A(U.target.value),className:q.searchInput})]}),d.jsx("div",{className:q.statusFilterGroup,children:d.jsxs("select",{value:x,onChange:U=>z(U.target.value),className:q.statusFilterSelect,children:[d.jsx("option",{value:"Active",children:"Active Only"}),d.jsx("option",{value:"All",children:"All Applicants"}),d.jsx("option",{value:"New",children:"New"}),d.jsx("option",{value:"Viewed",children:"Viewed"}),d.jsx("option",{value:"Interview",children:"Interview"}),d.jsx("option",{value:"Rejected",children:"Archived"})]})})]})]}),d.jsx("div",{className:q.list,children:_r.length===0?d.jsx("p",{className:q.emptyMsg,children:I?"No archived applications.":"No active applications yet."}):_r.map(U=>{var Re;return d.jsxs("div",{className:`${q.appCard} ${q[((Re=U.status)==null?void 0:Re.toLowerCase())||"new"]}`,children:[d.jsxs("div",{className:q.appHeader,children:[d.jsxs("div",{className:q.appMainInfo,children:[d.jsx("h4",{children:U.name}),d.jsx("span",{className:q.roleTag,children:U.jobTitle})]}),d.jsx("div",{className:q.statusBadge,children:d.jsxs("select",{value:U.status||"New",onChange:Ht=>za(U.id,Ht.target.value),className:q.statusSelect,children:[d.jsx("option",{value:"New",children:"New"}),d.jsx("option",{value:"Viewed",children:"Viewed"}),d.jsx("option",{value:"Interview",children:"Interview"}),d.jsx("option",{value:"Rejected",children:"Rejected"})]})})]}),d.jsx("p",{className:q.appEmail,children:U.email}),d.jsxs("div",{className:q.appLinks,children:[d.jsxs("a",{href:U.resumeData||U.resumeUrl,target:"_blank",rel:"noreferrer",download:U.resumeData?`${U.name}_Resume`:void 0,className:q.link,children:[d.jsx("span",{className:"material-symbols-outlined",children:"description"})," Resume"]}),U.portfolio&&d.jsxs("a",{href:U.portfolio,target:"_blank",rel:"noreferrer",className:q.link,children:[d.jsx("span",{className:"material-symbols-outlined",children:"link"})," Portfolio"]})]}),d.jsx("div",{className:q.itemActions,children:R===U.id?d.jsxs("div",{className:q.confirmGroup,children:[d.jsx("span",{className:q.confirmLabel,children:"Permanent delete?"}),d.jsx("button",{onClick:()=>p(U.id),className:q.deleteBtn,children:"Yes, Delete"}),d.jsx("button",{onClick:()=>C(null),className:q.cancelBtn,children:"Cancel"})]}):d.jsx("button",{onClick:()=>C(U.id),className:q.deleteBtn,children:"Delete permanently"})})]},U.id)})})]})})]})})},z6="_applyPage_on2d8_1",B6="_formCard_on2d8_6",q6="_header_on2d8_16",H6="_badge_on2d8_21",F6="_title_on2d8_35",G6="_form_on2d8_6",$6="_field_on2d8_51",Y6="_fileUpload_on2d8_74",K6="_status_on2d8_87",Q6="_submitBtn_on2d8_94",Gt={applyPage:z6,formCard:B6,header:q6,badge:H6,title:F6,form:G6,field:$6,fileUpload:Y6,status:K6,submitBtn:Q6},X6=()=>{const{jobId:t}=GI(),e=Oa(),[n,i]=V.useState(""),[s,r]=V.useState(!1),[a,l]=V.useState({name:"",email:"",portfolio:"",resumeData:""}),u=async f=>{const p=f.target.files[0];if(p){if(p.size>1024*1024){i("File too large. Please keep it under 1MB.");return}i("Processing resume...");try{const g=new FileReader;g.readAsDataURL(p),g.onload=()=>{l({...a,resumeData:g.result}),i("Resume processed successfully.")},g.onerror=_=>{console.error(_),i("Processing failed.")}}catch(g){console.error(g),i("Processing failed.")}}},c=async f=>{if(f.preventDefault(),!a.resumeData){i("Please upload your resume first.");return}r(!0),i("Submitting application...");try{await t1(wm(wo,"applications"),{...a,jobTitle:decodeURIComponent(t),date:new Date().toISOString()}),i("Application submitted successfully!"),setTimeout(()=>e("/careers"),2e3)}catch(p){console.error(p),i("Submission failed.")}finally{r(!1)}};return d.jsx("div",{className:Gt.applyPage,children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:Gt.formCard,children:[d.jsxs("header",{className:Gt.header,children:[d.jsx("span",{className:Gt.badge,children:"The next chapter"}),d.jsxs("h1",{className:Gt.title,children:["Applying for ",d.jsx("span",{children:decodeURIComponent(t)})]})]}),d.jsxs("form",{className:Gt.form,onSubmit:c,children:[d.jsxs("div",{className:Gt.field,children:[d.jsx("label",{children:"Full Name"}),d.jsx("input",{type:"text",placeholder:"Alexander Wright",required:!0,value:a.name,onChange:f=>l({...a,name:f.target.value})})]}),d.jsxs("div",{className:Gt.field,children:[d.jsx("label",{children:"Email"}),d.jsx("input",{type:"email",placeholder:"alex@studio.com",required:!0,value:a.email,onChange:f=>l({...a,email:f.target.value})})]}),d.jsxs("div",{className:Gt.field,children:[d.jsx("label",{children:"Portfolio / LinkedIn"}),d.jsx("input",{type:"url",placeholder:"https://...",required:!0,value:a.portfolio,onChange:f=>l({...a,portfolio:f.target.value})})]}),d.jsxs("div",{className:Gt.field,children:[d.jsx("label",{children:"Your Resume (PDF / Word)"}),d.jsxs("div",{className:Gt.fileUpload,children:[d.jsx("input",{type:"file",onChange:u,accept:".pdf,.doc,.docx",required:!0}),d.jsx("p",{children:a.resumeData?"Ready to go":"Upload your resume"})]})]}),n&&d.jsx("p",{className:Gt.status,children:n}),d.jsx("button",{type:"submit",className:Gt.submitBtn,disabled:s,children:s?"Sending...":"Send it off"})]})]})})})},W6="_loginPage_niw1b_1",J6="_loginCard_niw1b_9",Z6="_header_niw1b_20",ej="_logo_niw1b_24",tj="_tagline_niw1b_35",nj="_form_niw1b_43",ij="_field_niw1b_49",sj="_error_niw1b_80",rj="_loginBtn_niw1b_86",Mn={loginPage:W6,loginCard:J6,header:Z6,logo:ej,tagline:tj,form:nj,field:ij,error:sj,loginBtn:rj},aj=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(""),[s,r]=V.useState(""),[a,l]=V.useState(!1),u=Oa(),c=async f=>{f.preventDefault(),l(!0),r("");try{await q3(Mg,t,n),u("/vault/internal/gate/secure/admin/dashboard")}catch(p){console.error(p),r("Invalid credentials. Access denied.")}finally{l(!1)}};return d.jsx("div",{className:Mn.loginPage,children:d.jsxs("div",{className:Mn.loginCard,children:[d.jsxs("div",{className:Mn.header,children:[d.jsxs("div",{className:Mn.logo,children:["Layer1",d.jsx("span",{children:".Studio"})]}),d.jsx("p",{className:Mn.tagline,children:"Internal Access Only"})]}),d.jsxs("form",{className:Mn.form,onSubmit:c,children:[d.jsxs("div",{className:Mn.field,children:[d.jsx("label",{children:"Admin Email"}),d.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),placeholder:"admin@layer1.studio",required:!0})]}),d.jsxs("div",{className:Mn.field,children:[d.jsx("label",{children:"Security Key"}),d.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"",required:!0})]}),s&&d.jsx("p",{className:Mn.error,children:s}),d.jsx("button",{type:"submit",className:Mn.loginBtn,disabled:a,children:a?"Verifying...":"Authorize Access"})]})]})})},oj=({children:t})=>{const[e,n]=rd.useState(null),[i,s]=rd.useState(!0);return V.useEffect(()=>{const r=G3(Mg,a=>{n(a),s(!1)});return()=>r()},[]),i?null:e?t:d.jsx(rN,{to:"/vault/internal/gate/secure/auth/login",replace:!0})},lj=()=>{const{pathname:t}=Qn();return V.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function uj(){return d.jsxs(DN,{basename:"/layer1studio/",children:[d.jsx(lj,{}),d.jsxs("div",{className:"app",children:[d.jsx(QN,{}),d.jsxs(oN,{children:[d.jsx(ri,{path:"/",element:d.jsx(ux,{})}),d.jsx(ri,{path:"/services",element:d.jsx(Vx,{})}),d.jsx(ri,{path:"/portfolio",element:d.jsx(tP,{})}),d.jsx(ri,{path:"/careers",element:d.jsx(qP,{})}),d.jsx(ri,{path:"/apply/:jobId",element:d.jsx(X6,{})}),d.jsx(ri,{path:"/contact",element:d.jsx(EP,{})}),d.jsx(ri,{path:"/vault/internal/gate/secure/auth/login",element:d.jsx(aj,{})}),d.jsx(ri,{path:"/vault/internal/gate/secure/admin/dashboard",element:d.jsx(oj,{children:d.jsx(U6,{})})})]}),d.jsx(u2,{})]})]})}lI.createRoot(document.getElementById("root")).render(d.jsx(rd.StrictMode,{children:d.jsx(uj,{})}));
