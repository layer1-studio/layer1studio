(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function WE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XE={exports:{}},ah={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw=Symbol.for("react.transitional.element"),mw=Symbol.for("react.fragment");function JE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:dw,type:t,key:i,ref:e!==void 0?e:null,props:n}}ah.Fragment=mw;ah.jsx=JE;ah.jsxs=JE;XE.exports=ah;var f=XE.exports,ZE={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=Symbol.for("react.transitional.element"),pw=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),vw=Symbol.for("react.consumer"),Ew=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),eT=Symbol.for("react.lazy"),Aw=Symbol.for("react.activity"),V_=Symbol.iterator;function ww(t){return t===null||typeof t!="object"?null:(t=V_&&t[V_]||t["@@iterator"],typeof t=="function"?t:null)}var tT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nT=Object.assign,iT={};function xa(t,e,n){this.props=t,this.context=e,this.refs=iT,this.updater=n||tT}xa.prototype.isReactComponent={};xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sT(){}sT.prototype=xa.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=iT,this.updater=n||tT}var km=Pm.prototype=new sT;km.constructor=Pm;nT(km,xa.prototype);km.isPureReactComponent=!0;var M_=Array.isArray;function cd(){}var Oe={H:null,A:null,T:null,S:null},rT=Object.prototype.hasOwnProperty;function Lm(t,e,n){var i=n.ref;return{$$typeof:jm,type:t,key:e,ref:i!==void 0?i:null,props:n}}function Rw(t,e){return Lm(t.type,e,t.props)}function Um(t){return typeof t=="object"&&t!==null&&t.$$typeof===jm}function Cw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j_=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cw(""+t.key):e.toString(36)}function Iw(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(cd,cd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Dr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jm:case pw:a=!0;break;case eT:return a=t._init,Dr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+hf(t,0):i,M_(s)?(n="",a!=null&&(n=a.replace(j_,"$&/")+"/"),Dr(s,e,n,"",function(c){return c})):s!=null&&(Um(s)&&(s=Rw(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(j_,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(M_(t))for(var u=0;u<t.length;u++)i=t[u],r=l+hf(i,u),a+=Dr(i,e,n,r,s);else if(u=ww(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+hf(i,u++),a+=Dr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return Dr(Iw(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function hu(t,e,n){if(t==null)return t;var i=[],s=0;return Dr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Nw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var P_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xw={map:hu,forEach:function(t,e,n){hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hu(t,function(){e++}),e},toArray:function(t){return hu(t,function(e){return e})||[]},only:function(t){if(!Um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Activity=Aw;ee.Children=xw;ee.Component=xa;ee.Fragment=gw;ee.Profiler=yw;ee.PureComponent=Pm;ee.StrictMode=_w;ee.Suspense=bw;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oe;ee.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Oe.H.useMemoCache(t)}};ee.cache=function(t){return function(){return t.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=nT({},t.props),s=t.key;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)!rT.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];i.children=a}return Lm(t.type,s,i)};ee.createContext=function(t){return t={$$typeof:Ew,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:vw,_context:t},t};ee.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)rT.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Lm(t,r,s)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Tw,render:t}};ee.isValidElement=Um;ee.lazy=function(t){return{$$typeof:eT,_payload:{_status:-1,_result:t},_init:Nw}};ee.memo=function(t,e){return{$$typeof:Sw,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Oe.T,n={};Oe.T=n;try{var i=t(),s=Oe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(cd,P_)}catch(r){P_(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Oe.T=e}};ee.unstable_useCacheRefresh=function(){return Oe.H.useCacheRefresh()};ee.use=function(t){return Oe.H.use(t)};ee.useActionState=function(t,e,n){return Oe.H.useActionState(t,e,n)};ee.useCallback=function(t,e){return Oe.H.useCallback(t,e)};ee.useContext=function(t){return Oe.H.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t,e){return Oe.H.useDeferredValue(t,e)};ee.useEffect=function(t,e){return Oe.H.useEffect(t,e)};ee.useEffectEvent=function(t){return Oe.H.useEffectEvent(t)};ee.useId=function(){return Oe.H.useId()};ee.useImperativeHandle=function(t,e,n){return Oe.H.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Oe.H.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Oe.H.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Oe.H.useMemo(t,e)};ee.useOptimistic=function(t,e){return Oe.H.useOptimistic(t,e)};ee.useReducer=function(t,e,n){return Oe.H.useReducer(t,e,n)};ee.useRef=function(t){return Oe.H.useRef(t)};ee.useState=function(t){return Oe.H.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Oe.H.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Oe.H.useTransition()};ee.version="19.2.4";ZE.exports=ee;var M=ZE.exports;const sr=WE(M);var aT={exports:{}},oh={},oT={exports:{}},lT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,te){var X=F.length;F.push(te);e:for(;0<X;){var me=X-1>>>1,ze=F[me];if(0<s(ze,te))F[me]=te,F[X]=ze,X=me;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var te=F[0],X=F.pop();if(X!==te){F[0]=X;e:for(var me=0,ze=F.length,ai=ze>>>1;me<ai;){var jn=2*(me+1)-1,ji=F[jn],jt=jn+1,Pn=F[jt];if(0>s(ji,X))jt<ze&&0>s(Pn,ji)?(F[me]=Pn,F[jt]=X,me=jt):(F[me]=ji,F[jn]=X,me=jn);else if(jt<ze&&0>s(Pn,X))F[me]=Pn,F[jt]=X,me=jt;else break e}}return te}function s(F,te){var X=F.sortIndex-te.sortIndex;return X!==0?X:F.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,g=3,_=!1,I=!1,D=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function x(F){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=F)i(c),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(c)}}function z(F){if(D=!1,x(F),!I)if(n(u)!==null)I=!0,B||(B=!0,N());else{var te=n(c);te!==null&&ot(z,te.startTime-F)}}var B=!1,T=-1,v=5,b=-1;function R(){return O?!0:!(t.unstable_now()-b<v)}function C(){if(O=!1,B){var F=t.unstable_now();b=F;var te=!0;try{e:{I=!1,D&&(D=!1,E(T),T=-1),_=!0;var X=g;try{t:{for(x(F),p=n(u);p!==null&&!(p.expirationTime>F&&R());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var ze=me(p.expirationTime<=F);if(F=t.unstable_now(),typeof ze=="function"){p.callback=ze,x(F),te=!0;break t}p===n(u)&&i(u),x(F)}else i(u);p=n(u)}if(p!==null)te=!0;else{var ai=n(c);ai!==null&&ot(z,ai.startTime-F),te=!1}}break e}finally{p=null,g=X,_=!1}te=void 0}}finally{te?N():B=!1}}}var N;if(typeof A=="function")N=function(){A(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ee=w.port2;w.port1.onmessage=C,N=function(){Ee.postMessage(null)}}else N=function(){S(C,0)};function ot(F,te){T=S(function(){F(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(F){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var X=g;g=te;try{return F()}finally{g=X}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=g;g=F;try{return te()}finally{g=X}},t.unstable_scheduleCallback=function(F,te,X){var me=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,F){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=X+ze,F={id:d++,callback:te,priorityLevel:F,startTime:X,expirationTime:ze,sortIndex:-1},X>me?(F.sortIndex=X,e(c,F),n(u)===null&&F===n(c)&&(D?(E(T),T=-1):D=!0,ot(z,X-me))):(F.sortIndex=ze,e(u,F),I||_||(I=!0,B||(B=!0,N()))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var te=g;return function(){var X=g;g=te;try{return F.apply(this,arguments)}finally{g=X}}}})(lT);oT.exports=lT;var Dw=oT.exports,uT={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=M;function cT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qi(){}var Vt={d:{f:qi,r:function(){throw Error(cT(522))},D:qi,C:qi,L:qi,m:qi,X:qi,S:qi,M:qi},p:0,findDOMNode:null},Vw=Symbol.for("react.portal");function Mw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Po=Ow.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(cT(299));return Mw(t,e,null,n)};Mt.flushSync=function(t){var e=Po.T,n=Vt.p;try{if(Po.T=null,Vt.p=2,t)return t()}finally{Po.T=e,Vt.p=n,Vt.d.f()}};Mt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Vt.d.C(t,e))};Mt.prefetchDNS=function(t){typeof t=="string"&&Vt.d.D(t)};Mt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=lh(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Vt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Mt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=lh(e.as,e.crossOrigin);Vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Vt.d.M(t)};Mt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=lh(n,e.crossOrigin);Vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Mt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=lh(e.as,e.crossOrigin);Vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Vt.d.m(t)};Mt.requestFormReset=function(t){Vt.d.r(t)};Mt.unstable_batchedUpdates=function(t,e){return t(e)};Mt.useFormState=function(t,e,n){return Po.H.useFormState(t,e,n)};Mt.useFormStatus=function(){return Po.H.useHostTransitionStatus()};Mt.version="19.2.4";function hT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hT)}catch(t){console.error(t)}}hT(),uT.exports=Mt;var jw=uT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=Dw,fT=M,Pw=jw;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k_(t){if(Cl(t)!==t)throw Error(P(188))}function kw(t){var e=t.alternate;if(!e){if(e=Cl(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return k_(s),t;if(r===i)return k_(s),e;r=r.sibling}throw Error(P(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function gT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=gT(t),e!==null)return e;t=t.sibling}return null}var Ve=Object.assign,Lw=Symbol.for("react.element"),fu=Symbol.for("react.transitional.element"),Ao=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),_T=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),yT=Symbol.for("react.consumer"),pi=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),md=Symbol.for("react.activity"),Uw=Symbol.for("react.memo_cache_sentinel"),L_=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=L_&&t[L_]||t["@@iterator"],typeof t=="function"?t:null)}var zw=Symbol.for("react.client.reference");function pd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case hd:return"Profiler";case _T:return"StrictMode";case fd:return"Suspense";case dd:return"SuspenseList";case md:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ao:return"Portal";case pi:return t.displayName||"Context";case yT:return(t._context.displayName||"Context")+".Consumer";case zm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bm:return e=t.displayName||null,e!==null?e:pd(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return pd(t(e))}catch{}}return null}var wo=Array.isArray,W=fT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=Pw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xs={pending:!1,data:null,method:null,action:null},gd=[],Ur=-1;function ni(t){return{current:t}}function dt(t){0>Ur||(t.current=gd[Ur],gd[Ur]=null,Ur--)}function Ce(t,e){Ur++,gd[Ur]=t.current,t.current=e}var Yn=ni(null),nl=ni(null),as=ni(null),lc=ni(null);function uc(t,e){switch(Ce(as,e),Ce(nl,t),Ce(Yn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Fy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Fy(e),t=L0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}dt(Yn),Ce(Yn,t)}function ha(){dt(Yn),dt(nl),dt(as)}function _d(t){t.memoizedState!==null&&Ce(lc,t);var e=Yn.current,n=L0(e,t.type);e!==n&&(Ce(nl,t),Ce(Yn,n))}function cc(t){nl.current===t&&(dt(Yn),dt(nl)),lc.current===t&&(dt(lc),dl._currentValue=Xs)}var ff,U_;function Gs(t){if(ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ff=e&&e[1]||"",U_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ff+t+U_}var df=!1;function mf(t,e){if(!t||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var g=_}Reflect.construct(t,[],p)}else{try{p.call()}catch(_){g=_}t.call(p.prototype)}}else{try{throw Error()}catch(_){g=_}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&g&&typeof _.stack=="string")return[_.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{df=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Gs(n):""}function Bw(t,e){switch(t.tag){case 26:case 27:case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return t.child!==e&&e!==null?Gs("Suspense Fallback"):Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 15:return mf(t.type,!1);case 11:return mf(t.type.render,!1);case 1:return mf(t.type,!0);case 31:return Gs("Activity");default:return""}}function z_(t){try{var e="",n=null;do e+=Bw(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var yd=Object.prototype.hasOwnProperty,qm=at.unstable_scheduleCallback,pf=at.unstable_cancelCallback,qw=at.unstable_shouldYield,Hw=at.unstable_requestPaint,Jt=at.unstable_now,Fw=at.unstable_getCurrentPriorityLevel,vT=at.unstable_ImmediatePriority,ET=at.unstable_UserBlockingPriority,hc=at.unstable_NormalPriority,Gw=at.unstable_LowPriority,TT=at.unstable_IdlePriority,$w=at.log,Yw=at.unstable_setDisableYieldValue,Il=null,Zt=null;function es(t){if(typeof $w=="function"&&Yw(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Il,t)}catch{}}var en=Math.clz32?Math.clz32:Ww,Kw=Math.log,Qw=Math.LN2;function Ww(t){return t>>>=0,t===0?32:31-(Kw(t)/Qw|0)|0}var du=256,mu=262144,pu=4194304;function $s(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function uh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=$s(i):(a&=l,a!==0?s=$s(a):n||(n=l&~t,n!==0&&(s=$s(n))))):(l=i&~r,l!==0?s=$s(l):a!==0?s=$s(a):n||(n=i&~t,n!==0&&(s=$s(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function Nl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Xw(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bT(){var t=pu;return pu<<=1,!(pu&62914560)&&(pu=4194304),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jw(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-en(n),p=1<<d;l[d]=0,u[d]=-1;var g=c[d];if(g!==null)for(c[d]=null,d=0;d<g.length;d++){var _=g[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&ST(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function ST(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-en(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function AT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-en(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function wT(t,e){var n=e&-e;return n=n&42?1:Hm(n),n&(t.suspendedLanes|e)?0:n}function Hm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function RT(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function B_(t,e){var n=ge.p;try{return ge.p=t,e()}finally{ge.p=n}}var Os=Math.random().toString(36).slice(2),yt="__reactFiber$"+Os,Ft="__reactProps$"+Os,Da="__reactContainer$"+Os,vd="__reactEvents$"+Os,Zw="__reactListeners$"+Os,eR="__reactHandles$"+Os,q_="__reactResources$"+Os,Dl="__reactMarker$"+Os;function Gm(t){delete t[yt],delete t[Ft],delete t[vd],delete t[Zw],delete t[eR]}function zr(t){var e=t[yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Da]||n[yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qy(t);t!==null;){if(n=t[yt])return n;t=Qy(t)}return e}t=n,n=t.parentNode}return null}function Oa(t){if(t=t[yt]||t[Da]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ro(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function Xr(t){var e=t[q_];return e||(e=t[q_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ft(t){t[Dl]=!0}var CT=new Set,IT={};function pr(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(IT[t]=e,t=0;t<e.length;t++)CT.add(e[t])}var tR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H_={},F_={};function nR(t){return yd.call(F_,t)?!0:yd.call(H_,t)?!1:tR.test(t)?F_[t]=!0:(H_[t]=!0,!1)}function ju(t,e,n){if(nR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function gu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function oi(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iR(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ed(t){if(!t._valueTracker){var e=NT(t)?"checked":"value";t._valueTracker=iR(t,e,""+t[e])}}function xT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=NT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sR=/[\n"\\]/g;function hn(t){return t.replace(sR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Td(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ln(e)):t.value!==""+ln(e)&&(t.value=""+ln(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?bd(t,a,ln(e)):n!=null?bd(t,a,ln(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+ln(l):t.removeAttribute("name")}function DT(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Ed(t);return}n=n!=null?""+ln(n):"",e=e!=null?""+ln(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Ed(t)}function bd(t,e,n){e==="number"&&fc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Jr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ln(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function OT(t,e,n){if(e!=null&&(e=""+ln(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ln(n):""}function VT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(P(92));if(wo(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ln(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Ed(t)}function da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function G_(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||rR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function MT(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&G_(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&G_(t,r,e[r])}function $m(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pu(t){return oR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gi(){}var Sd=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Br=null,Zr=null;function $_(t){var e=Oa(t);if(e&&(t=e.stateNode)){var n=t[Ft]||null;e:switch(t=e.stateNode,e.type){case"input":if(Td(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Ft]||null;if(!s)throw Error(P(90));Td(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&xT(i)}break e;case"textarea":OT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Jr(t,!!n.multiple,e,!1)}}}var _f=!1;function jT(t,e,n){if(_f)return t(e,n);_f=!0;try{var i=t(e);return i}finally{if(_f=!1,(Br!==null||Zr!==null)&&(Th(),Br&&(e=Br,t=Zr,Zr=Br=null,$_(e),t)))for(e=0;e<t.length;e++)$_(t[e])}}function il(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ft]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ad=!1;if(Ai)try{var go={};Object.defineProperty(go,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ad=!1}var ts=null,Km=null,ku=null;function PT(){if(ku)return ku;var t,e=Km,n=e.length,i,s="value"in ts?ts.value:ts.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return ku=s.slice(t,1<i?1-i:void 0)}function Lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function Y_(){return!1}function Gt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_u:Y_,this.isPropagationStopped=Y_,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Gt(gr),Ol=Ve({},gr,{view:0,detail:0}),lR=Gt(Ol),yf,vf,_o,hh=Ve({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(yf=t.screenX-_o.screenX,vf=t.screenY-_o.screenY):vf=yf=0,_o=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:vf}}),K_=Gt(hh),uR=Ve({},hh,{dataTransfer:0}),cR=Gt(uR),hR=Ve({},Ol,{relatedTarget:0}),Ef=Gt(hR),fR=Ve({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=Gt(fR),mR=Ve({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pR=Gt(mR),gR=Ve({},gr,{data:0}),Q_=Gt(gR),_R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ER(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vR[t])?!!e[t]:!1}function Qm(){return ER}var TR=Ve({},Ol,{key:function(t){if(t.key){var e=_R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qm,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bR=Gt(TR),SR=Ve({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W_=Gt(SR),AR=Ve({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qm}),wR=Gt(AR),RR=Ve({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CR=Gt(RR),IR=Ve({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NR=Gt(IR),xR=Ve({},gr,{newState:0,oldState:0}),DR=Gt(xR),OR=[9,13,27,32],Wm=Ai&&"CompositionEvent"in window,ko=null;Ai&&"documentMode"in document&&(ko=document.documentMode);var VR=Ai&&"TextEvent"in window&&!ko,kT=Ai&&(!Wm||ko&&8<ko&&11>=ko),X_=" ",J_=!1;function LT(t,e){switch(t){case"keyup":return OR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function MR(t,e){switch(t){case"compositionend":return UT(e);case"keypress":return e.which!==32?null:(J_=!0,X_);case"textInput":return t=e.data,t===X_&&J_?null:t;default:return null}}function jR(t,e){if(qr)return t==="compositionend"||!Wm&&LT(t,e)?(t=PT(),ku=Km=ts=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kT&&e.locale!=="ko"?null:e.data;default:return null}}var PR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PR[t.type]:e==="textarea"}function zT(t,e,n,i){Br?Zr?Zr.push(i):Zr=[i]:Br=i,e=xc(e,"onChange"),0<e.length&&(n=new ch("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Lo=null,sl=null;function kR(t){j0(t,0)}function fh(t){var e=Ro(t);if(xT(e))return t}function ey(t,e){if(t==="change")return e}var BT=!1;if(Ai){var Tf;if(Ai){var bf="oninput"in document;if(!bf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),bf=typeof ty.oninput=="function"}Tf=bf}else Tf=!1;BT=Tf&&(!document.documentMode||9<document.documentMode)}function ny(){Lo&&(Lo.detachEvent("onpropertychange",qT),sl=Lo=null)}function qT(t){if(t.propertyName==="value"&&fh(sl)){var e=[];zT(e,sl,t,Ym(t)),jT(kR,e)}}function LR(t,e,n){t==="focusin"?(ny(),Lo=e,sl=n,Lo.attachEvent("onpropertychange",qT)):t==="focusout"&&ny()}function UR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(sl)}function zR(t,e){if(t==="click")return fh(e)}function BR(t,e){if(t==="input"||t==="change")return fh(e)}function qR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:qR;function rl(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!yd.call(e,s)||!nn(t[s],e[s]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,e){var n=iy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iy(n)}}function HT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=fc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fc(t.document)}return e}function Xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var HR=Ai&&"documentMode"in document&&11>=document.documentMode,Hr=null,wd=null,Uo=null,Rd=!1;function ry(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||Hr==null||Hr!==fc(i)||(i=Hr,"selectionStart"in i&&Xm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Uo&&rl(Uo,i)||(Uo=i,i=xc(wd,"onSelect"),0<i.length&&(e=new ch("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Hr)))}function Fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Sf={},GT={};Ai&&(GT=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function _r(t){if(Sf[t])return Sf[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GT)return Sf[t]=e[n];return t}var $T=_r("animationend"),YT=_r("animationiteration"),KT=_r("animationstart"),FR=_r("transitionrun"),GR=_r("transitionstart"),$R=_r("transitioncancel"),QT=_r("transitionend"),WT=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function On(t,e){WT.set(t,e),pr(e,[t])}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},on=[],Gr=0,Jm=0;function dh(){for(var t=Gr,e=Jm=Gr=0;e<t;){var n=on[e];on[e++]=null;var i=on[e];on[e++]=null;var s=on[e];on[e++]=null;var r=on[e];if(on[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&XT(n,s,r)}}function mh(t,e,n,i){on[Gr++]=t,on[Gr++]=e,on[Gr++]=n,on[Gr++]=i,Jm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Zm(t,e,n,i){return mh(t,e,n,i),mc(t)}function yr(t,e){return mh(t,null,null,e),mc(t)}function XT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-en(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function mc(t){if(50<Ko)throw Ko=0,Kd=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var $r={};function YR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,i){return new YR(t,e,n,i)}function ep(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function JT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Uu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")ep(t)&&(a=1);else if(typeof t=="string")a=JC(t,n,Yn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case md:return t=Qt(31,n,e,s),t.elementType=md,t.lanes=r,t;case Lr:return Js(n.children,s,r,e);case _T:a=8,s|=24;break;case hd:return t=Qt(12,n,e,s|2),t.elementType=hd,t.lanes=r,t;case fd:return t=Qt(13,n,e,s),t.elementType=fd,t.lanes=r,t;case dd:return t=Qt(19,n,e,s),t.elementType=dd,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pi:a=10;break e;case yT:a=9;break e;case zm:a=11;break e;case Bm:a=14;break e;case Fi:a=16,i=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),i=null}return e=Qt(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Js(t,e,n,i){return t=Qt(7,t,i,e),t.lanes=n,t}function Af(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function ZT(t){var e=Qt(18,null,null,0);return e.stateNode=t,e}function wf(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ay=new WeakMap;function fn(t,e){if(typeof t=="object"&&t!==null){var n=ay.get(t);return n!==void 0?n:(e={value:t,source:e,stack:z_(e)},ay.set(t,e),e)}return{value:t,source:e,stack:z_(e)}}var Yr=[],Kr=0,pc=null,al=0,un=[],cn=0,Ts=null,Fn=1,Gn="";function di(t,e){Yr[Kr++]=al,Yr[Kr++]=pc,pc=t,al=e}function eb(t,e,n){un[cn++]=Fn,un[cn++]=Gn,un[cn++]=Ts,Ts=t;var i=Fn;t=Gn;var s=32-en(i)-1;i&=~(1<<s),n+=1;var r=32-en(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Fn=1<<32-en(e)+s|n<<s|i,Gn=r+t}else Fn=1<<r|n<<s|i,Gn=t}function tp(t){t.return!==null&&(di(t,1),eb(t,1,0))}function np(t){for(;t===pc;)pc=Yr[--Kr],Yr[Kr]=null,al=Yr[--Kr],Yr[Kr]=null;for(;t===Ts;)Ts=un[--cn],un[cn]=null,Gn=un[--cn],un[cn]=null,Fn=un[--cn],un[cn]=null}function tb(t,e){un[cn++]=Fn,un[cn++]=Gn,un[cn++]=Ts,Fn=e.id,Gn=e.overflow,Ts=t}var vt=null,xe=null,ce=!1,os=null,dn=!1,Id=Error(P(519));function bs(t){var e=Error(P(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(fn(e,t)),Id}function oy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[yt]=t,e[Ft]=i,n){case"dialog":se("cancel",e),se("close",e);break;case"iframe":case"object":case"embed":se("load",e);break;case"video":case"audio":for(n=0;n<hl.length;n++)se(hl[n],e);break;case"source":se("error",e);break;case"img":case"image":case"link":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"input":se("invalid",e),DT(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":se("invalid",e);break;case"textarea":se("invalid",e),VT(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||k0(e.textContent,n)?(i.popover!=null&&(se("beforetoggle",e),se("toggle",e)),i.onScroll!=null&&se("scroll",e),i.onScrollEnd!=null&&se("scrollend",e),i.onClick!=null&&(e.onclick=gi),e=!0):e=!1,e||bs(t,!0)}function ly(t){for(vt=t.return;vt;)switch(vt.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:vt=vt.return}}function Nr(t){if(t!==vt)return!1;if(!ce)return ly(t),ce=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Zd(t.type,t.memoizedProps)),n=!n),n&&xe&&bs(t),ly(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));xe=Ky(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));xe=Ky(t)}else e===27?(e=xe,Vs(t.type)?(t=im,im=null,xe=t):xe=e):xe=vt?_n(t.stateNode.nextSibling):null;return!0}function rr(){xe=vt=null,ce=!1}function Rf(){var t=os;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),os=null),t}function ol(t){os===null?os=[t]:os.push(t)}var Nd=ni(null),vr=null,_i=null;function $i(t,e,n){Ce(Nd,e._currentValue),e._currentValue=n}function Ti(t){t._currentValue=Nd.current,dt(Nd)}function xd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Dd(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),xd(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(P(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),xd(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Va(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=s.type;nn(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===lc.current){if(a=s.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}s=s.return}t!==null&&Dd(e,t,n,i),e.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ar(t){vr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tt(t){return nb(vr,t)}function yu(t,e){return vr===null&&ar(t),nb(t,e)}function nb(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},_i===null){if(t===null)throw Error(P(308));_i=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else _i=_i.next=e;return n}var KR=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},QR=at.unstable_scheduleCallback,WR=at.unstable_NormalPriority,Xe={$$typeof:pi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new KR,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&QR(WR,function(){t.controller.abort()})}var zo=null,Od=0,ma=0,ea=null;function XR(t,e){if(zo===null){var n=zo=[];Od=0,ma=Ip(),ea={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Od++,e.then(uy,uy),e}function uy(){if(--Od===0&&zo!==null){ea!==null&&(ea.status="fulfilled");var t=zo;zo=null,ma=0,ea=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var cy=W.S;W.S=function(t,e){g0=Jt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&XR(t,e),cy!==null&&cy(t,e)};var Zs=ni(null);function sp(){var t=Zs.current;return t!==null?t:Ae.pooledCache}function zu(t,e){e===null?Ce(Zs,Zs.current):Ce(Zs,e.pool)}function ib(){var t=sp();return t===null?null:{parent:Xe._currentValue,pool:t}}var Ma=Error(P(460)),rp=Error(P(474)),ph=Error(P(542)),_c={then:function(){}};function hy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(gi,gi),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,dy(t),t;default:if(typeof e.status=="string")e.then(gi,gi);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,dy(t),t}throw er=e,Ma}}function Ys(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(er=n,Ma):n}}var er=null;function fy(){if(er===null)throw Error(P(459));var t=er;return er=null,t}function dy(t){if(t===Ma||t===ph)throw Error(P(483))}var ta=null,ll=0;function vu(t){var e=ll;return ll+=1,ta===null&&(ta=[]),sb(ta,t,e)}function yo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Eu(t,e){throw e.$$typeof===Lw?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rb(t){function e(S,E){if(t){var A=S.deletions;A===null?(S.deletions=[E],S.flags|=16):A.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S){for(var E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function s(S,E){return S=Ei(S,E),S.index=0,S.sibling=null,S}function r(S,E,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<E?(S.flags|=67108866,E):A):(S.flags|=67108866,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function l(S,E,A,x){return E===null||E.tag!==6?(E=Af(A,S.mode,x),E.return=S,E):(E=s(E,A),E.return=S,E)}function u(S,E,A,x){var z=A.type;return z===Lr?d(S,E,A.props.children,x,A.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Fi&&Ys(z)===E.type)?(E=s(E,A.props),yo(E,A),E.return=S,E):(E=Uu(A.type,A.key,A.props,null,S.mode,x),yo(E,A),E.return=S,E)}function c(S,E,A,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=wf(A,S.mode,x),E.return=S,E):(E=s(E,A.children||[]),E.return=S,E)}function d(S,E,A,x,z){return E===null||E.tag!==7?(E=Js(A,S.mode,x,z),E.return=S,E):(E=s(E,A),E.return=S,E)}function p(S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Af(""+E,S.mode,A),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fu:return A=Uu(E.type,E.key,E.props,null,S.mode,A),yo(A,E),A.return=S,A;case Ao:return E=wf(E,S.mode,A),E.return=S,E;case Fi:return E=Ys(E),p(S,E,A)}if(wo(E)||po(E))return E=Js(E,S.mode,A,null),E.return=S,E;if(typeof E.then=="function")return p(S,vu(E),A);if(E.$$typeof===pi)return p(S,yu(S,E),A);Eu(S,E)}return null}function g(S,E,A,x){var z=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:l(S,E,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case fu:return A.key===z?u(S,E,A,x):null;case Ao:return A.key===z?c(S,E,A,x):null;case Fi:return A=Ys(A),g(S,E,A,x)}if(wo(A)||po(A))return z!==null?null:d(S,E,A,x,null);if(typeof A.then=="function")return g(S,E,vu(A),x);if(A.$$typeof===pi)return g(S,E,yu(S,A),x);Eu(S,A)}return null}function _(S,E,A,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return S=S.get(A)||null,l(E,S,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fu:return S=S.get(x.key===null?A:x.key)||null,u(E,S,x,z);case Ao:return S=S.get(x.key===null?A:x.key)||null,c(E,S,x,z);case Fi:return x=Ys(x),_(S,E,A,x,z)}if(wo(x)||po(x))return S=S.get(A)||null,d(E,S,x,z,null);if(typeof x.then=="function")return _(S,E,A,vu(x),z);if(x.$$typeof===pi)return _(S,E,A,yu(E,x),z);Eu(E,x)}return null}function I(S,E,A,x){for(var z=null,B=null,T=E,v=E=0,b=null;T!==null&&v<A.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var R=g(S,T,A[v],x);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(S,T),E=r(R,E,v),B===null?z=R:B.sibling=R,B=R,T=b}if(v===A.length)return n(S,T),ce&&di(S,v),z;if(T===null){for(;v<A.length;v++)T=p(S,A[v],x),T!==null&&(E=r(T,E,v),B===null?z=T:B.sibling=T,B=T);return ce&&di(S,v),z}for(T=i(T);v<A.length;v++)b=_(T,S,v,A[v],x),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=r(b,E,v),B===null?z=b:B.sibling=b,B=b);return t&&T.forEach(function(C){return e(S,C)}),ce&&di(S,v),z}function D(S,E,A,x){if(A==null)throw Error(P(151));for(var z=null,B=null,T=E,v=E=0,b=null,R=A.next();T!==null&&!R.done;v++,R=A.next()){T.index>v?(b=T,T=null):b=T.sibling;var C=g(S,T,R.value,x);if(C===null){T===null&&(T=b);break}t&&T&&C.alternate===null&&e(S,T),E=r(C,E,v),B===null?z=C:B.sibling=C,B=C,T=b}if(R.done)return n(S,T),ce&&di(S,v),z;if(T===null){for(;!R.done;v++,R=A.next())R=p(S,R.value,x),R!==null&&(E=r(R,E,v),B===null?z=R:B.sibling=R,B=R);return ce&&di(S,v),z}for(T=i(T);!R.done;v++,R=A.next())R=_(T,S,v,R.value,x),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?v:R.key),E=r(R,E,v),B===null?z=R:B.sibling=R,B=R);return t&&T.forEach(function(N){return e(S,N)}),ce&&di(S,v),z}function O(S,E,A,x){if(typeof A=="object"&&A!==null&&A.type===Lr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case fu:e:{for(var z=A.key;E!==null;){if(E.key===z){if(z=A.type,z===Lr){if(E.tag===7){n(S,E.sibling),x=s(E,A.props.children),x.return=S,S=x;break e}}else if(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Fi&&Ys(z)===E.type){n(S,E.sibling),x=s(E,A.props),yo(x,A),x.return=S,S=x;break e}n(S,E);break}else e(S,E);E=E.sibling}A.type===Lr?(x=Js(A.props.children,S.mode,x,A.key),x.return=S,S=x):(x=Uu(A.type,A.key,A.props,null,S.mode,x),yo(x,A),x.return=S,S=x)}return a(S);case Ao:e:{for(z=A.key;E!==null;){if(E.key===z)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(S,E.sibling),x=s(E,A.children||[]),x.return=S,S=x;break e}else{n(S,E);break}else e(S,E);E=E.sibling}x=wf(A,S.mode,x),x.return=S,S=x}return a(S);case Fi:return A=Ys(A),O(S,E,A,x)}if(wo(A))return I(S,E,A,x);if(po(A)){if(z=po(A),typeof z!="function")throw Error(P(150));return A=z.call(A),D(S,E,A,x)}if(typeof A.then=="function")return O(S,E,vu(A),x);if(A.$$typeof===pi)return O(S,E,yu(S,A),x);Eu(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(n(S,E.sibling),x=s(E,A),x.return=S,S=x):(n(S,E),x=Af(A,S.mode,x),x.return=S,S=x),a(S)):n(S,E)}return function(S,E,A,x){try{ll=0;var z=O(S,E,A,x);return ta=null,z}catch(T){if(T===Ma||T===ph)throw T;var B=Qt(29,T,null,S.mode);return B.lanes=x,B.return=S,B}finally{}}}var or=rb(!0),ab=rb(!1),Gi=!1;function ap(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,pe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=mc(t),XT(t,null,n),e}return mh(t,i,e,n),mc(t)}function Bo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,AT(t,n)}}function Cf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Md=!1;function qo(){if(Md){var t=ea;if(t!==null)throw t}}function Ho(t,e,n,i){Md=!1;var s=t.updateQueue;Gi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(r!==null){var p=s.baseState;a=0,d=c=u=null,l=r;do{var g=l.lane&-536870913,_=g!==l.lane;if(_?(ue&g)===g:(i&g)===g){g!==0&&g===ma&&(Md=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=t,D=l;g=e;var O=n;switch(D.tag){case 1:if(I=D.payload,typeof I=="function"){p=I.call(O,p,g);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=D.payload,g=typeof I=="function"?I.call(O,p,g):I,g==null)break e;p=Ve({},p,g);break e;case 2:Gi=!0}}g=l.callback,g!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[g]:_.push(g))}else _={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=p):d=d.next=_,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;_=l,l=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),As|=a,t.lanes=a,t.memoizedState=p}}function ob(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function lb(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ob(n[t],e)}var pa=ni(null),yc=ni(0);function my(t,e){t=Ii,Ce(yc,t),Ce(pa,e),Ii=t|e.baseLanes}function jd(){Ce(yc,Ii),Ce(pa,pa.current)}function op(){Ii=yc.current,dt(pa),dt(yc)}var sn=ni(null),gn=null;function Yi(t){var e=t.alternate;Ce(Ge,Ge.current&1),Ce(sn,t),gn===null&&(e===null||pa.current!==null||e.memoizedState!==null)&&(gn=t)}function Pd(t){Ce(Ge,Ge.current),Ce(sn,t),gn===null&&(gn=t)}function ub(t){t.tag===22?(Ce(Ge,Ge.current),Ce(sn,t),gn===null&&(gn=t)):Ki()}function Ki(){Ce(Ge,Ge.current),Ce(sn,sn.current)}function Kt(t){dt(sn),gn===t&&(gn=null),dt(Ge)}var Ge=ni(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tm(n)||nm(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,ne=null,be=null,Qe=null,Ec=!1,na=!1,lr=!1,Tc=0,ul=0,ia=null,ZR=0;function qe(){throw Error(P(321))}function lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function up(t,e,n,i,s,r){return wi=r,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=t===null||t.memoizedState===null?zb:Ep,lr=!1,r=n(i,s),lr=!1,na&&(r=hb(e,n,i,s)),cb(t),r}function cb(t){W.H=cl;var e=be!==null&&be.next!==null;if(wi=0,Qe=be=ne=null,Ec=!1,ul=0,ia=null,e)throw Error(P(300));t===null||Ze||(t=t.dependencies,t!==null&&gc(t)&&(Ze=!0))}function hb(t,e,n,i){ne=t;var s=0;do{if(na&&(ia=null),ul=0,na=!1,25<=s)throw Error(P(301));if(s+=1,Qe=be=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}W.H=Bb,r=e(n,i)}while(na);return r}function eC(){var t=W.H,e=t.useState()[0];return e=typeof e.then=="function"?Ml(e):e,t=t.useState()[0],(be!==null?be.memoizedState:null)!==t&&(ne.flags|=1024),e}function cp(){var t=Tc!==0;return Tc=0,t}function hp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function fp(t){if(Ec){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ec=!1}wi=0,Qe=be=ne=null,na=!1,ul=Tc=0,ia=null}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ne.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function $e(){if(be===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Qe===null?ne.memoizedState:Qe.next;if(e!==null)Qe=e,be=t;else{if(t===null)throw ne.alternate===null?Error(P(467)):Error(P(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Qe===null?ne.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var e=ul;return ul+=1,ia===null&&(ia=[]),t=sb(ia,t,e),e=ne,(Qe===null?e.memoizedState:Qe.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?zb:Ep),t}function _h(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===pi)return Tt(t)}throw Error(P(438,String(t)))}function dp(t){var e=null,n=ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ne.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gh(),ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Uw;return e.index++,n}function Ri(t,e){return typeof e=="function"?e(t):e}function Bu(t){var e=$e();return mp(e,be,t)}function mp(t,e,n){var i=t.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,c=e,d=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ue&p)===p:(wi&p)===p){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===ma&&(d=!0);else if((wi&g)===g){c=c.next,g===ma&&(d=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=r):u=u.next=p,ne.lanes|=g,As|=g;p=c.action,lr&&n(r,p),r=c.hasEagerState?c.eagerState:n(r,p)}else g={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,ne.lanes|=p,As|=p;c=c.next}while(c!==null&&c!==e);if(u===null?a=r:u.next=l,!nn(r,t.memoizedState)&&(Ze=!0,d&&(n=ea,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function If(t){var e=$e(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);nn(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function fb(t,e,n){var i=ne,s=$e(),r=ce;if(r){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!nn((be||s).memoizedState,n);if(a&&(s.memoizedState=n,Ze=!0),s=s.queue,pp(pb.bind(null,i,s,t),[t]),s.getSnapshot!==e||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,ga(9,{destroy:void 0},mb.bind(null,i,s,n,e),null),Ae===null)throw Error(P(349));r||wi&127||db(i,e,n)}return n}function db(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e=gh(),ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mb(t,e,n,i){e.value=n,e.getSnapshot=i,gb(e)&&_b(t)}function pb(t,e,n){return n(function(){gb(e)&&_b(t)})}function gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function _b(t){var e=yr(t,2);e!==null&&Ht(e,t,2)}function kd(t){var e=Ot();if(typeof t=="function"){var n=t;if(t=n(),lr){es(!0);try{n()}finally{es(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},e}function yb(t,e,n,i){return t.baseState=n,mp(t,be,typeof i=="function"?i:Ri)}function tC(t,e,n,i,s){if(vh(t))throw Error(P(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};W.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,vb(e,r)):(r.next=n.next,e.pending=n.next=r)}}function vb(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=W.T,a={};W.T=a;try{var l=n(s,i),u=W.S;u!==null&&u(a,l),py(t,e,l)}catch(c){Ld(t,e,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),W.T=r}}else try{r=n(s,i),py(t,e,r)}catch(c){Ld(t,e,c)}}function py(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){gy(t,e,i)},function(i){return Ld(t,e,i)}):gy(t,e,n)}function gy(t,e,n){e.status="fulfilled",e.value=n,Eb(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,vb(t,n)))}function Ld(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Eb(e),e=e.next;while(e!==i)}t.action=null}function Eb(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Tb(t,e){return e}function _y(t,e){if(ce){var n=Ae.formState;if(n!==null){e:{var i=ne;if(ce){if(xe){t:{for(var s=xe,r=dn;s.nodeType!==8;){if(!r){s=null;break t}if(s=_n(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){xe=_n(s.nextSibling),i=s.data==="F!";break e}}bs(i)}i=!1}i&&(e=n[0])}}return n=Ot(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tb,lastRenderedState:e},n.queue=i,n=kb.bind(null,ne,i),i.dispatch=n,i=kd(!1),r=vp.bind(null,ne,!1,i.queue),i=Ot(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=tC.bind(null,ne,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function yy(t){var e=$e();return bb(e,be,t)}function bb(t,e,n){if(e=mp(t,e,Tb)[0],t=Bu(Ri)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ml(e)}catch(a){throw a===Ma?ph:a}else i=e;e=$e();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(ne.flags|=2048,ga(9,{destroy:void 0},nC.bind(null,s,n),null)),[i,r,t]}function nC(t,e){t.action=e}function vy(t){var e=$e(),n=be;if(n!==null)return bb(e,n,t);$e(),e=e.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ga(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ne.updateQueue,e===null&&(e=gh(),ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Sb(){return $e().memoizedState}function qu(t,e,n,i){var s=Ot();ne.flags|=t,s.memoizedState=ga(1|e,{destroy:void 0},n,i===void 0?null:i)}function yh(t,e,n,i){var s=$e();i=i===void 0?null:i;var r=s.memoizedState.inst;be!==null&&i!==null&&lp(i,be.memoizedState.deps)?s.memoizedState=ga(e,r,n,i):(ne.flags|=t,s.memoizedState=ga(1|e,r,n,i))}function Ey(t,e){qu(8390656,8,t,e)}function pp(t,e){yh(2048,8,t,e)}function iC(t){ne.flags|=4;var e=ne.updateQueue;if(e===null)e=gh(),ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Ab(t){var e=$e().memoizedState;return iC({ref:e,nextImpl:t}),function(){if(pe&2)throw Error(P(440));return e.impl.apply(void 0,arguments)}}function wb(t,e){return yh(4,2,t,e)}function Rb(t,e){return yh(4,4,t,e)}function Cb(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ib(t,e,n){n=n!=null?n.concat([t]):null,yh(4,4,Cb.bind(null,e,t),n)}function gp(){}function Nb(t,e){var n=$e();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&lp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function xb(t,e){var n=$e();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&lp(e,i[1]))return i[0];if(i=t(),lr){es(!0);try{t()}finally{es(!1)}}return n.memoizedState=[i,e],i}function _p(t,e,n){return n===void 0||wi&1073741824&&!(ue&261930)?t.memoizedState=e:(t.memoizedState=n,t=y0(),ne.lanes|=t,As|=t,n)}function Db(t,e,n,i){return nn(n,e)?n:pa.current!==null?(t=_p(t,n,i),nn(t,e)||(Ze=!0),t):!(wi&42)||wi&1073741824&&!(ue&261930)?(Ze=!0,t.memoizedState=n):(t=y0(),ne.lanes|=t,As|=t,e)}function Ob(t,e,n,i,s){var r=ge.p;ge.p=r!==0&&8>r?r:8;var a=W.T,l={};W.T=l,vp(t,!1,e,n);try{var u=s(),c=W.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=JR(u,i);Fo(t,e,d,tn(t))}else Fo(t,e,i,tn(t))}catch(p){Fo(t,e,{then:function(){},status:"rejected",reason:p},tn())}finally{ge.p=r,a!==null&&l.types!==null&&(a.types=l.types),W.T=a}}function sC(){}function Ud(t,e,n,i){if(t.tag!==5)throw Error(P(476));var s=Vb(t).queue;Ob(t,s,e,Xs,n===null?sC:function(){return Mb(t),n(i)})}function Vb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Xs,baseState:Xs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Xs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Mb(t){var e=Vb(t);e.next===null&&(e=t.alternate.memoizedState),Fo(t,e.next.queue,{},tn())}function yp(){return Tt(dl)}function jb(){return $e().memoizedState}function Pb(){return $e().memoizedState}function rC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=tn();t=ls(n);var i=us(e,t,n);i!==null&&(Ht(i,e,n),Bo(i,e,n)),e={cache:ip()},t.payload=e;return}e=e.return}}function aC(t,e,n){var i=tn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vh(t)?Lb(e,n):(n=Zm(t,e,n,i),n!==null&&(Ht(n,t,i),Ub(n,e,i)))}function kb(t,e,n){var i=tn();Fo(t,e,n,i)}function Fo(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(vh(t))Lb(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,nn(l,a))return mh(t,e,s,0),Ae===null&&dh(),!1}catch{}finally{}if(n=Zm(t,e,s,i),n!==null)return Ht(n,t,i),Ub(n,e,i),!0}return!1}function vp(t,e,n,i){if(i={lane:2,revertLane:Ip(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vh(t)){if(e)throw Error(P(479))}else e=Zm(t,n,i,2),e!==null&&Ht(e,t,2)}function vh(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Lb(t,e){na=Ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ub(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,AT(t,n)}}var cl={readContext:Tt,use:_h,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};cl.useEffectEvent=qe;var zb={readContext:Tt,use:_h,useCallback:function(t,e){return Ot().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:Ey,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,qu(4194308,4,Cb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){qu(4,2,t,e)},useMemo:function(t,e){var n=Ot();e=e===void 0?null:e;var i=t();if(lr){es(!0);try{t()}finally{es(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ot();if(n!==void 0){var s=n(e);if(lr){es(!0);try{n(e)}finally{es(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=aC.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=Ot();return t={current:t},e.memoizedState=t},useState:function(t){t=kd(t);var e=t.queue,n=kb.bind(null,ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:gp,useDeferredValue:function(t,e){var n=Ot();return _p(n,t,e)},useTransition:function(){var t=kd(!1);return t=Ob.bind(null,ne,t.queue,!0,!1),Ot().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ne,s=Ot();if(ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ae===null)throw Error(P(349));ue&127||db(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Ey(pb.bind(null,i,r,t),[t]),i.flags|=2048,ga(9,{destroy:void 0},mb.bind(null,i,r,n,e),null),n},useId:function(){var t=Ot(),e=Ae.identifierPrefix;if(ce){var n=Gn,i=Fn;n=(i&~(1<<32-en(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Tc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ZR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:yp,useFormState:_y,useActionState:_y,useOptimistic:function(t){var e=Ot();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=vp.bind(null,ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:dp,useCacheRefresh:function(){return Ot().memoizedState=rC.bind(null,ne)},useEffectEvent:function(t){var e=Ot(),n={impl:t};return e.memoizedState=n,function(){if(pe&2)throw Error(P(440));return n.impl.apply(void 0,arguments)}}},Ep={readContext:Tt,use:_h,useCallback:Nb,useContext:Tt,useEffect:pp,useImperativeHandle:Ib,useInsertionEffect:wb,useLayoutEffect:Rb,useMemo:xb,useReducer:Bu,useRef:Sb,useState:function(){return Bu(Ri)},useDebugValue:gp,useDeferredValue:function(t,e){var n=$e();return Db(n,be.memoizedState,t,e)},useTransition:function(){var t=Bu(Ri)[0],e=$e().memoizedState;return[typeof t=="boolean"?t:Ml(t),e]},useSyncExternalStore:fb,useId:jb,useHostTransitionStatus:yp,useFormState:yy,useActionState:yy,useOptimistic:function(t,e){var n=$e();return yb(n,be,t,e)},useMemoCache:dp,useCacheRefresh:Pb};Ep.useEffectEvent=Ab;var Bb={readContext:Tt,use:_h,useCallback:Nb,useContext:Tt,useEffect:pp,useImperativeHandle:Ib,useInsertionEffect:wb,useLayoutEffect:Rb,useMemo:xb,useReducer:If,useRef:Sb,useState:function(){return If(Ri)},useDebugValue:gp,useDeferredValue:function(t,e){var n=$e();return be===null?_p(n,t,e):Db(n,be.memoizedState,t,e)},useTransition:function(){var t=If(Ri)[0],e=$e().memoizedState;return[typeof t=="boolean"?t:Ml(t),e]},useSyncExternalStore:fb,useId:jb,useHostTransitionStatus:yp,useFormState:vy,useActionState:vy,useOptimistic:function(t,e){var n=$e();return be!==null?yb(n,be,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:dp,useCacheRefresh:Pb};Bb.useEffectEvent=Ab;function Nf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tn(),s=ls(i);s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(Ht(e,t,i),Bo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tn(),s=ls(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(Ht(e,t,i),Bo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),i=ls(n);i.tag=2,e!=null&&(i.callback=e),e=us(t,i,n),e!==null&&(Ht(e,t,n),Bo(e,t,n))}};function Ty(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!rl(n,i)||!rl(s,r):!0}function by(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zd.enqueueReplaceState(e,e.state,null)}function ur(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ve({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function qb(t){dc(t)}function Hb(t){console.error(t)}function Fb(t){dc(t)}function bc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Sy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Bd(t,e,n){return n=ls(n),n.tag=3,n.payload={element:null},n.callback=function(){bc(t,e)},n}function Gb(t){return t=ls(t),t.tag=3,t}function $b(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){Sy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Sy(e,n,i),typeof s!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function oC(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Va(e,n,s,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return gn===null?Cc():n.alternate===null&&He===0&&(He=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===_c?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),zf(t,i,s)),!1;case 22:return n.flags|=65536,i===_c?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),zf(t,i,s)),!1}throw Error(P(435,n.tag))}return zf(t,i,s),Cc(),!1}if(ce)return e=sn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Id&&(t=Error(P(422),{cause:i}),ol(fn(t,n)))):(i!==Id&&(e=Error(P(423),{cause:i}),ol(fn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=fn(i,n),s=Bd(t.stateNode,i,s),Cf(t,s),He!==4&&(He=2)),!1;var r=Error(P(520),{cause:i});if(r=fn(r,n),Yo===null?Yo=[r]:Yo.push(r),He!==4&&(He=2),e===null)return!0;i=fn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Bd(n.stateNode,i,t),Cf(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Gb(s),$b(s,t,n,i),Cf(n,s),!1}n=n.return}while(n!==null);return!1}var Tp=Error(P(461)),Ze=!1;function gt(t,e,n,i){e.child=t===null?ab(e,null,n,i):or(e,t.child,n,i)}function Ay(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return ar(e),i=up(t,e,n,a,r,s),l=cp(),t!==null&&!Ze?(hp(t,e,s),Ci(t,e,s)):(ce&&l&&tp(e),e.flags|=1,gt(t,e,i,s),e.child)}function wy(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!ep(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,Yb(t,e,r,i,s)):(t=Uu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!bp(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(a,i)&&t.ref===e.ref)return Ci(t,e,s)}return e.flags|=1,t=Ei(r,i),t.ref=e.ref,t.return=e,e.child=t}function Yb(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(rl(r,i)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=i=r,bp(t,s))t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,Ci(t,e,s)}return qd(t,e,n,i,s)}function Kb(t,e,n,i){var s=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,e.child=null;return Ry(t,e,r,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(e,r!==null?r.cachePool:null),r!==null?my(e,r):jd(),ub(e);else return i=e.lanes=536870912,Ry(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(zu(e,r.cachePool),my(e,r),Ki(),e.memoizedState=null):(t!==null&&zu(e,null),jd(),Ki());return gt(t,e,s,n),e.child}function Co(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ry(t,e,n,i,s){var r=sp();return r=r===null?null:{parent:Xe._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&zu(e,null),jd(),ub(e),t!==null&&Va(t,e,i,!0),e.childLanes=s,null}function Hu(t,e){return e=Sc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cy(t,e,n){return or(e,t.child,null,n),t=Hu(e,e.pendingProps),t.flags|=2,Kt(e),e.memoizedState=null,t}function lC(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ce){if(i.mode==="hidden")return t=Hu(e,i),e.lanes=536870912,Co(null,t);if(Pd(e),(t=xe)?(t=z0(t,dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},n=ZT(t),n.return=e,e.child=n,vt=e,xe=null)):t=null,t===null)throw bs(e);return e.lanes=536870912,null}return Hu(e,i)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(Pd(e),s)if(e.flags&256)e.flags&=-257,e=Cy(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(P(558));else if(Ze||Va(t,e,n,!1),s=(n&t.childLanes)!==0,Ze||s){if(i=Ae,i!==null&&(a=wT(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,yr(t,a),Ht(i,t,a),Tp;Cc(),e=Cy(t,e,n)}else t=r.treeContext,xe=_n(a.nextSibling),vt=e,ce=!0,os=null,dn=!1,t!==null&&tb(e,t),e=Hu(e,i),e.flags|=4096;return e}return t=Ei(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Fu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function qd(t,e,n,i,s){return ar(e),n=up(t,e,n,i,void 0,s),i=cp(),t!==null&&!Ze?(hp(t,e,s),Ci(t,e,s)):(ce&&i&&tp(e),e.flags|=1,gt(t,e,n,s),e.child)}function Iy(t,e,n,i,s,r){return ar(e),e.updateQueue=null,n=hb(e,i,n,s),cb(t),i=cp(),t!==null&&!Ze?(hp(t,e,r),Ci(t,e,r)):(ce&&i&&tp(e),e.flags|=1,gt(t,e,n,r),e.child)}function Ny(t,e,n,i,s){if(ar(e),e.stateNode===null){var r=$r,a=n.contextType;typeof a=="object"&&a!==null&&(r=Tt(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=zd,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},ap(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Tt(a):$r,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Nf(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&zd.enqueueReplaceState(r,r.state,null),Ho(e,i,r,s),qo(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=ur(n,l);r.props=u;var c=r.context,d=n.contextType;a=$r,typeof d=="object"&&d!==null&&(a=Tt(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||c!==a)&&by(e,r,i,a),Gi=!1;var g=e.memoizedState;r.state=g,Ho(e,i,r,s),qo(),c=e.memoizedState,l||g!==c||Gi?(typeof p=="function"&&(Nf(e,n,p,i),c=e.memoizedState),(u=Gi||Ty(e,n,u,i,g,c,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Vd(t,e),a=e.memoizedProps,d=ur(n,a),r.props=d,p=e.pendingProps,g=r.context,c=n.contextType,u=$r,typeof c=="object"&&c!==null&&(u=Tt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==p||g!==u)&&by(e,r,i,u),Gi=!1,g=e.memoizedState,r.state=g,Ho(e,i,r,s),qo();var _=e.memoizedState;a!==p||g!==_||Gi||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof l=="function"&&(Nf(e,n,l,i),_=e.memoizedState),(d=Gi||Ty(e,n,d,i,g,_,u)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),r.props=i,r.state=_,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,Fu(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=or(e,t.child,null,s),e.child=or(e,null,n,s)):gt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=Ci(t,e,s),t}function xy(t,e,n,i){return rr(),e.flags|=256,gt(t,e,n,i),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:ib()}}function Of(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Wt),t}function Qb(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(Ge.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ce){if(s?Yi(e):Ki(),(t=xe)?(t=z0(t,dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},n=ZT(t),n.return=e,e.child=n,vt=e,xe=null)):t=null,t===null)throw bs(e);return nm(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Ki(),s=e.mode,l=Sc({mode:"hidden",children:l},s),i=Js(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=Df(n),i.childLanes=Of(t,a,n),e.memoizedState=xf,Co(null,i)):(Yi(e),Hd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(Yi(e),e.flags&=-257,e=Vf(t,e,n)):e.memoizedState!==null?(Ki(),e.child=t.child,e.flags|=128,e=null):(Ki(),l=i.fallback,s=e.mode,i=Sc({mode:"visible",children:i.children},s),l=Js(l,s,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,or(e,t.child,null,n),i=e.child,i.memoizedState=Df(n),i.childLanes=Of(t,a,n),e.memoizedState=xf,e=Co(null,i));else if(Yi(e),nm(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(P(419)),i.stack="",i.digest=a,ol({value:i,source:null,stack:null}),e=Vf(t,e,n)}else if(Ze||Va(t,e,n,!1),a=(n&t.childLanes)!==0,Ze||a){if(a=Ae,a!==null&&(i=wT(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,yr(t,i),Ht(a,t,i),Tp;tm(l)||Cc(),e=Vf(t,e,n)}else tm(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,xe=_n(l.nextSibling),vt=e,ce=!0,os=null,dn=!1,t!==null&&tb(e,t),e=Hd(e,i.children),e.flags|=4096);return e}return s?(Ki(),l=i.fallback,s=e.mode,u=t.child,c=u.sibling,i=Ei(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Ei(c,l):(l=Js(l,s,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Co(null,i),i=e.child,l=t.child.memoizedState,l===null?l=Df(n):(s=l.cachePool,s!==null?(u=Xe._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=ib(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Of(t,a,n),e.memoizedState=xf,Co(t.child,i)):(Yi(e),n=t.child,t=n.sibling,n=Ei(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Hd(t,e){return e=Sc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Sc(t,e){return t=Qt(22,t,null,e),t.lanes=0,t}function Vf(t,e,n){return or(e,t.child,null,n),t=Hd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),xd(t.return,e,n)}function Mf(t,e,n,i,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function Wb(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Ge.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Ce(Ge,a),gt(t,e,i,n),i=ce?al:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,n,e);else if(t.tag===19)Dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mf(e,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mf(e,!0,n,null,r,i);break;case"together":Mf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))if(t!==null){if(Va(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function uC(t,e,n){switch(e.tag){case 3:uc(e,e.stateNode.containerInfo),$i(e,Xe,t.memoizedState.cache),rr();break;case 27:case 5:_d(e);break;case 4:uc(e,e.stateNode.containerInfo);break;case 10:$i(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Pd(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Yi(e),e.flags|=128,null):n&e.child.childLanes?Qb(t,e,n):(Yi(e),t=Ci(t,e,n),t!==null?t.sibling:null);Yi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Va(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return Wb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ge,Ge.current),i)break;return null;case 22:return e.lanes=0,Kb(t,e,n,e.pendingProps);case 24:$i(e,Xe,t.memoizedState.cache)}return Ci(t,e,n)}function Xb(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ze=!0;else{if(!bp(t,n)&&!(e.flags&128))return Ze=!1,uC(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,ce&&e.flags&1048576&&eb(e,al,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Ys(e.elementType),e.type=t,typeof t=="function")ep(t)?(i=ur(t,i),e.tag=1,e=Ny(null,e,t,i,n)):(e.tag=0,e=qd(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===zm){e.tag=11,e=Ay(null,e,t,i,n);break e}else if(s===Bm){e.tag=14,e=wy(null,e,t,i,n);break e}}throw e=pd(t)||t,Error(P(306,e,""))}}return e;case 0:return qd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=ur(i,e.pendingProps),Ny(t,e,i,s,n);case 3:e:{if(uc(e,e.stateNode.containerInfo),t===null)throw Error(P(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,Vd(t,e),Ho(e,i,null,n);var a=e.memoizedState;if(i=a.cache,$i(e,Xe,i),i!==r.cache&&Dd(e,[Xe],n,!0),qo(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=xy(t,e,i,n);break e}else if(i!==s){s=fn(Error(P(424)),e),ol(s),e=xy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xe=_n(t.firstChild),vt=e,ce=!0,os=null,dn=!0,n=ab(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rr(),i===s){e=Ci(t,e,n);break e}gt(t,e,i,n)}e=e.child}return e;case 26:return Fu(t,e),t===null?(n=Xy(e.type,null,e.pendingProps,null))?e.memoizedState=n:ce||(n=e.type,t=e.pendingProps,i=Dc(as.current).createElement(n),i[yt]=e,i[Ft]=t,bt(i,n,t),ft(i),e.stateNode=i):e.memoizedState=Xy(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return _d(e),t===null&&ce&&(i=e.stateNode=B0(e.type,e.pendingProps,as.current),vt=e,dn=!0,s=xe,Vs(e.type)?(im=s,xe=_n(i.firstChild)):xe=s),gt(t,e,e.pendingProps.children,n),Fu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ce&&((s=i=xe)&&(i=UC(i,e.type,e.pendingProps,dn),i!==null?(e.stateNode=i,vt=e,xe=_n(i.firstChild),dn=!1,s=!0):s=!1),s||bs(e)),_d(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,Zd(s,r)?i=null:a!==null&&Zd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=up(t,e,eC,null,null,n),dl._currentValue=s),Fu(t,e),gt(t,e,i,n),e.child;case 6:return t===null&&ce&&((t=n=xe)&&(n=zC(n,e.pendingProps,dn),n!==null?(e.stateNode=n,vt=e,xe=null,t=!0):t=!1),t||bs(e)),null;case 13:return Qb(t,e,n);case 4:return uc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=or(e,null,i,n):gt(t,e,i,n),e.child;case 11:return Ay(t,e,e.type,e.pendingProps,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,$i(e,e.type,i.value),gt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,ar(e),s=Tt(s),i=i(s),e.flags|=1,gt(t,e,i,n),e.child;case 14:return wy(t,e,e.type,e.pendingProps,n);case 15:return Yb(t,e,e.type,e.pendingProps,n);case 19:return Wb(t,e,n);case 31:return lC(t,e,n);case 22:return Kb(t,e,n,e.pendingProps);case 24:return ar(e),i=Tt(Xe),t===null?(s=sp(),s===null&&(s=Ae,r=ip(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},ap(e),$i(e,Xe,s)):(t.lanes&n&&(Vd(t,e),Ho(e,null,null,n),qo()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),$i(e,Xe,i)):(i=r.cache,$i(e,Xe,i),i!==s.cache&&Dd(e,[Xe],n,!0))),gt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}function li(t){t.flags|=4}function jf(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(T0())t.flags|=8192;else throw er=_c,rp}else t.flags&=-16777217}function Oy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!F0(e))if(T0())t.flags|=8192;else throw er=_c,rp}function Tu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?bT():536870912,t.lanes|=e,_a|=e)}function vo(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cC(t,e,n){var i=e.pendingProps;switch(np(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ne(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ti(Xe),ha(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nr(e)?li(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rf())),Ne(e),null;case 26:var s=e.type,r=e.memoizedState;return t===null?(li(e),r!==null?(Ne(e),Oy(e,r)):(Ne(e),jf(e,s,null,i,n))):r?r!==t.memoizedState?(li(e),Ne(e),Oy(e,r)):(Ne(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&li(e),Ne(e),jf(e,s,t,i,n)),null;case 27:if(cc(e),n=as.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&li(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ne(e),null}t=Yn.current,Nr(e)?oy(e):(t=B0(s,i,n),e.stateNode=t,li(e))}return Ne(e),null;case 5:if(cc(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&li(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ne(e),null}if(r=Yn.current,Nr(e))oy(e);else{var a=Dc(as.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[yt]=e,r[Ft]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(bt(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&li(e)}}return Ne(e),jf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&li(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(t=as.current,Nr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=vt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[yt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||k0(t.nodeValue,n)),t||bs(e,!0)}else t=Dc(t).createTextNode(i),t[yt]=e,e.stateNode=t}return Ne(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Nr(e),n!==null){if(t===null){if(!i)throw Error(P(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(557));t[yt]=e}else rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),t=!1}else n=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Kt(e),e):(Kt(e),null);if(e.flags&128)throw Error(P(558))}return Ne(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Nr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[yt]=e}else rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),s=!1}else s=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Kt(e),e):(Kt(e),null)}return Kt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Tu(e,e.updateQueue),Ne(e),null);case 4:return ha(),t===null&&Np(e.stateNode.containerInfo),Ne(e),null;case 10:return Ti(e.type),Ne(e),null;case 19:if(dt(Ge),i=e.memoizedState,i===null)return Ne(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)vo(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=vc(t),r!==null){for(e.flags|=128,vo(i,!1),t=r.updateQueue,e.updateQueue=t,Tu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)JT(n,t),n=n.sibling;return Ce(Ge,Ge.current&1|2),ce&&di(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Jt()>wc&&(e.flags|=128,s=!0,vo(i,!1),e.lanes=4194304)}else{if(!s)if(t=vc(r),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Tu(e,t),vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ce)return Ne(e),null}else 2*Jt()-i.renderingStartTime>wc&&n!==536870912&&(e.flags|=128,s=!0,vo(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Jt(),t.sibling=null,n=Ge.current,Ce(Ge,s?n&1|2:n&1),ce&&di(e,i.treeForkCount),t):(Ne(e),null);case 22:case 23:return Kt(e),op(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),n=e.updateQueue,n!==null&&Tu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&dt(Zs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ti(Xe),Ne(e),null;case 25:return null;case 30:return null}throw Error(P(156,e.tag))}function hC(t,e){switch(np(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ti(Xe),ha(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return cc(e),null;case 31:if(e.memoizedState!==null){if(Kt(e),e.alternate===null)throw Error(P(340));rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Kt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Ge),null;case 4:return ha(),null;case 10:return Ti(e.type),null;case 22:case 23:return Kt(e),op(),t!==null&&dt(Zs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ti(Xe),null;case 25:return null;default:return null}}function Jb(t,e){switch(np(e),e.tag){case 3:Ti(Xe),ha();break;case 26:case 27:case 5:cc(e);break;case 4:ha();break;case 31:e.memoizedState!==null&&Kt(e);break;case 13:Kt(e);break;case 19:dt(Ge);break;case 10:Ti(e.type);break;case 22:case 23:Kt(e),op(),t!==null&&dt(Zs);break;case 24:Ti(Xe)}}function jl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){ve(e,e.return,l)}}function Ss(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,c=l;try{c()}catch(d){ve(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){ve(e,e.return,d)}}function Zb(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{lb(e,n)}catch(i){ve(t,t.return,i)}}}function e0(t,e,n){n.props=ur(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ve(t,e,i)}}function Go(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){ve(t,e,s)}}function $n(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ve(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ve(t,e,s)}else n.current=null}function t0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ve(t,t.return,s)}}function Pf(t,e,n){try{var i=t.stateNode;VC(i,t.type,n,e),i[Ft]=e}catch(s){ve(t,t.return,s)}}function n0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vs(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gi));else if(i!==4&&(i===27&&Vs(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Fd(t,e,n),t=t.sibling;t!==null;)Fd(t,e,n),t=t.sibling}function Ac(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Vs(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ac(t,e,n),t=t.sibling;t!==null;)Ac(t,e,n),t=t.sibling}function i0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);bt(e,i,n),e[yt]=t,e[Ft]=n}catch(r){ve(t,t.return,r)}}var mi=!1,We=!1,Lf=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,ht=null;function fC(t,e){if(t=t.containerInfo,Xd=jc,t=FT(t),Xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,p=t,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==r||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++c===s&&(l=a),g===r&&++d===i&&(u=a),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jd={focusedElem:t,selectionRange:n},jc=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){switch(e=ht,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var I=ur(n.type,s);t=i.getSnapshotBeforeUpdate(I,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){ve(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)em(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}}function s0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n),i&4&&jl(5,n);break;case 1:if(ci(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ve(n,n.return,a)}else{var s=ur(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ve(n,n.return,a)}}i&64&&Zb(n),i&512&&Go(n,n.return);break;case 3:if(ci(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{lb(t,e)}catch(a){ve(n,n.return,a)}}break;case 27:e===null&&i&4&&i0(n);case 26:case 5:ci(t,n),e===null&&i&4&&t0(n),i&512&&Go(n,n.return);break;case 12:ci(t,n);break;case 31:ci(t,n),i&4&&o0(t,n);break;case 13:ci(t,n),i&4&&l0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=TC.bind(null,n),BC(t,n))));break;case 22:if(i=n.memoizedState!==null||mi,!i){e=e!==null&&e.memoizedState!==null||We,s=mi;var r=We;mi=i,(We=e)&&!r?fi(t,n,(n.subtreeFlags&8772)!==0):ci(t,n),mi=s,We=r}break;case 30:break;default:ci(t,n)}}function r0(t){var e=t.alternate;e!==null&&(t.alternate=null,r0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Gm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,Ut=!1;function ui(t,e,n){for(n=n.child;n!==null;)a0(t,e,n),n=n.sibling}function a0(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Il,n)}catch{}switch(n.tag){case 26:We||$n(n,e),ui(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||$n(n,e);var i=Pe,s=Ut;Vs(n.type)&&(Pe=n.stateNode,Ut=!1),ui(t,e,n),Qo(n.stateNode),Pe=i,Ut=s;break;case 5:We||$n(n,e);case 6:if(i=Pe,s=Ut,Pe=null,ui(t,e,n),Pe=i,Ut=s,Pe!==null)if(Ut)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(r){ve(n,e,r)}else try{Pe.removeChild(n.stateNode)}catch(r){ve(n,e,r)}break;case 18:Pe!==null&&(Ut?(t=Pe,$y(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ta(t)):$y(Pe,n.stateNode));break;case 4:i=Pe,s=Ut,Pe=n.stateNode.containerInfo,Ut=!0,ui(t,e,n),Pe=i,Ut=s;break;case 0:case 11:case 14:case 15:Ss(2,n,e),We||Ss(4,n,e),ui(t,e,n);break;case 1:We||($n(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&e0(n,e,i)),ui(t,e,n);break;case 21:ui(t,e,n);break;case 22:We=(i=We)||n.memoizedState!==null,ui(t,e,n),We=i;break;default:ui(t,e,n)}}function o0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ta(t)}catch(n){ve(e,e.return,n)}}}function l0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ta(t)}catch(n){ve(e,e.return,n)}}function dC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Vy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Vy),e;default:throw Error(P(435,t.tag))}}function bu(t,e){var n=dC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=bC.bind(null,t,i);i.then(s,s)}})}function Pt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Vs(l.type)){Pe=l.stateNode,Ut=!1;break e}break;case 5:Pe=l.stateNode,Ut=!1;break e;case 3:case 4:Pe=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Pe===null)throw Error(P(160));a0(r,a,s),Pe=null,Ut=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)u0(e,t),e=e.sibling}var An=null;function u0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pt(e,t),kt(t),i&4&&(Ss(3,t,t.return),jl(3,t),Ss(5,t,t.return));break;case 1:Pt(e,t),kt(t),i&512&&(We||n===null||$n(n,n.return)),i&64&&mi&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=An;if(Pt(e,t),kt(t),i&512&&(We||n===null||$n(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Dl]||r[yt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),bt(r,i,n),r[yt]=t,ft(r),i=r;break e;case"link":var a=Zy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),bt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Zy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),bt(r,i,n),s.head.appendChild(r);break;default:throw Error(P(468,i))}r[yt]=t,ft(r),i=r}t.stateNode=i}else ev(s,t.type,t.stateNode);else t.stateNode=Jy(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?ev(s,t.type,t.stateNode):Jy(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Pt(e,t),kt(t),i&512&&(We||n===null||$n(n,n.return)),n!==null&&i&4&&Pf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Pt(e,t),kt(t),i&512&&(We||n===null||$n(n,n.return)),t.flags&32){s=t.stateNode;try{da(s,"")}catch(I){ve(t,t.return,I)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Pf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Lf=!0);break;case 6:if(Pt(e,t),kt(t),i&4){if(t.stateNode===null)throw Error(P(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(I){ve(t,t.return,I)}}break;case 3:if(Yu=null,s=An,An=Oc(e.containerInfo),Pt(e,t),An=s,kt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(I){ve(t,t.return,I)}Lf&&(Lf=!1,c0(t));break;case 4:i=An,An=Oc(t.stateNode.containerInfo),Pt(e,t),kt(t),An=i;break;case 12:Pt(e,t),kt(t);break;case 31:Pt(e,t),kt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bu(t,i)));break;case 13:Pt(e,t),kt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Eh=Jt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bu(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=mi,d=We;if(mi=c||s,We=d||u,Pt(e,t),We=d,mi=c,kt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||mi||We||Ks(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){ve(u,u.return,I)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(I){ve(u,u.return,I)}}}else if(e.tag===18){if(n===null){u=e;try{var _=u.stateNode;s?Yy(_,!0):Yy(u.stateNode,!1)}catch(I){ve(u,u.return,I)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,bu(t,n))));break;case 19:Pt(e,t),kt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bu(t,i)));break;case 30:break;case 21:break;default:Pt(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(n0(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var s=n.stateNode,r=kf(t);Ac(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(da(a,""),n.flags&=-33);var l=kf(t);Ac(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=kf(t);Fd(t,c,u);break;default:throw Error(P(161))}}catch(d){ve(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;c0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ci(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)s0(t,e.alternate,e),e=e.sibling}function Ks(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ss(4,e,e.return),Ks(e);break;case 1:$n(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&e0(e,e.return,n),Ks(e);break;case 27:Qo(e.stateNode);case 26:case 5:$n(e,e.return),Ks(e);break;case 22:e.memoizedState===null&&Ks(e);break;case 30:Ks(e);break;default:Ks(e)}t=t.sibling}}function fi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:fi(s,r,n),jl(4,r);break;case 1:if(fi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){ve(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)ob(u[s],l)}catch(c){ve(i,i.return,c)}}n&&a&64&&Zb(r),Go(r,r.return);break;case 27:i0(r);case 26:case 5:fi(s,r,n),n&&i===null&&a&4&&t0(r),Go(r,r.return);break;case 12:fi(s,r,n);break;case 31:fi(s,r,n),n&&a&4&&o0(s,r);break;case 13:fi(s,r,n),n&&a&4&&l0(s,r);break;case 22:r.memoizedState===null&&fi(s,r,n),Go(r,r.return);break;case 30:break;default:fi(s,r,n)}e=e.sibling}}function Sp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Vl(n))}function Ap(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vl(t))}function En(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)h0(t,e,n,i),e=e.sibling}function h0(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:En(t,e,n,i),s&2048&&jl(9,e);break;case 1:En(t,e,n,i);break;case 3:En(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vl(t)));break;case 12:if(s&2048){En(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ve(e,e.return,u)}}else En(t,e,n,i);break;case 31:En(t,e,n,i);break;case 13:En(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?En(t,e,n,i):$o(t,e):r._visibility&2?En(t,e,n,i):(r._visibility|=2,Or(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Sp(a,e);break;case 24:En(t,e,n,i),s&2048&&Ap(e.alternate,e);break;default:En(t,e,n,i)}}function Or(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Or(r,a,l,u,s),jl(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Or(r,a,l,u,s):$o(r,a):(d._visibility|=2,Or(r,a,l,u,s)),s&&c&2048&&Sp(a.alternate,a);break;case 24:Or(r,a,l,u,s),s&&c&2048&&Ap(a.alternate,a);break;default:Or(r,a,l,u,s)}e=e.sibling}}function $o(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:$o(n,i),s&2048&&Sp(i.alternate,i);break;case 24:$o(n,i),s&2048&&Ap(i.alternate,i);break;default:$o(n,i)}e=e.sibling}}var Io=8192;function xr(t,e,n){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)f0(t,e,n),t=t.sibling}function f0(t,e,n){switch(t.tag){case 26:xr(t,e,n),t.flags&Io&&t.memoizedState!==null&&ZC(n,An,t.memoizedState,t.memoizedProps);break;case 5:xr(t,e,n);break;case 3:case 4:var i=An;An=Oc(t.stateNode.containerInfo),xr(t,e,n),An=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Io,Io=16777216,xr(t,e,n),Io=i):xr(t,e,n));break;default:xr(t,e,n)}}function d0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Eo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ht=i,p0(i,t)}d0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m0(t),t=t.sibling}function m0(t){switch(t.tag){case 0:case 11:case 15:Eo(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Eo(t);break;case 12:Eo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Gu(t)):Eo(t);break;default:Eo(t)}}function Gu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ht=i,p0(i,t)}d0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ss(8,e,e.return),Gu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Gu(e));break;default:Gu(e)}t=t.sibling}}function p0(t,e){for(;ht!==null;){var n=ht;switch(n.tag){case 0:case 11:case 15:Ss(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Vl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ht=i;else e:for(n=t;ht!==null;){i=ht;var s=i.sibling,r=i.return;if(r0(i),i===n){ht=null;break e}if(s!==null){s.return=r,ht=s;break e}ht=r}}}var mC={getCacheForType:function(t){var e=Tt(Xe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Tt(Xe).controller.signal}},pC=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ae=null,re=null,ue=0,ye=0,Yt=null,ns=!1,ja=!1,wp=!1,Ii=0,He=0,As=0,tr=0,Rp=0,Wt=0,_a=0,Yo=null,zt=null,Gd=!1,Eh=0,g0=0,wc=1/0,Rc=null,cs=null,st=0,hs=null,ya=null,bi=0,$d=0,Yd=null,_0=null,Ko=0,Kd=null;function tn(){return pe&2&&ue!==0?ue&-ue:W.T!==null?Ip():RT()}function y0(){if(Wt===0)if(!(ue&536870912)||ce){var t=mu;mu<<=1,!(mu&3932160)&&(mu=262144),Wt=t}else Wt=536870912;return t=sn.current,t!==null&&(t.flags|=32),Wt}function Ht(t,e,n){(t===Ae&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(va(t,0),is(t,ue,Wt,!1)),xl(t,n),(!(pe&2)||t!==Ae)&&(t===Ae&&(!(pe&2)&&(tr|=n),He===4&&is(t,ue,Wt,!1)),ii(t))}function v0(t,e,n){if(pe&6)throw Error(P(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Nl(t,e),s=i?yC(t,e):Uf(t,e,!0),r=i;do{if(s===0){ja&&!i&&is(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!gC(n)){s=Uf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=Yo;var u=l.current.memoizedState.isDehydrated;if(u&&(va(l,a).flags|=256),a=Uf(l,a,!1),a!==2){if(wp&&!u){l.errorRecoveryDisabledLanes|=r,tr|=r,s=4;break e}r=zt,zt=s,r!==null&&(zt===null?zt=r:zt.push.apply(zt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){va(t,0),is(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(P(345));case 4:if((e&4194048)!==e)break;case 6:is(i,e,Wt,!ns);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(P(329))}if((e&62914560)===e&&(s=Eh+300-Jt(),10<s)){if(is(i,e,Wt,!ns),uh(i,0,!0)!==0)break e;bi=e,i.timeoutHandle=U0(My.bind(null,i,n,zt,Rc,Gd,e,Wt,tr,_a,ns,r,"Throttled",-0,0),s);break e}My(i,n,zt,Rc,Gd,e,Wt,tr,_a,ns,r,null,-0,0)}}break}while(!0);ii(t)}function My(t,e,n,i,s,r,a,l,u,c,d,p,g,_){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},f0(e,r,p);var I=(r&62914560)===r?Eh-Jt():(r&4194048)===r?g0-Jt():0;if(I=eI(p,I),I!==null){bi=r,t.cancelPendingCommit=I(Py.bind(null,t,e,r,n,i,s,a,l,u,d,p,null,g,_)),is(t,r,a,!c);return}}Py(t,e,r,n,i,s,a,l,u)}function gC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!nn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e,n,i){e&=~Rp,e&=~tr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-en(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&ST(t,n,e)}function Th(){return pe&6?!0:(Pl(0),!1)}function Cp(){if(re!==null){if(ye===0)var t=re.return;else t=re,_i=vr=null,fp(t),ta=null,ll=0,t=re;for(;t!==null;)Jb(t.alternate,t),t=t.return;re=null}}function va(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,PC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),bi=0,Cp(),Ae=t,re=n=Ei(t.current,null),ue=e,ye=0,Yt=null,ns=!1,ja=Nl(t,e),wp=!1,_a=Wt=Rp=tr=As=He=0,zt=Yo=null,Gd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-en(i),r=1<<s;e|=t[s],i&=~r}return Ii=e,dh(),n}function E0(t,e){ne=null,W.H=cl,e===Ma||e===ph?(e=fy(),ye=3):e===rp?(e=fy(),ye=4):ye=e===Tp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Yt=e,re===null&&(He=1,bc(t,fn(e,t.current)))}function T0(){var t=sn.current;return t===null?!0:(ue&4194048)===ue?gn===null:(ue&62914560)===ue||ue&536870912?t===gn:!1}function b0(){var t=W.H;return W.H=cl,t===null?cl:t}function S0(){var t=W.A;return W.A=mC,t}function Cc(){He=4,ns||(ue&4194048)!==ue&&sn.current!==null||(ja=!0),!(As&134217727)&&!(tr&134217727)||Ae===null||is(Ae,ue,Wt,!1)}function Uf(t,e,n){var i=pe;pe|=2;var s=b0(),r=S0();(Ae!==t||ue!==e)&&(Rc=null,va(t,e)),e=!1;var a=He;e:do try{if(ye!==0&&re!==null){var l=re,u=Yt;switch(ye){case 8:Cp(),a=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(e=!0);var c=ye;if(ye=0,Yt=null,Qr(t,l,u,c),n&&ja){a=0;break e}break;default:c=ye,ye=0,Yt=null,Qr(t,l,u,c)}}_C(),a=He;break}catch(d){E0(t,d)}while(!0);return e&&t.shellSuspendCounter++,_i=vr=null,pe=i,W.H=s,W.A=r,re===null&&(Ae=null,ue=0,dh()),a}function _C(){for(;re!==null;)A0(re)}function yC(t,e){var n=pe;pe|=2;var i=b0(),s=S0();Ae!==t||ue!==e?(Rc=null,wc=Jt()+500,va(t,e)):ja=Nl(t,e);e:do try{if(ye!==0&&re!==null){e=re;var r=Yt;t:switch(ye){case 1:ye=0,Yt=null,Qr(t,e,r,1);break;case 2:case 9:if(hy(r)){ye=0,Yt=null,jy(e);break}e=function(){ye!==2&&ye!==9||Ae!==t||(ye=7),ii(t)},r.then(e,e);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:hy(r)?(ye=0,Yt=null,jy(e)):(ye=0,Yt=null,Qr(t,e,r,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(a?F0(a):l.stateNode.complete){ye=0,Yt=null;var u=l.sibling;if(u!==null)re=u;else{var c=l.return;c!==null?(re=c,bh(c)):re=null}break t}}ye=0,Yt=null,Qr(t,e,r,5);break;case 6:ye=0,Yt=null,Qr(t,e,r,6);break;case 8:Cp(),He=6;break e;default:throw Error(P(462))}}vC();break}catch(d){E0(t,d)}while(!0);return _i=vr=null,W.H=i,W.A=s,pe=n,re!==null?0:(Ae=null,ue=0,dh(),He)}function vC(){for(;re!==null&&!qw();)A0(re)}function A0(t){var e=Xb(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,e===null?bh(t):re=e}function jy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Iy(n,e,e.pendingProps,e.type,void 0,ue);break;case 11:e=Iy(n,e,e.pendingProps,e.type.render,e.ref,ue);break;case 5:fp(e);default:Jb(n,e),e=re=JT(e,Ii),e=Xb(n,e,Ii)}t.memoizedProps=t.pendingProps,e===null?bh(t):re=e}function Qr(t,e,n,i){_i=vr=null,fp(e),ta=null,ll=0;var s=e.return;try{if(oC(t,s,e,n,ue)){He=1,bc(t,fn(n,t.current)),re=null;return}}catch(r){if(s!==null)throw re=s,r;He=1,bc(t,fn(n,t.current)),re=null;return}e.flags&32768?(ce||i===1?t=!0:ja||ue&536870912?t=!1:(ns=t=!0,(i===2||i===9||i===3||i===6)&&(i=sn.current,i!==null&&i.tag===13&&(i.flags|=16384))),w0(e,t)):bh(e)}function bh(t){var e=t;do{if(e.flags&32768){w0(e,ns);return}t=e.return;var n=cC(e.alternate,e,Ii);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);He===0&&(He=5)}function w0(t,e){do{var n=hC(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);He=6,re=null}function Py(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do Sh();while(st!==0);if(pe&6)throw Error(P(327));if(e!==null){if(e===t.current)throw Error(P(177));if(r=e.lanes|e.childLanes,r|=Jm,Jw(t,n,r,a,l,u),t===Ae&&(re=Ae=null,ue=0),ya=e,hs=t,bi=n,$d=r,Yd=s,_0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,SC(hc,function(){return x0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,s=ge.p,ge.p=2,a=pe,pe|=4;try{fC(t,e,n)}finally{pe=a,ge.p=s,W.T=i}}st=1,R0(),C0(),I0()}}function R0(){if(st===1){st=0;var t=hs,e=ya,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=W.T,W.T=null;var i=ge.p;ge.p=2;var s=pe;pe|=4;try{u0(e,t);var r=Jd,a=FT(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&HT(l.ownerDocument.documentElement,l)){if(u!==null&&Xm(l)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var _=g.getSelection(),I=l.textContent.length,D=Math.min(u.start,I),O=u.end===void 0?D:Math.min(u.end,I);!_.extend&&D>O&&(a=O,O=D,D=a);var S=sy(l,D),E=sy(l,O);if(S&&E&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var A=p.createRange();A.setStart(S.node,S.offset),_.removeAllRanges(),D>O?(_.addRange(A),_.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),_.addRange(A))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var x=p[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}jc=!!Xd,Jd=Xd=null}finally{pe=s,ge.p=i,W.T=n}}t.current=e,st=2}}function C0(){if(st===2){st=0;var t=hs,e=ya,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=W.T,W.T=null;var i=ge.p;ge.p=2;var s=pe;pe|=4;try{s0(t,e.alternate,e)}finally{pe=s,ge.p=i,W.T=n}}st=3}}function I0(){if(st===4||st===3){st=0,Hw();var t=hs,e=ya,n=bi,i=_0;e.subtreeFlags&10256||e.flags&10256?st=5:(st=0,ya=hs=null,N0(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(cs=null),Fm(n),e=e.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,s=ge.p,ge.p=2,W.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{W.T=e,ge.p=s}}bi&3&&Sh(),ii(t),s=t.pendingLanes,n&261930&&s&42?t===Kd?Ko++:(Ko=0,Kd=t):Ko=0,Pl(0)}}function N0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Vl(e)))}function Sh(){return R0(),C0(),I0(),x0()}function x0(){if(st!==5)return!1;var t=hs,e=$d;$d=0;var n=Fm(bi),i=W.T,s=ge.p;try{ge.p=32>n?32:n,W.T=null,n=Yd,Yd=null;var r=hs,a=bi;if(st=0,ya=hs=null,bi=0,pe&6)throw Error(P(331));var l=pe;if(pe|=4,m0(r.current),h0(r,r.current,a,n),pe=l,Pl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Il,r)}catch{}return!0}finally{ge.p=s,W.T=i,N0(t,e)}}function ky(t,e,n){e=fn(n,e),e=Bd(t.stateNode,e,2),t=us(t,e,2),t!==null&&(xl(t,2),ii(t))}function ve(t,e,n){if(t.tag===3)ky(t,t,n);else for(;e!==null;){if(e.tag===3){ky(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cs===null||!cs.has(i))){t=fn(n,t),n=Gb(2),i=us(e,n,2),i!==null&&($b(n,i,e,t),xl(i,2),ii(i));break}}e=e.return}}function zf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new pC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(wp=!0,s.add(n),t=EC.bind(null,t,e,n),e.then(t,t))}function EC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ae===t&&(ue&n)===n&&(He===4||He===3&&(ue&62914560)===ue&&300>Jt()-Eh?!(pe&2)&&va(t,0):Rp|=n,_a===ue&&(_a=0)),ii(t)}function D0(t,e){e===0&&(e=bT()),t=yr(t,e),t!==null&&(xl(t,e),ii(t))}function TC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D0(t,n)}function bC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(e),D0(t,n)}function SC(t,e){return qm(t,e)}var Ic=null,Vr=null,Qd=!1,Nc=!1,Bf=!1,ss=0;function ii(t){t!==Vr&&t.next===null&&(Vr===null?Ic=Vr=t:Vr=Vr.next=t),Nc=!0,Qd||(Qd=!0,wC())}function Pl(t,e){if(!Bf&&Nc){Bf=!0;do for(var n=!1,i=Ic;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-en(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Ly(i,r))}else r=ue,r=uh(i,i===Ae?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Nl(i,r)||(n=!0,Ly(i,r));i=i.next}while(n);Bf=!1}}function AC(){O0()}function O0(){Nc=Qd=!1;var t=0;ss!==0&&jC()&&(t=ss);for(var e=Jt(),n=null,i=Ic;i!==null;){var s=i.next,r=V0(i,e);r===0?(i.next=null,n===null?Ic=s:n.next=s,s===null&&(Vr=n)):(n=i,(t!==0||r&3)&&(Nc=!0)),i=s}st!==0&&st!==5||Pl(t),ss!==0&&(ss=0)}function V0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-en(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=Xw(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=Ae,n=ue,n=uh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&pf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Nl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&pf(i),Fm(n)){case 2:case 8:n=ET;break;case 32:n=hc;break;case 268435456:n=TT;break;default:n=hc}return i=M0.bind(null,t),n=qm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&pf(i),t.callbackPriority=2,t.callbackNode=null,2}function M0(t,e){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Sh()&&t.callbackNode!==n)return null;var i=ue;return i=uh(t,t===Ae?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(v0(t,i,e),V0(t,Jt()),t.callbackNode!=null&&t.callbackNode===n?M0.bind(null,t):null)}function Ly(t,e){if(Sh())return null;v0(t,e,!0)}function wC(){kC(function(){pe&6?qm(vT,AC):O0()})}function Ip(){if(ss===0){var t=ma;t===0&&(t=du,du<<=1,!(du&261888)&&(du=256)),ss=t}return ss}function Uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pu(""+t)}function zy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function RC(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=Uy((s[Ft]||null).action),a=i.submitter;a&&(e=(e=a[Ft]||null)?Uy(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new ch("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ss!==0){var u=a?zy(s,a):new FormData(s);Ud(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?zy(s,a):new FormData(s),Ud(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var qf=0;qf<Cd.length;qf++){var Hf=Cd[qf],CC=Hf.toLowerCase(),IC=Hf[0].toUpperCase()+Hf.slice(1);On(CC,"on"+IC)}On($T,"onAnimationEnd");On(YT,"onAnimationIteration");On(KT,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(FR,"onTransitionRun");On(GR,"onTransitionStart");On($R,"onTransitionCancel");On(QT,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function j0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(d){dc(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(d){dc(d)}s.currentTarget=null,r=u}}}}function se(t,e){var n=e[vd];n===void 0&&(n=e[vd]=new Set);var i=t+"__bubble";n.has(i)||(P0(e,t,2,!1),n.add(i))}function Ff(t,e,n){var i=0;e&&(i|=4),P0(n,t,i,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Np(t){if(!t[Su]){t[Su]=!0,CT.forEach(function(n){n!=="selectionchange"&&(NC.has(n)||Ff(n,!1,t),Ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Ff("selectionchange",!1,e))}}function P0(t,e,n,i){switch(Q0(e)){case 2:var s=iI;break;case 8:s=sI;break;default:s=Vp}n=s.bind(null,e,n,t),s=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=zr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}jT(function(){var c=r,d=Ym(n),p=[];e:{var g=WT.get(t);if(g!==void 0){var _=ch,I=t;switch(t){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":_=bR;break;case"focusin":I="focus",_=Ef;break;case"focusout":I="blur",_=Ef;break;case"beforeblur":case"afterblur":_=Ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=wR;break;case $T:case YT:case KT:_=dR;break;case QT:_=CR;break;case"scroll":case"scrollend":_=lR;break;case"wheel":_=NR;break;case"copy":case"cut":case"paste":_=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=W_;break;case"toggle":case"beforetoggle":_=DR}var D=(e&4)!==0,O=!D&&(t==="scroll"||t==="scrollend"),S=D?g!==null?g+"Capture":null:g;D=[];for(var E=c,A;E!==null;){var x=E;if(A=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||A===null||S===null||(x=il(E,S),x!=null&&D.push(fl(E,x,A))),O)break;E=E.return}0<D.length&&(g=new _(g,I,null,n,d),p.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==Sd&&(I=n.relatedTarget||n.fromElement)&&(zr(I)||I[Da]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=c,I=I?zr(I):null,I!==null&&(O=Cl(I),D=I.tag,I!==O||D!==5&&D!==27&&D!==6)&&(I=null)):(_=null,I=c),_!==I)){if(D=K_,x="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(D=W_,x="onPointerLeave",S="onPointerEnter",E="pointer"),O=_==null?g:Ro(_),A=I==null?g:Ro(I),g=new D(x,E+"leave",_,n,d),g.target=O,g.relatedTarget=A,x=null,zr(d)===c&&(D=new D(S,E+"enter",I,n,d),D.target=A,D.relatedTarget=O,x=D),O=x,_&&I)t:{for(D=xC,S=_,E=I,A=0,x=S;x;x=D(x))A++;x=0;for(var z=E;z;z=D(z))x++;for(;0<A-x;)S=D(S),A--;for(;0<x-A;)E=D(E),x--;for(;A--;){if(S===E||E!==null&&S===E.alternate){D=S;break t}S=D(S),E=D(E)}D=null}else D=null;_!==null&&By(p,g,_,D,!1),I!==null&&O!==null&&By(p,O,I,D,!0)}}e:{if(g=c?Ro(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var B=ey;else if(Z_(g))if(BT)B=BR;else{B=UR;var T=LR}else _=g.nodeName,!_||_.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&$m(c.elementType)&&(B=ey):B=zR;if(B&&(B=B(t,c))){zT(p,B,n,d);break e}T&&T(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&bd(g,"number",g.value)}switch(T=c?Ro(c):window,t){case"focusin":(Z_(T)||T.contentEditable==="true")&&(Hr=T,wd=c,Uo=null);break;case"focusout":Uo=wd=Hr=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,ry(p,n,d);break;case"selectionchange":if(HR)break;case"keydown":case"keyup":ry(p,n,d)}var v;if(Wm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qr?LT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(kT&&n.locale!=="ko"&&(qr||b!=="onCompositionStart"?b==="onCompositionEnd"&&qr&&(v=PT()):(ts=d,Km="value"in ts?ts.value:ts.textContent,qr=!0)),T=xc(c,b),0<T.length&&(b=new Q_(b,t,null,n,d),p.push({event:b,listeners:T}),v?b.data=v:(v=UT(n),v!==null&&(b.data=v)))),(v=VR?MR(t,n):jR(t,n))&&(b=xc(c,"onBeforeInput"),0<b.length&&(T=new Q_("onBeforeInput","beforeinput",null,n,d),p.push({event:T,listeners:b}),T.data=v)),RC(p,t,c,n,d)}j0(p,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=il(t,n),s!=null&&i.unshift(fl(t,s,r)),s=il(t,e),s!=null&&i.push(fl(t,s,r))),t.tag===3)return i;t=t.return}return[]}function xC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function By(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,s?(c=il(n,r),c!=null&&a.unshift(fl(n,c,u))):s||(c=il(n,r),c!=null&&a.push(fl(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(DC,`
`).replace(OC,"")}function k0(t,e){return e=qy(e),qy(t)===e}function Te(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||da(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&da(t,""+i);break;case"className":gu(t,"class",i);break;case"tabIndex":gu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":gu(t,n,i);break;case"style":MT(t,i,r);break;case"data":if(e!=="object"){gu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Te(t,e,"name",s.name,s,null),Te(t,e,"formEncType",s.formEncType,s,null),Te(t,e,"formMethod",s.formMethod,s,null),Te(t,e,"formTarget",s.formTarget,s,null)):(Te(t,e,"encType",s.encType,s,null),Te(t,e,"method",s.method,s,null),Te(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Pu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=gi);break;case"onScroll":i!=null&&se("scroll",t);break;case"onScrollEnd":i!=null&&se("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Pu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":se("beforetoggle",t),se("toggle",t),ju(t,"popover",i);break;case"xlinkActuate":oi(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":oi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":oi(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":oi(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":oi(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":oi(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":oi(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":oi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":oi(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ju(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aR.get(n)||n,ju(t,n,i))}}function Wd(t,e,n,i,s,r){switch(n){case"style":MT(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof i=="string"?da(t,i):(typeof i=="number"||typeof i=="bigint")&&da(t,""+i);break;case"onScroll":i!=null&&se("scroll",t);break;case"onScrollEnd":i!=null&&se("scrollend",t);break;case"onClick":i!=null&&(t.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Ft]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ju(t,n,i)}}}function bt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",t),se("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:Te(t,e,r,a,n,null)}}s&&Te(t,e,"srcSet",n.srcSet,n,null),i&&Te(t,e,"src",n.src,n,null);return;case"input":se("invalid",t);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,e));break;default:Te(t,e,i,d,n,null)}}DT(t,r,l,u,c,a,s,!1);return;case"select":se("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Te(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?Jr(t,!!i,e,!1):n!=null&&Jr(t,!!i,n,!0);return;case"textarea":se("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:Te(t,e,a,l,n,null)}VT(t,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Te(t,e,u,i,n,null)}return;case"dialog":se("beforetoggle",t),se("toggle",t),se("cancel",t),se("close",t);break;case"iframe":case"object":se("load",t);break;case"video":case"audio":for(i=0;i<hl.length;i++)se(hl[i],t);break;case"image":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"embed":case"source":case"link":se("error",t),se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:Te(t,e,c,i,n,null)}return;default:if($m(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Wd(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Te(t,e,l,i,n,null))}function VC(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,c=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||Te(t,e,_,null,i,p)}}for(var g in i){var _=i[g];if(p=n[g],i.hasOwnProperty(g)&&(_!=null||p!=null))switch(g){case"type":r=_;break;case"name":s=_;break;case"checked":c=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,e));break;default:_!==p&&Te(t,e,g,_,i,p)}}Td(t,a,l,u,c,d,r,s);return;case"select":_=a=l=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||Te(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":g=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Te(t,e,s,r,i,u)}e=l,n=a,i=_,g!=null?Jr(t,!!n,g,!1):!!i!=!!n&&(e!=null?Jr(t,!!n,e,!0):Jr(t,!!n,n?[]:"",!1));return;case"textarea":_=g=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Te(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":g=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(P(91));break;default:s!==r&&Te(t,e,a,s,i,r)}OT(t,g,_);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":t.selected=!1;break;default:Te(t,e,I,null,i,g)}for(u in i)if(g=i[u],_=n[u],i.hasOwnProperty(u)&&g!==_&&(g!=null||_!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Te(t,e,u,g,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!=null&&!i.hasOwnProperty(D)&&Te(t,e,D,null,i,g);for(c in i)if(g=i[c],_=n[c],i.hasOwnProperty(c)&&g!==_&&(g!=null||_!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(P(137,e));break;default:Te(t,e,c,g,i,_)}return;default:if($m(e)){for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!==void 0&&!i.hasOwnProperty(O)&&Wd(t,e,O,void 0,i,g);for(d in i)g=i[d],_=n[d],!i.hasOwnProperty(d)||g===_||g===void 0&&_===void 0||Wd(t,e,d,g,i,_);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S)&&Te(t,e,S,null,i,g);for(p in i)g=i[p],_=n[p],!i.hasOwnProperty(p)||g===_||g==null&&_==null||Te(t,e,p,g,i,_)}function Hy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,l=s.duration;if(r&&l&&Hy(a)){for(a=0,l=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var d=u.transferSize,p=u.initiatorType;d&&Hy(p)&&(u=u.responseEnd,a+=d*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(r+a)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Jd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $f=null;function jC(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,PC=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(LC)}:U0;function LC(t){setTimeout(function(){throw t})}function Vs(t){return t==="head"}function $y(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),Ta(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Qo(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Qo(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[Dl]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Qo(t.ownerDocument.body);n=s}while(n);Ta(e)}function Yy(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function em(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":em(n),Gm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function UC(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Dl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=_n(t.nextSibling),t===null)break}return null}function zC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=_n(t.nextSibling),t===null))return null;return t}function z0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=_n(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BC(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var im=null;function Ky(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return _n(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function B0(t,e,n){switch(e=Dc(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}function Qo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Gm(t)}var yn=new Map,Wy=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=ge.d;ge.d={f:qC,r:HC,D:FC,C:GC,L:$C,m:YC,X:QC,S:KC,M:WC};function qC(){var t=Mi.f(),e=Th();return t||e}function HC(t){var e=Oa(t);e!==null&&e.tag===5&&e.type==="form"?Mb(e):Mi.r(t)}var Pa=typeof document>"u"?null:document;function q0(t,e,n){var i=Pa;if(i&&typeof e=="string"&&e){var s=hn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Wy.has(s)||(Wy.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),bt(e,"link",t),ft(e),i.head.appendChild(e)))}}function FC(t){Mi.D(t),q0("dns-prefetch",t,null)}function GC(t,e){Mi.C(t,e),q0("preconnect",t,e)}function $C(t,e,n){Mi.L(t,e,n);var i=Pa;if(i&&t&&e){var s='link[rel="preload"][as="'+hn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+hn(n.imageSizes)+'"]')):s+='[href="'+hn(t)+'"]';var r=s;switch(e){case"style":r=Ea(t);break;case"script":r=ka(t)}yn.has(r)||(t=Ve({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),yn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(kl(r))||e==="script"&&i.querySelector(Ll(r))||(e=i.createElement("link"),bt(e,"link",t),ft(e),i.head.appendChild(e)))}}function YC(t,e){Mi.m(t,e);var n=Pa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+hn(i)+'"][href="'+hn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ka(t)}if(!yn.has(r)&&(t=Ve({rel:"modulepreload",href:t},e),yn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ll(r)))return}i=n.createElement("link"),bt(i,"link",t),ft(i),n.head.appendChild(i)}}}function KC(t,e,n){Mi.S(t,e,n);var i=Pa;if(i&&t){var s=Xr(i).hoistableStyles,r=Ea(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(kl(r)))l.loading=5;else{t=Ve({rel:"stylesheet",href:t,"data-precedence":e},n),(n=yn.get(r))&&xp(t,n);var u=a=i.createElement("link");ft(u),bt(u,"link",t),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,$u(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function QC(t,e){Mi.X(t,e);var n=Pa;if(n&&t){var i=Xr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Ll(s)),r||(t=Ve({src:t,async:!0},e),(e=yn.get(s))&&Dp(t,e),r=n.createElement("script"),ft(r),bt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function WC(t,e){Mi.M(t,e);var n=Pa;if(n&&t){var i=Xr(n).hoistableScripts,s=ka(t),r=i.get(s);r||(r=n.querySelector(Ll(s)),r||(t=Ve({src:t,async:!0,type:"module"},e),(e=yn.get(s))&&Dp(t,e),r=n.createElement("script"),ft(r),bt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Xy(t,e,n,i){var s=(s=as.current)?Oc(s):null;if(!s)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ea(n.href),n=Xr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ea(n.href);var r=Xr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(kl(t)))&&!r._p&&(a.instance=r,a.state.loading=5),yn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yn.set(t,n),r||XC(s,t,n,a.state))),e&&i===null)throw Error(P(528,""));return a}if(e&&i!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ka(n),n=Xr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function Ea(t){return'href="'+hn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function H0(t){return Ve({},t,{"data-precedence":t.precedence,precedence:null})}function XC(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),bt(e,"link",n),ft(e),t.head.appendChild(e))}function ka(t){return'[src="'+hn(t)+'"]'}function Ll(t){return"script[async]"+t}function Jy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+hn(n.href)+'"]');if(i)return e.instance=i,ft(i),i;var s=Ve({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ft(i),bt(i,"style",s),$u(i,n.precedence,t),e.instance=i;case"stylesheet":s=Ea(n.href);var r=t.querySelector(kl(s));if(r)return e.state.loading|=4,e.instance=r,ft(r),r;i=H0(n),(s=yn.get(s))&&xp(i,s),r=(t.ownerDocument||t).createElement("link"),ft(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),bt(r,"link",i),e.state.loading|=4,$u(r,n.precedence,t),e.instance=r;case"script":return r=ka(n.src),(s=t.querySelector(Ll(r)))?(e.instance=s,ft(s),s):(i=n,(s=yn.get(r))&&(i=Ve({},n),Dp(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ft(s),bt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,$u(i,n.precedence,t));return e.instance}function $u(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function xp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Dp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Yu=null;function Zy(t,e,n){if(Yu===null){var i=new Map,s=Yu=new Map;s.set(n,i)}else s=Yu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[Dl]||r[yt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function ev(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function JC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function F0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function ZC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Ea(i.href),r=e.querySelector(kl(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Vc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,ft(r);return}r=e.ownerDocument||e,i=H0(i),(s=yn.get(s))&&xp(i,s),r=r.createElement("link"),ft(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),bt(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Vc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Yf=0;function eI(t,e){return t.stylesheets&&t.count===0&&Ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Ku(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Yf===0&&(Yf=62500*MC());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ku(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Yf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Ku(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,e.forEach(tI,t),Mc=null,Vc.call(t))}function tI(t,e){if(!(e.state.loading&4)){var n=Mc.get(t);if(n)var i=n.get(null);else{n=new Map,Mc.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Vc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var dl={$$typeof:pi,Provider:null,Consumer:null,_currentValue:Xs,_currentValue2:Xs,_threadCount:0};function nI(t,e,n,i,s,r,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.hiddenUpdates=gf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function G0(t,e,n,i,s,r,a,l,u,c,d,p){return t=new nI(t,e,n,a,u,c,d,p,l),e=1,r===!0&&(e|=24),r=Qt(3,null,null,e),t.current=r,r.stateNode=t,e=ip(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},ap(r),t}function $0(t){return t?(t=$r,t):$r}function Y0(t,e,n,i,s,r){s=$0(s),i.context===null?i.context=s:i.pendingContext=s,i=ls(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=us(t,i,e),n!==null&&(Ht(n,t,e),Bo(n,t,e))}function tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){tv(t,e),(t=t.alternate)&&tv(t,e)}function K0(t){if(t.tag===13||t.tag===31){var e=yr(t,67108864);e!==null&&Ht(e,t,67108864),Op(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var e=tn();e=Hm(e);var n=yr(t,e);n!==null&&Ht(n,t,e),Op(t,e)}}var jc=!0;function iI(t,e,n,i){var s=W.T;W.T=null;var r=ge.p;try{ge.p=2,Vp(t,e,n,i)}finally{ge.p=r,W.T=s}}function sI(t,e,n,i){var s=W.T;W.T=null;var r=ge.p;try{ge.p=8,Vp(t,e,n,i)}finally{ge.p=r,W.T=s}}function Vp(t,e,n,i){if(jc){var s=sm(i);if(s===null)Gf(t,e,i,Pc,n),iv(t,i);else if(aI(s,t,e,n,i))i.stopPropagation();else if(iv(t,i),e&4&&-1<rI.indexOf(t)){for(;s!==null;){var r=Oa(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=$s(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-en(a);l.entanglements[1]|=u,a&=~u}ii(r),!(pe&6)&&(wc=Jt()+500,Pl(0))}}break;case 31:case 13:l=yr(r,2),l!==null&&Ht(l,r,2),Th(),Op(r,2)}if(r=sm(i),r===null&&Gf(t,e,i,Pc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Gf(t,e,i,null,n)}}function sm(t){return t=Ym(t),Mp(t)}var Pc=null;function Mp(t){if(Pc=null,t=zr(t),t!==null){var e=Cl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=mT(e),t!==null)return t;t=null}else if(n===31){if(t=pT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Pc=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fw()){case vT:return 2;case ET:return 8;case hc:case Gw:return 32;case TT:return 268435456;default:return 32}default:return 32}}var rm=!1,fs=null,ds=null,ms=null,ml=new Map,pl=new Map,Qi=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function To(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Oa(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aI(t,e,n,i,s){switch(e){case"focusin":return fs=To(fs,t,e,n,i,s),!0;case"dragenter":return ds=To(ds,t,e,n,i,s),!0;case"mouseover":return ms=To(ms,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return ml.set(r,To(ml.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,pl.set(r,To(pl.get(r)||null,t,e,n,i,s)),!0}return!1}function W0(t){var e=zr(t.target);if(e!==null){var n=Cl(e);if(n!==null){if(e=n.tag,e===13){if(e=mT(n),e!==null){t.blockedOn=e,B_(t.priority,function(){nv(n)});return}}else if(e===31){if(e=pT(n),e!==null){t.blockedOn=e,B_(t.priority,function(){nv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sm(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Sd=i,n.target.dispatchEvent(i),Sd=null}else return e=Oa(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Qu(t)&&n.delete(e)}function oI(){rm=!1,fs!==null&&Qu(fs)&&(fs=null),ds!==null&&Qu(ds)&&(ds=null),ms!==null&&Qu(ms)&&(ms=null),ml.forEach(sv),pl.forEach(sv)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,oI)))}var wu=null;function rv(t){wu!==t&&(wu=t,at.unstable_scheduleCallback(at.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Mp(i||n)===null)continue;break}var r=Oa(n);r!==null&&(t.splice(e,3),e-=3,Ud(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Ta(t){function e(u){return Au(u,t)}fs!==null&&Au(fs,t),ds!==null&&Au(ds,t),ms!==null&&Au(ms,t),ml.forEach(e),pl.forEach(e);for(var n=0;n<Qi.length;n++){var i=Qi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)W0(n),n.blockedOn===null&&Qi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ft]||null;if(typeof r=="function")a||rv(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ft]||null)l=a.formAction;else if(Mp(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),rv(n)}}}function X0(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function jp(t){this._internalRoot=t}Ah.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,i=tn();Y0(n,i,t,e,null,null)};Ah.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Y0(t.current,2,null,t,null,null),Th(),e[Da]=null}};function Ah(t){this._internalRoot=t}Ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=RT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&W0(t)}};var av=fT.version;if(av!=="19.2.4")throw Error(P(527,av,"19.2.4"));ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=kw(e),t=t!==null?gT(t):null,t=t===null?null:t.stateNode,t};var lI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Il=Ru.inject(lI),Zt=Ru}catch{}}oh.createRoot=function(t,e){if(!dT(t))throw Error(P(299));var n=!1,i="",s=qb,r=Hb,a=Fb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=G0(t,1,!1,null,null,n,i,null,s,r,a,X0),t[Da]=e.current,Np(t),new jp(e)};oh.hydrateRoot=function(t,e,n){if(!dT(t))throw Error(P(299));var i=!1,s="",r=qb,a=Hb,l=Fb,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=G0(t,1,!0,e,n??null,i,s,u,r,a,l,X0),e.context=$0(null),n=e.current,i=tn(),i=Hm(i),s=ls(i),s.callback=null,us(n,s,i),n=i,e.current.lanes=n,xl(e,n),ii(e),t[Da]=e.current,Np(t),new Ah(e)};oh.version="19.2.4";function J0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J0)}catch(t){console.error(t)}}J0(),aT.exports=oh;var uI=aT.exports;const cI=WE(uI);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ov="popstate";function hI(t={}){function e(i,s){let{pathname:r,search:a,hash:l}=i.location;return am("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:gl(s)}return dI(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function lv(t,e){return{usr:t.state,key:t.key,idx:e}}function am(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||i||fI()}}function gl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function dI(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,l="POP",u=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function p(){l="POP";let O=d(),S=O==null?null:O-c;c=O,u&&u({action:l,location:D.location,delta:S})}function g(O,S){l="PUSH";let E=am(D.location,O,S);c=d()+1;let A=lv(E,c),x=D.createHref(E);try{a.pushState(A,"",x)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(x)}r&&u&&u({action:l,location:D.location,delta:1})}function _(O,S){l="REPLACE";let E=am(D.location,O,S);c=d();let A=lv(E,c),x=D.createHref(E);a.replaceState(A,"",x),r&&u&&u({action:l,location:D.location,delta:0})}function I(O){return mI(O)}let D={get action(){return l},get location(){return t(s,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ov,p),u=O,()=>{s.removeEventListener(ov,p),u=null}},createHref(O){return e(s,O)},createURL:I,encodeLocation(O){let S=I(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:_,go(O){return a.go(O)}};return D}function mI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ke(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:gl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Z0(t,e,n="/"){return pI(t,e,n,!1)}function pI(t,e,n,i){let s=typeof e=="string"?La(e):e,r=Ni(s.pathname||"/",n);if(r==null)return null;let a=eS(t);gI(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=CI(r);l=wI(a[u],c,i)}return l}function eS(t,e=[],n=[],i="",s=!1){let r=(a,l,u=s,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;ke(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let p=Si([i,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(ke(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eS(a.children,e,g,p,u)),!(a.path==null&&!a.index)&&e.push({path:p,score:SI(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,l);else for(let c of tS(a.path))r(a,l,!0,c)}),e}function tS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=tS(i.join("/")),l=[];return l.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function gI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _I=/^:[\w-]+$/,yI=3,vI=2,EI=1,TI=10,bI=-2,uv=t=>t==="*";function SI(t,e){let n=t.split("/"),i=n.length;return n.some(uv)&&(i+=bI),e&&(i+=vI),n.filter(s=>!uv(s)).reduce((s,r)=>s+(_I.test(r)?yI:r===""?EI:TI),i)}function AI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function wI(t,e,n=!1){let{routesMeta:i}=t,s={},r="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,d=r==="/"?e:e.slice(r.length)||"/",p=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Si([r,p.pathname]),pathnameBase:DI(Si([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=Si([r,p.pathnameBase]))}return a}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=RI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:p},g)=>{if(d==="*"){let I=l[g]||"";a=r.slice(0,r.length-I.length).replace(/(.)\/+$/,"$1")}const _=l[g];return p&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:t}}function RI(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function CI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var II=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function NI(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?La(t):t,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=cv(n.substring(1),"/"):r=cv(n,e)):r=e,{pathname:r,search:OI(i),hash:VI(s)}}function cv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pp(t){let e=xI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function kp(t,e,n,i=!1){let s;typeof t=="string"?s=La(t):(s={...t},ke(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=NI(s,l),c=a&&a!=="/"&&a.endsWith("/"),d=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Si=t=>t.join("/").replace(/\/\/+/g,"/"),DI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,MI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function PI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iS(t,e){let n=t;if(typeof n!="string"||!II.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(nS)try{let r=new URL(window.location.href),a=n.startsWith("//")?new URL(r.protocol+n):new URL(n),l=Ni(a.pathname,e);a.origin===r.origin&&l!=null?n=l+a.search+a.hash:s=!0}catch{Nn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var kI=["GET",...sS];new Set(kI);var Ua=M.createContext(null);Ua.displayName="DataRouter";var wh=M.createContext(null);wh.displayName="DataRouterState";var LI=M.createContext(!1),rS=M.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var UI=M.createContext(new Map);UI.displayName="Fetchers";var zI=M.createContext(null);zI.displayName="Await";var rn=M.createContext(null);rn.displayName="Navigation";var Ul=M.createContext(null);Ul.displayName="Location";var Vn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Lp=M.createContext(null);Lp.displayName="RouteError";var aS="REACT_ROUTER_ERROR",BI="REDIRECT",qI="ROUTE_ERROR_RESPONSE";function HI(t){if(t.startsWith(`${aS}:${BI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FI(t){if(t.startsWith(`${aS}:${qI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new MI(e.status,e.statusText,e.data)}catch{}}function GI(t,{relative:e}={}){ke(za(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(rn),{hash:s,pathname:r,search:a}=zl(t,{relative:e}),l=r;return n!=="/"&&(l=r==="/"?n:Si([n,r])),i.createHref({pathname:l,search:a,hash:s})}function za(){return M.useContext(Ul)!=null}function Mn(){return ke(za(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ul).location}var oS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lS(t){M.useContext(rn).static||M.useLayoutEffect(t)}function Ba(){let{isDataRoute:t}=M.useContext(Vn);return t?rN():$I()}function $I(){ke(za(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Ua),{basename:e,navigator:n}=M.useContext(rn),{matches:i}=M.useContext(Vn),{pathname:s}=Mn(),r=JSON.stringify(Pp(i)),a=M.useRef(!1);return lS(()=>{a.current=!0}),M.useCallback((u,c={})=>{if(Nn(a.current,oS),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=kp(u,JSON.parse(r),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Si([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,r,s,t])}M.createContext(null);function YI(){let{matches:t}=M.useContext(Vn),e=t[t.length-1];return e?e.params:{}}function zl(t,{relative:e}={}){let{matches:n}=M.useContext(Vn),{pathname:i}=Mn(),s=JSON.stringify(Pp(n));return M.useMemo(()=>kp(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function KI(t,e){return uS(t,e)}function uS(t,e,n,i,s){var E;ke(za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=M.useContext(rn),{matches:a}=M.useContext(Vn),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let A=p&&p.path||"";hS(c,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=Mn(),_;if(e){let A=typeof e=="string"?La(e):e;ke(d==="/"||((E=A.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=g;let I=_.pathname||"/",D=I;if(d!=="/"){let A=d.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(A.length).join("/")}let O=Z0(t,{pathname:D});Nn(p||O!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Nn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=ZI(O&&O.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Si([d,r.encodeLocation?r.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Si([d,r.encodeLocation?r.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),a,n,i,s);return e&&S?M.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function QI(){let t=sN(),e=jI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:r},"ErrorBoundary")," or"," ",M.createElement("code",{style:r},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,a)}var WI=M.createElement(QI,null),cS=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=FI(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Vn.Provider,{value:this.props.routeContext},M.createElement(Lp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(XI,{error:t},e):e}};cS.contextType=LI;var Qf=new WeakMap;function XI({children:t,error:e}){let{basename:n}=M.useContext(rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=HI(e.digest);if(i){let s=Qf.get(e);if(s)throw s;let r=iS(i.location,n);if(nS&&!Qf.get(e))if(r.isExternal||i.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:i.replace}));throw Qf.set(e,a),a}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return t}function JI({routeContext:t,match:e,children:n}){let i=M.useContext(Ua);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Vn.Provider,{value:t},n)}function ZI(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let d=r.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ke(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:_}=n,I=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||I){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let c=n&&i?(d,p)=>{var g,_;i(d,{location:n.location,params:((_=(g=n.matches)==null?void 0:g[0])==null?void 0:_.params)??{},unstable_pattern:PI(n.matches),errorInfo:p})}:void 0;return r.reduceRight((d,p,g)=>{let _,I=!1,D=null,O=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,D=p.route.errorElement||WI,l&&(u<0&&g===0?(hS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):u===g&&(I=!0,O=p.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,g+1)),E=()=>{let A;return _?A=D:I?A=O:p.route.Component?A=M.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,M.createElement(JI,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?M.createElement(cS,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):E()},null)}function Up(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(t){let e=M.useContext(Ua);return ke(e,Up(t)),e}function tN(t){let e=M.useContext(wh);return ke(e,Up(t)),e}function nN(t){let e=M.useContext(Vn);return ke(e,Up(t)),e}function zp(t){let e=nN(t),n=e.matches[e.matches.length-1];return ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iN(){return zp("useRouteId")}function sN(){var i;let t=M.useContext(Lp),e=tN("useRouteError"),n=zp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function rN(){let{router:t}=eN("useNavigate"),e=zp("useNavigate"),n=M.useRef(!1);return lS(()=>{n.current=!0}),M.useCallback(async(s,r={})=>{Nn(n.current,oS),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...r}))},[t,e])}var hv={};function hS(t,e,n){!e&&!hv[t]&&(hv[t]=!0,Nn(!1,n))}M.memo(aN);function aN({routes:t,future:e,state:n,onError:i}){return uS(t,void 0,n,i,e)}function oN({to:t,replace:e,state:n,relative:i}){ke(za(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(rn);Nn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=M.useContext(Vn),{pathname:a}=Mn(),l=Ba(),u=kp(t,Pp(r),a,i==="path"),c=JSON.stringify(u);return M.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:i})},[l,c,i,e,n]),null}function Sn(t){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lN({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:r=!1,unstable_useTransitions:a}){ke(!za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:s,static:r,unstable_useTransitions:a,future:{}}),[l,s,r,a]);typeof n=="string"&&(n=La(n));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:_="default"}=n,I=M.useMemo(()=>{let D=Ni(c,l);return D==null?null:{location:{pathname:D,search:d,hash:p,state:g,key:_},navigationType:i}},[l,c,d,p,g,_,i]);return Nn(I!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:M.createElement(rn.Provider,{value:u},M.createElement(Ul.Provider,{children:e,value:I}))}function uN({children:t,location:e}){return KI(om(t),e)}function om(t,e=[]){let n=[];return M.Children.forEach(t,(i,s)=>{if(!M.isValidElement(i))return;let r=[...e,s];if(i.type===M.Fragment){n.push.apply(n,om(i.props.children,r));return}ke(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=om(i.props.children,r)),n.push(a)}),n}var Wu="get",Xu="application/x-www-form-urlencoded";function Rh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function cN(t){return Rh(t)&&t.tagName.toLowerCase()==="button"}function hN(t){return Rh(t)&&t.tagName.toLowerCase()==="form"}function fN(t){return Rh(t)&&t.tagName.toLowerCase()==="input"}function dN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mN(t,e){return t.button===0&&(!e||e==="_self")&&!dN(t)}var Cu=null;function pN(){if(Cu===null)try{new FormData(document.createElement("form"),0),Cu=!1}catch{Cu=!0}return Cu}var gN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(t){return t!=null&&!gN.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xu}"`),null):t}function _N(t,e){let n,i,s,r,a;if(hN(t)){let l=t.getAttribute("action");i=l?Ni(l,e):null,n=t.getAttribute("method")||Wu,s=Wf(t.getAttribute("enctype"))||Xu,r=new FormData(t)}else if(cN(t)||fN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Ni(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Wu,s=Wf(t.getAttribute("formenctype"))||Wf(l.getAttribute("enctype"))||Xu,r=new FormData(l,t),!pN()){let{name:c,type:d,value:p}=t;if(d==="image"){let g=c?`${c}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else c&&r.append(c,p)}}else{if(Rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wu,i=null,s=Xu,a=t}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yN(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ni(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function vN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TN(t,e,n){let i=await Promise.all(t.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await vN(r,n);return a.links?a.links():[]}return[]}));return wN(i.flat(1).filter(EN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fv(t,e,n,i,s,r){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return r==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):r==="data"?e.filter((u,c)=>{var p;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function bN(t,e,{includeHydrateFallback:n}={}){return SN(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function SN(t){return[...new Set(t)]}function AN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function wN(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let r=JSON.stringify(AN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function fS(){let t=M.useContext(Ua);return Bp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RN(){let t=M.useContext(wh);return Bp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qp=M.createContext(void 0);qp.displayName="FrameworkContext";function dS(){let t=M.useContext(qp);return Bp(t,"You must render this element inside a <HydratedRouter> element"),t}function CN(t,e){let n=M.useContext(qp),[i,s]=M.useState(!1),[r,a]=M.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=e,g=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=S=>{S.forEach(E=>{a(E.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[t]),M.useEffect(()=>{if(i){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[i]);let _=()=>{s(!0)},I=()=>{s(!1),a(!1)};return n?t!=="intent"?[r,g,{}]:[r,g,{onFocus:bo(l,_),onBlur:bo(u,I),onMouseEnter:bo(c,_),onMouseLeave:bo(d,I),onTouchStart:bo(p,_)}]:[!1,g,{}]}function bo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IN({page:t,...e}){let{router:n}=fS(),i=M.useMemo(()=>Z0(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(xN,{page:t,matches:i,...e}):null}function NN(t){let{manifest:e,routeModules:n}=dS(),[i,s]=M.useState([]);return M.useEffect(()=>{let r=!1;return TN(t,e,n).then(a=>{r||s(a)}),()=>{r=!0}},[t,e,n]),i}function xN({page:t,matches:e,...n}){let i=Mn(),{future:s,manifest:r,routeModules:a}=dS(),{basename:l}=fS(),{loaderData:u,matches:c}=RN(),d=M.useMemo(()=>fv(t,e,c,r,i,"data"),[t,e,c,r,i]),p=M.useMemo(()=>fv(t,e,c,r,i,"assets"),[t,e,c,r,i]),g=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let D=new Set,O=!1;if(e.forEach(E=>{var x;let A=r.routes[E.route.id];!A||!A.hasLoader||(!d.some(z=>z.route.id===E.route.id)&&E.route.id in u&&((x=a[E.route.id])!=null&&x.shouldRevalidate)||A.hasClientLoader?O=!0:D.add(E.route.id))}),D.size===0)return[];let S=yN(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return O&&D.size>0&&S.searchParams.set("_routes",e.filter(E=>D.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[l,s.unstable_trailingSlashAwareDataRequests,u,i,r,d,e,t,a]),_=M.useMemo(()=>bN(p,r),[p,r]),I=NN(p);return M.createElement(M.Fragment,null,g.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),_.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:O})=>M.createElement("link",{key:D,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function DN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ON&&(window.__reactRouterVersion="7.13.0")}catch{}function VN({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=M.useRef();s.current==null&&(s.current=hI({window:i,v5Compat:!0}));let r=s.current,[a,l]=M.useState({action:r.action,location:r.location}),u=M.useCallback(c=>{n===!1?l(c):M.startTransition(()=>l(c))},[n]);return M.useLayoutEffect(()=>r.listen(u),[r,u]),M.createElement(lN,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r,unstable_useTransitions:n})}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},I){let{basename:D,unstable_useTransitions:O}=M.useContext(rn),S=typeof c=="string"&&mS.test(c),E=iS(c,D);c=E.to;let A=GI(c,{relative:s}),[x,z,B]=CN(i,_),T=kN(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:O});function v(R){e&&e(R),R.defaultPrevented||T(R)}let b=M.createElement("a",{..._,...B,href:E.absoluteURL||A,onClick:E.isExternal||r?e:v,ref:DN(I,z),target:u,"data-discover":!S&&n==="render"?"true":void 0});return x&&!S?M.createElement(M.Fragment,null,b,M.createElement(IN,{page:A})):b});Rt.displayName="Link";var MN=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:l,children:u,...c},d){let p=zl(a,{relative:c.relative}),g=Mn(),_=M.useContext(wh),{navigator:I,basename:D}=M.useContext(rn),O=_!=null&&qN(p)&&l===!0,S=I.encodeLocation?I.encodeLocation(p).pathname:p.pathname,E=g.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(E=E.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&D&&(A=Ni(A,D)||A);const x=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let z=E===S||!s&&E.startsWith(S)&&E.charAt(x)==="/",B=A!=null&&(A===S||!s&&A.startsWith(S)&&A.charAt(S.length)==="/"),T={isActive:z,isPending:B,isTransitioning:O},v=z?e:void 0,b;typeof i=="function"?b=i(T):b=[i,z?"active":null,B?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let R=typeof r=="function"?r(T):r;return M.createElement(Rt,{...c,"aria-current":v,className:b,ref:d,style:R,to:a,viewTransition:l},typeof u=="function"?u(T):u)});MN.displayName="NavLink";var jN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:r,method:a=Wu,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g,..._},I)=>{let{unstable_useTransitions:D}=M.useContext(rn),O=zN(),S=BN(l,{relative:c}),E=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&mS.test(l),x=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,T=(B==null?void 0:B.getAttribute("formmethod"))||a,v=()=>O(B||z.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:r,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g});D&&n!==!1?M.startTransition(()=>v()):v()};return M.createElement("form",{ref:I,method:E,action:S,onSubmit:i?u:x,..._,"data-discover":!A&&t==="render"?"true":void 0})});jN.displayName="Form";function PN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pS(t){let e=M.useContext(Ua);return ke(e,PN(t)),e}function kN(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=Ba(),d=Mn(),p=zl(t,{relative:r});return M.useCallback(g=>{if(mN(g,e)){g.preventDefault();let _=n!==void 0?n:gl(d)===gl(p),I=()=>c(t,{replace:_,state:i,preventScrollReset:s,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:l});u?M.startTransition(()=>I()):I()}},[d,c,p,n,i,e,t,s,r,a,l,u])}var LN=0,UN=()=>`__${String(++LN)}__`;function zN(){let{router:t}=pS("useSubmit"),{basename:e}=M.useContext(rn),n=iN(),i=t.fetch,s=t.navigate;return M.useCallback(async(r,a={})=>{let{action:l,method:u,encType:c,formData:d,body:p}=_N(r,e);if(a.navigate===!1){let g=a.fetcherKey||UN();await i(g,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await s(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,s,e,n])}function BN(t,{relative:e}={}){let{basename:n}=M.useContext(rn),i=M.useContext(Vn);ke(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...zl(t||".",{relative:e})},a=Mn();if(t==null){r.search=a.search;let l=new URLSearchParams(r.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();r.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Si([n,r.pathname])),gl(r)}function qN(t,{relative:e}={}){let n=M.useContext(rS);ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pS("useViewTransitionState"),s=zl(t,{relative:e});if(!n.isTransitioning)return!1;let r=Ni(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Ni(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kc(s.pathname,a)!=null||kc(s.pathname,r)!=null}const HN="_navbar_15g3o_1",FN="_navbarContent_15g3o_16",GN="_logo_15g3o_23",$N="_navLinks_15g3o_34",YN="_navItem_15g3o_40",KN="_activeNavItem_15g3o_51",QN="_ctaButton_15g3o_55",WN="_menuButton_15g3o_73",Dt={navbar:HN,navbarContent:FN,logo:GN,navLinks:$N,navItem:YN,activeNavItem:KN,ctaButton:QN,menuButton:WN},XN=()=>{const[t,e]=M.useState(!1),n=Mn();return M.useEffect(()=>{const s=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),n.pathname.startsWith("/vault/internal/gate/secure")?null:f.jsx("nav",{className:`${Dt.navbar} ${t?Dt.scrolled:""}`,children:f.jsxs("div",{className:`${Dt.navbarContent} container`,children:[f.jsxs(Rt,{to:"/",className:Dt.logo,children:["Layer1",f.jsx("span",{children:".Studio"})]}),f.jsxs("div",{className:Dt.navLinks,children:[f.jsx(Rt,{to:"/services",className:`${Dt.navItem} ${n.pathname==="/services"?Dt.activeNavItem:""}`,children:"Services"}),f.jsx(Rt,{to:"/portfolio",className:`${Dt.navItem} ${n.pathname==="/portfolio"?Dt.activeNavItem:""}`,children:"Portfolio"}),f.jsx(Rt,{to:"/careers",className:`${Dt.navItem} ${n.pathname==="/careers"?Dt.activeNavItem:""}`,children:"Careers"}),f.jsx(Rt,{to:"/contact",className:`${Dt.navItem} ${n.pathname==="/contact"?Dt.activeNavItem:""}`,children:"Contact"}),f.jsxs(Rt,{to:"/contact",className:Dt.ctaButton,children:["Book a Call",f.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"arrow_forward"})]})]}),f.jsx("button",{className:Dt.menuButton,children:f.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]})})},JN="_footer_c31mc_1",ZN="_footerGrid_c31mc_8",ex="_brandColumn_c31mc_15",tx="_logo_c31mc_21",nx="_description_c31mc_32",ix="_columnTitle_c31mc_39",sx="_linkList_c31mc_47",rx="_linkItem_c31mc_53",ax="_locationItem_c31mc_64",ox="_locationName_c31mc_68",lx="_bottomBar_c31mc_79",ux="_legalLinks_c31mc_90",cx="_legalLink_c31mc_90",Ye={footer:JN,footerGrid:ZN,brandColumn:ex,logo:tx,description:nx,columnTitle:ix,linkList:sx,linkItem:rx,locationItem:ax,locationName:ox,bottomBar:lx,legalLinks:ux,legalLink:cx},hx=()=>Mn().pathname.startsWith("/vault/internal/gate/secure")?null:f.jsx("footer",{className:Ye.footer,children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:Ye.footerGrid,children:[f.jsxs("div",{className:Ye.brandColumn,children:[f.jsxs("div",{className:Ye.logo,children:["Layer1",f.jsx("span",{children:".Studio"})]}),f.jsx("p",{className:Ye.description,children:"Building the foundations of the digital future from our studios in London and Colombo."})]}),f.jsxs("div",{children:[f.jsx("h5",{className:Ye.columnTitle,children:"Locations"}),f.jsx("div",{className:Ye.locationItem,children:f.jsx("p",{className:Ye.locationName,children:"London, UK"})}),f.jsx("div",{className:Ye.locationItem,children:f.jsx("p",{className:Ye.locationName,children:"Colombo, Sri Lanka"})})]}),f.jsxs("div",{children:[f.jsx("h5",{className:Ye.columnTitle,children:"Connect"}),f.jsxs("div",{className:Ye.linkList,children:[f.jsx("a",{href:"https://www.linkedin.com/company/layer1studio",target:"_blank",rel:"noopener noreferrer",className:Ye.linkItem,children:"LinkedIn"}),f.jsx("a",{href:"https://twitter.com/layer1studio",target:"_blank",rel:"noopener noreferrer",className:Ye.linkItem,children:"Twitter"}),f.jsx("a",{href:"https://instagram.com/layer1studio",target:"_blank",rel:"noopener noreferrer",className:Ye.linkItem,children:"Instagram"}),f.jsx("a",{href:"https://dribbble.com/layer1studio",target:"_blank",rel:"noopener noreferrer",className:Ye.linkItem,children:"Dribbble"})]})]})]}),f.jsxs("div",{className:Ye.bottomBar,children:[f.jsx("p",{children:" 2026 Layer1.Studio. All rights reserved."}),f.jsxs("div",{className:Ye.legalLinks,children:[f.jsx(Rt,{to:"/privacy",className:Ye.legalLink,children:"Privacy Policy"}),f.jsx(Rt,{to:"/terms",className:Ye.legalLink,children:"Terms of Service"})]})]})]})}),fx="_hero_ms4wg_1",dx="_heroContent_ms4wg_8",mx="_badge_ms4wg_14",px="_title_ms4wg_28",gx="_subtitle_ms4wg_36",_x="_buttonGroup_ms4wg_44",yx="_primaryButton_ms4wg_50",vx="_secondaryButton_ms4wg_70",Ex="_glow_ms4wg_89",hi={hero:fx,heroContent:dx,badge:mx,title:px,subtitle:gx,buttonGroup:_x,primaryButton:yx,secondaryButton:vx,glow:Ex},Tx=()=>f.jsxs("section",{className:`${hi.hero} hero-gradient`,children:[f.jsx("div",{className:"container",children:f.jsxs("div",{className:hi.heroContent,children:[f.jsx("span",{className:hi.badge,children:"High Velocity. Pure Engineering."}),f.jsx("h1",{className:`${hi.title} text-gradient`,children:"Foundations for the future."}),f.jsx("p",{className:hi.subtitle,children:"We build production-grade foundations for founders and scale-ups. Custom software, web, and mobile app development (React, Node.js, Next.js) by a remote engineering team based in London and Colombo."}),f.jsxs("div",{className:hi.buttonGroup,children:[f.jsxs(Rt,{to:"/contact",className:hi.primaryButton,children:["Start Building Fast",f.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"})]}),f.jsx(Rt,{to:"/portfolio",className:hi.secondaryButton,children:"The things we've built"})]})]})}),f.jsx("div",{className:hi.glow})]}),bx="_philosophy_1n43x_1",Sx="_grid_1n43x_6",Ax="_title_1n43x_13",wx="_description_1n43x_18",Rx="_featureList_1n43x_25",Cx="_feature_1n43x_25",Ix="_iconWrapper_1n43x_36",Nx="_featureTitle_1n43x_49",xx="_featureText_1n43x_56",Dx="_visualWrapper_1n43x_61",Ox="_floatingBlurs_1n43x_66",Vx="_blur1_1n43x_73",Mx="_blur2_1n43x_86",jx="_glassVisualization_1n43x_109",Px="_vizLogo_1n43x_122",Le={philosophy:bx,grid:Sx,title:Ax,description:wx,featureList:Rx,feature:Cx,iconWrapper:Ix,featureTitle:Nx,featureText:xx,visualWrapper:Dx,floatingBlurs:Ox,blur1:Vx,blur2:Mx,glassVisualization:jx,vizLogo:Px},kx=()=>f.jsx("section",{id:"philosophy",className:Le.philosophy,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:Le.grid,children:[f.jsxs("div",{children:[f.jsx("h2",{className:Le.title,children:"Engineered for Growth"}),f.jsx("p",{className:Le.description,children:"Everyone promises speed. We promise speed without the crash. We build the technical foundations that allow you to pivot, scale, and thrive - without any friction slowing you down."}),f.jsxs("div",{className:Le.featureList,children:[f.jsxs("div",{className:Le.feature,children:[f.jsx("div",{className:Le.iconWrapper,children:f.jsx("span",{className:"material-symbols-outlined",children:"architecture"})}),f.jsxs("div",{children:[f.jsx("h4",{className:Le.featureTitle,children:"Precision Engineering"}),f.jsx("p",{className:Le.featureText,children:"We build right the first time. Our patterns are clean, intentional, and designed for unhindered velocity."})]})]}),f.jsxs("div",{className:Le.feature,children:[f.jsx("div",{className:Le.iconWrapper,children:f.jsx("span",{className:"material-symbols-outlined",children:"bolt"})}),f.jsxs("div",{children:[f.jsx("h4",{className:Le.featureTitle,children:"High-Velocity Logic"}),f.jsx("p",{className:Le.featureText,children:"Shipping fast is easy. Shipping correctly while moving fast takes discipline. We provide both."})]})]}),f.jsxs("div",{className:Le.feature,children:[f.jsx("div",{className:Le.iconWrapper,children:f.jsx("span",{className:"material-symbols-outlined",children:"trending_up"})}),f.jsxs("div",{children:[f.jsx("h4",{className:Le.featureTitle,children:"Bulletproof Scaling"}),f.jsx("p",{className:Le.featureText,children:"Whether it's your first ten fans or a million global users, your infrastructure stays invisible and reliable."})]})]})]})]}),f.jsxs("div",{className:Le.visualWrapper,children:[f.jsxs("div",{className:Le.floatingBlurs,children:[f.jsx("div",{className:Le.blur1}),f.jsx("div",{className:Le.blur2})]}),f.jsx("div",{className:Le.glassVisualization,children:f.jsx("img",{src:"/layer1studio/assets/philosophy_visual.png",alt:"Philosophy Visualization",className:Le.vizLogo})})]})]})})}),Lx="_capabilities_1do1l_1",Ux="_header_1do1l_5",zx="_title_1do1l_10",Bx="_subtitle_1do1l_15",qx="_grid_1do1l_22",Hx="_card_1do1l_28",Fx="_iconWrapper_1do1l_45",Gx="_cardTitle_1do1l_63",$x="_cardText_1do1l_70",Yx="_list_1do1l_76",Kx="_listItem_1do1l_82",Qx="_checkIcon_1do1l_91",an={capabilities:Lx,header:Ux,title:zx,subtitle:Bx,grid:qx,card:Hx,iconWrapper:Fx,cardTitle:Gx,cardText:$x,list:Yx,listItem:Kx,checkIcon:Qx},Wx=()=>{const t=[{icon:"rocket_launch",title:"Web & App Development",text:"Custom web and mobile applications built for immediate market impact and long-term scale. We ship foundations in 30 days.",list:["MVP to Market in 30 Days","High-Performance Web Apps","Bespoke iOS & Android Solutions"]},{icon:"insights",title:"Data & Analytics Software",text:"Transforming raw complexity into actionable strategy with custom dashboards and real-time analytics tools.",list:["Real-time BI Dashboards","Predictive Data Engines","Custom Monitoring Tools"]},{icon:"layers",title:"Software Engineering Architecture",text:"The infrastructure that powers your ambition. Secure, distributed, and built to handle your highest-velocity days.",list:["Infinite Cloud Scaling","Secure API Ecosystems","Zero-Downtime Architecture"]}];return f.jsx("section",{id:"services",className:an.capabilities,children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:an.header,children:[f.jsx("h2",{className:an.title,children:"What we do best"}),f.jsx("p",{className:an.subtitle,children:"Specialized engineering for the things that usually fail."})]}),f.jsx("div",{className:an.grid,children:t.map((e,n)=>f.jsxs("div",{className:an.card,children:[f.jsx("div",{className:an.iconWrapper,children:f.jsx("span",{className:"material-symbols-outlined",children:e.icon})}),f.jsx("h3",{className:an.cardTitle,children:e.title}),f.jsx("p",{className:an.cardText,children:e.text}),f.jsx("ul",{className:an.list,children:e.list.map((i,s)=>f.jsxs("li",{className:an.listItem,children:[f.jsx("span",{className:`material-symbols-outlined ${an.checkIcon}`,children:"check_circle"}),i]},s))})]},n))})]})})},Xx=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},_S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=r>>2,p=(r&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;u||(_=64,a||(g=64)),i.push(n[d],n[p],n[g],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||p==null)throw new Zx;const g=r<<2|l>>4;if(i.push(g),c!==64){const _=l<<4&240|c>>2;if(i.push(_),p!==64){const I=c<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(t){const e=gS(t);return _S.encodeByteArray(e,!0)},Lc=function(t){return e2(t).replace(/\./g,"")},yS=function(t){try{return _S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=()=>t2().__FIREBASE_DEFAULTS__,i2=()=>{if(typeof process>"u"||typeof dv>"u")return;const t=dv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yS(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return Xx()||n2()||i2()||s2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vS=t=>{var e,n;return(n=(e=Ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ES=t=>{const e=vS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},TS=()=>{var t;return(t=Ch())==null?void 0:t.config},bS=t=>{var e;return(e=Ch())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lc(JSON.stringify(n)),Lc(JSON.stringify(a)),""].join(".")}const Wo={};function a2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wo))Wo[e]?t.emulator.push(e):t.prod.push(e);return t}function o2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mv=!1;function Fp(t,e){if(typeof window>"u"||typeof document>"u"||!Er(window.location.host)||Wo[t]===e||Wo[t]||mv)return;Wo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=a2().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{mv=!0,a()},g}function d(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=o2(i),_=n("text"),I=document.getElementById(_)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),S=n("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;l(A),d(O,D);const x=c();u(E,S),A.append(E,I,O,x),document.body.appendChild(A)}r?(I.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function u2(){var e;const t=(e=Ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m2(){return!u2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p2(){try{return typeof indexedDB=="object"}catch{return!1}}function g2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="FirebaseError";class si extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_2,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?y2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new si(s,l,i)}}function y2(t,e){return t.replace(v2,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const v2=/\{\$([^}]+)}/g;function E2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(pv(r)&&pv(a)){if(!cr(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function pv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function No(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T2(t,e){const n=new b2(t,e);return n.subscribe.bind(n)}class b2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Xf),s.error===void 0&&(s.error=Xf),s.complete===void 0&&(s.complete=Xf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new r2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w2(t){return t===Qs?void 0:t}function R2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const I2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},N2=ae.INFO,x2={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},D2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=x2[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const O2=(t,e)=>e.some(n=>t instanceof n);let gv,_v;function V2(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,lm=new WeakMap,wS=new WeakMap,Jf=new WeakMap,$p=new WeakMap;function j2(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(ps(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AS.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function P2(t){if(lm.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});lm.set(t,e)}let um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k2(t){um=t(um)}function L2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zf(this),e,...n);return wS.set(i,e.sort?e.sort():[e]),ps(i)}:M2().includes(t)?function(...e){return t.apply(Zf(this),e),ps(AS.get(this))}:function(...e){return ps(t.apply(Zf(this),e))}}function U2(t){return typeof t=="function"?L2(t):(t instanceof IDBTransaction&&P2(t),O2(t,V2())?new Proxy(t,um):t)}function ps(t){if(t instanceof IDBRequest)return j2(t);if(Jf.has(t))return Jf.get(t);const e=U2(t);return e!==t&&(Jf.set(t,e),$p.set(e,t)),e}const Zf=t=>$p.get(t);function z2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=ps(a);return i&&a.addEventListener("upgradeneeded",u=>{i(ps(a.result),u.oldVersion,u.newVersion,ps(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const B2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],ed=new Map;function yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=q2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||B2.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return ed.set(e,r),r}k2(t=>({...t,get:(e,n,i)=>yv(e,n)||t.get(e,n,i),has:(e,n)=>!!yv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function F2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",vv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Gp("@firebase/app"),G2="@firebase/app-compat",$2="@firebase/analytics-compat",Y2="@firebase/analytics",K2="@firebase/app-check-compat",Q2="@firebase/app-check",W2="@firebase/auth",X2="@firebase/auth-compat",J2="@firebase/database",Z2="@firebase/data-connect",eD="@firebase/database-compat",tD="@firebase/functions",nD="@firebase/functions-compat",iD="@firebase/installations",sD="@firebase/installations-compat",rD="@firebase/messaging",aD="@firebase/messaging-compat",oD="@firebase/performance",lD="@firebase/performance-compat",uD="@firebase/remote-config",cD="@firebase/remote-config-compat",hD="@firebase/storage",fD="@firebase/storage-compat",dD="@firebase/firestore",mD="@firebase/ai",pD="@firebase/firestore-compat",gD="firebase",_D="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",yD={[cm]:"fire-core",[G2]:"fire-core-compat",[Y2]:"fire-analytics",[$2]:"fire-analytics-compat",[Q2]:"fire-app-check",[K2]:"fire-app-check-compat",[W2]:"fire-auth",[X2]:"fire-auth-compat",[J2]:"fire-rtdb",[Z2]:"fire-data-connect",[eD]:"fire-rtdb-compat",[tD]:"fire-fn",[nD]:"fire-fn-compat",[iD]:"fire-iid",[sD]:"fire-iid-compat",[rD]:"fire-fcm",[aD]:"fire-fcm-compat",[oD]:"fire-perf",[lD]:"fire-perf-compat",[uD]:"fire-rc",[cD]:"fire-rc-compat",[hD]:"fire-gcs",[fD]:"fire-gcs-compat",[dD]:"fire-fst",[pD]:"fire-fst-compat",[mD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,vD=new Map,fm=new Map;function Ev(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){const e=t.name;if(fm.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of Uc.values())Ev(n,t);for(const n of vD.values())Ev(n,t);return!0}function Ih(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Bl("app","Firebase",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=_D;function RS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:hm,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw gs.create("bad-app-name",{appName:String(s)});if(n||(n=TS()),!n)throw gs.create("no-options");const r=Uc.get(s);if(r){if(cr(n,r.options)&&cr(i,r.config))return r;throw gs.create("duplicate-app",{appName:s})}const a=new C2(s);for(const u of fm.values())a.addComponent(u);const l=new TD(n,i,a);return Uc.set(s,l),l}function Yp(t=hm){const e=Uc.get(t);if(!e&&t===hm&&TS())return RS();if(!e)throw gs.create("no-app",{appName:t});return e}function Kn(t,e,n){let i=yD[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}hr(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebase-heartbeat-database",SD=1,_l="firebase-heartbeat-store";let td=null;function CS(){return td||(td=z2(bD,SD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),td}async function AD(t){try{const n=(await CS()).transaction(_l),i=await n.objectStore(_l).get(IS(t));return await n.done,i}catch(e){if(e instanceof si)xi.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function Tv(t,e){try{const i=(await CS()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,IS(t)),await i.done}catch(n){if(n instanceof si)xi.warn(n.message);else{const i=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(i.message)}}}function IS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1024,RD=30;class CD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ND(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>RD){const a=xD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:i,unsentEntries:s}=ID(this._heartbeatsCache.heartbeats),r=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return xi.warn(n),""}}}function bv(){return new Date().toISOString().substring(0,10)}function ID(t,e=wD){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Sv(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ND{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p2()?g2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sv(t){return Lc(JSON.stringify({version:2,heartbeats:t})).length}function xD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){hr(new ws("platform-logger",e=>new H2(e),"PRIVATE")),hr(new ws("heartbeat",e=>new CD(e),"PRIVATE")),Kn(cm,vv,t),Kn(cm,vv,"esm2020"),Kn("fire-js","")}DD("");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,NS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function b(){}b.prototype=v.prototype,T.F=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(R,C,N){for(var w=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)w[Ee-2]=arguments[Ee];return v.prototype[C].apply(R,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,b){b||(b=0);const R=Array(16);if(typeof v=="string")for(var C=0;C<16;++C)R[C]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(C=0;C<16;++C)R[C]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],C=T.g[2];let N=T.g[3],w;w=v+(N^b&(C^N))+R[0]+3614090360&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[1]+3905402710&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[2]+606105819&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[3]+3250441966&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[4]+4118548399&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[5]+1200080426&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[6]+2821735955&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[7]+4249261313&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[8]+1770035416&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[9]+2336552879&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[10]+4294925233&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[11]+2304563134&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(N^b&(C^N))+R[12]+1804603682&4294967295,v=b+(w<<7&4294967295|w>>>25),w=N+(C^v&(b^C))+R[13]+4254626195&4294967295,N=v+(w<<12&4294967295|w>>>20),w=C+(b^N&(v^b))+R[14]+2792965006&4294967295,C=N+(w<<17&4294967295|w>>>15),w=b+(v^C&(N^v))+R[15]+1236535329&4294967295,b=C+(w<<22&4294967295|w>>>10),w=v+(C^N&(b^C))+R[1]+4129170786&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[6]+3225465664&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[11]+643717713&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[0]+3921069994&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[5]+3593408605&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[10]+38016083&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[15]+3634488961&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[4]+3889429448&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[9]+568446438&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[14]+3275163606&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[3]+4107603335&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[8]+1163531501&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(C^N&(b^C))+R[13]+2850285829&4294967295,v=b+(w<<5&4294967295|w>>>27),w=N+(b^C&(v^b))+R[2]+4243563512&4294967295,N=v+(w<<9&4294967295|w>>>23),w=C+(v^b&(N^v))+R[7]+1735328473&4294967295,C=N+(w<<14&4294967295|w>>>18),w=b+(N^v&(C^N))+R[12]+2368359562&4294967295,b=C+(w<<20&4294967295|w>>>12),w=v+(b^C^N)+R[5]+4294588738&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[8]+2272392833&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[11]+1839030562&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[14]+4259657740&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[1]+2763975236&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[4]+1272893353&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[7]+4139469664&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[10]+3200236656&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[13]+681279174&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[0]+3936430074&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[3]+3572445317&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[6]+76029189&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(b^C^N)+R[9]+3654602809&4294967295,v=b+(w<<4&4294967295|w>>>28),w=N+(v^b^C)+R[12]+3873151461&4294967295,N=v+(w<<11&4294967295|w>>>21),w=C+(N^v^b)+R[15]+530742520&4294967295,C=N+(w<<16&4294967295|w>>>16),w=b+(C^N^v)+R[2]+3299628645&4294967295,b=C+(w<<23&4294967295|w>>>9),w=v+(C^(b|~N))+R[0]+4096336452&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[7]+1126891415&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[14]+2878612391&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[5]+4237533241&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[12]+1700485571&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[3]+2399980690&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[10]+4293915773&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[1]+2240044497&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[8]+1873313359&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[15]+4264355552&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[6]+2734768916&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[13]+1309151649&4294967295,b=C+(w<<21&4294967295|w>>>11),w=v+(C^(b|~N))+R[4]+4149444226&4294967295,v=b+(w<<6&4294967295|w>>>26),w=N+(b^(v|~C))+R[11]+3174756917&4294967295,N=v+(w<<10&4294967295|w>>>22),w=C+(v^(N|~b))+R[2]+718787259&4294967295,C=N+(w<<15&4294967295|w>>>17),w=b+(N^(C|~v))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+N&4294967295}i.prototype.v=function(T,v){v===void 0&&(v=T.length);const b=v-this.blockSize,R=this.C;let C=this.h,N=0;for(;N<v;){if(C==0)for(;N<=b;)s(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<v;)if(R[C++]=T.charCodeAt(N++),C==this.blockSize){s(this,R),C=0;break}}else for(;N<v;)if(R[C++]=T[N++],C==this.blockSize){s(this,R),C=0;break}}this.h=C,this.o+=v},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,b=0;b<4;++b)for(let R=0;R<32;R+=8)T[v++]=this.g[b]>>>R&255;return T};function r(T,v){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function a(T,v){this.h=v;const b=[];let R=!0;for(let C=T.length-1;C>=0;C--){const N=T[C]|0;R&&N==v||(b[C]=N,R=!1)}this.g=b}var l={};function u(T){return-128<=T&&T<128?r(T,function(v){return new a([v|0],v<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(T<0)return O(c(-T));const v=[];let b=1;for(let R=0;T>=b;R++)v[R]=T/b|0,b*=4294967296;return new a(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return O(d(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(v,8));let R=p;for(let N=0;N<T.length;N+=8){var C=Math.min(8,T.length-N);const w=parseInt(T.substring(N,N+C),v);C<8?(C=c(Math.pow(v,C)),R=R.j(C).add(c(w))):(R=R.j(b),R=R.add(c(w)))}return R}var p=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-O(this).m();let T=0,v=1;for(let b=0;b<this.g.length;b++){const R=this.i(b);T+=(R>=0?R:4294967296+R)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(D(this))return"-"+O(this).toString(T);const v=c(Math.pow(T,6));var b=this;let R="";for(;;){const C=x(b,v).g;b=S(b,C.j(v));let N=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=C,I(b))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=S(this,T),D(T)?-1:I(T)?0:1};function O(T){const v=T.g.length,b=[];for(let R=0;R<v;R++)b[R]=~T.g[R];return new a(b,~T.h).add(g)}t.abs=function(){return D(this)?O(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),b=[];let R=0;for(let C=0;C<=v;C++){let N=R+(this.i(C)&65535)+(T.i(C)&65535),w=(N>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);R=w>>>16,N&=65535,w&=65535,b[C]=w<<16|N}return new a(b,b[b.length-1]&-2147483648?-1:0)};function S(T,v){return T.add(O(v))}t.j=function(T){if(I(this)||I(T))return p;if(D(this))return D(T)?O(this).j(O(T)):O(O(this).j(T));if(D(T))return O(this.j(O(T)));if(this.l(_)<0&&T.l(_)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,b=[];for(var R=0;R<2*v;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<T.g.length;C++){const N=this.i(R)>>>16,w=this.i(R)&65535,Ee=T.i(C)>>>16,ot=T.i(C)&65535;b[2*R+2*C]+=w*ot,E(b,2*R+2*C),b[2*R+2*C+1]+=N*ot,E(b,2*R+2*C+1),b[2*R+2*C+1]+=w*Ee,E(b,2*R+2*C+1),b[2*R+2*C+2]+=N*Ee,E(b,2*R+2*C+2)}for(T=0;T<v;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=v;T<2*v;T++)b[T]=0;return new a(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function A(T,v){this.g=T,this.h=v}function x(T,v){if(I(v))throw Error("division by zero");if(I(T))return new A(p,p);if(D(T))return v=x(O(T),v),new A(O(v.g),O(v.h));if(D(v))return v=x(T,O(v)),new A(O(v.g),v.h);if(T.g.length>30){if(D(T)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,R=v;R.l(T)<=0;)b=z(b),R=z(R);var C=B(b,1),N=B(R,1);for(R=B(R,2),b=B(b,2);!I(R);){var w=N.add(R);w.l(T)<=0&&(C=C.add(b),N=w),R=B(R,1),b=B(b,1)}return v=S(T,C.j(v)),new A(C,v)}for(C=p;T.l(v)>=0;){for(b=Math.max(1,Math.floor(T.m()/v.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=c(b),w=N.j(v);D(w)||w.l(T)>0;)b-=R,N=c(b),w=N.j(v);I(N)&&(N=g),C=C.add(N),T=S(T,w)}return new A(C,T)}t.B=function(T){return x(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)&T.i(R);return new a(b,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)|T.i(R);return new a(b,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),b=[];for(let R=0;R<v;R++)b[R]=this.i(R)^T.i(R);return new a(b,this.h^T.h)};function z(T){const v=T.g.length+1,b=[];for(let R=0;R<v;R++)b[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(b,T.h)}function B(T,v){const b=v>>5;v%=32;const R=T.g.length-b,C=[];for(let N=0;N<R;N++)C[N]=v>0?T.i(N+b)>>>v|T.i(N+b+1)<<32-v:T.i(N+b);return new a(C,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,NS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,_s=a}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,Do,DS,Ju,dm,OS,VS,MS;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var h=0;h<o.length;++h){var m=o[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function s(o,h){if(h)e:{var m=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var V=o[y];if(!(V in m))break e;m=m[V]}o=o[o.length-1],y=m[o],h=h(y),h!=y&&h!=null&&e(m,o,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(h){var m=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&m.push([y,h[y]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,m){return o.call.apply(o.bind,arguments)}function c(o,h,m){return c=u,c.apply(null,arguments)}function d(o,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function p(o,h){function m(){}m.prototype=h.prototype,o.Z=h.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(y,V,j){for(var H=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];return h.prototype[V].apply(y,H)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function _(o){const h=o.length;if(h>0){const m=Array(h);for(let y=0;y<h;y++)m[y]=o[y];return m}return[]}function I(o,h){for(let y=1;y<arguments.length;y++){const V=arguments[y];var m=typeof V;if(m=m!="object"?m:V?Array.isArray(V)?"array":m:"null",m=="array"||m=="object"&&typeof V.length=="number"){m=o.length||0;const j=V.length||0;o.length=m+j;for(let H=0;H<j;H++)o[m+H]=V[H]}else o.push(V)}}class D{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function O(o){a.setTimeout(()=>{throw o},0)}function S(){var o=T;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class E{constructor(){this.h=this.g=null}add(h,m){const y=A.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var A=new D(()=>new x,o=>o.reset());class x{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,T=new E,v=()=>{const o=Promise.resolve(void 0);z=()=>{o.then(b)}};function b(){for(var o;o=S();){try{o.h.call(o.g)}catch(m){O(m)}var h=A;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}B=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function Ee(o,h){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}p(Ee,C),Ee.prototype.init=function(o,h){const m=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(m=="mouseover"?h=o.fromElement:m=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(o,h,m,y,V){this.listener=o,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=V,this.key=++F,this.da=this.fa=!1}function X(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function me(o,h,m){for(const y in o)h.call(m,o[y],y,o)}function ze(o,h){for(const m in o)h.call(void 0,o[m],m,o)}function ai(o){const h={};for(const m in o)h[m]=o[m];return h}const jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ji(o,h){let m,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(m in y)o[m]=y[m];for(let j=0;j<jn.length;j++)m=jn[j],Object.prototype.hasOwnProperty.call(y,m)&&(o[m]=y[m])}}function jt(o){this.src=o,this.g={},this.h=0}jt.prototype.add=function(o,h,m,y,V){const j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);const H=Qa(o,h,y,V);return H>-1?(h=o[H],m||(h.fa=!1)):(h=new te(h,this.src,j,!!y,V),h.fa=m,o.push(h)),h};function Pn(o,h){const m=h.type;if(m in o.g){var y=o.g[m],V=Array.prototype.indexOf.call(y,h,void 0),j;(j=V>=0)&&Array.prototype.splice.call(y,V,1),j&&(X(h),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Qa(o,h,m,y){for(let V=0;V<o.length;++V){const j=o[V];if(!j.da&&j.listener==h&&j.capture==!!m&&j.ha==y)return V}return-1}var Wa="closure_lm_"+(Math.random()*1e6|0),wr={};function U(o,h,m,y,V){if(Array.isArray(h)){for(let j=0;j<h.length;j++)U(o,h[j],m,y,V);return null}return m=Un(m),o&&o[ot]?o.J(h,m,l(y)?!!y.capture:!1,V):we(o,h,m,!1,y,V)}function we(o,h,m,y,V,j){if(!h)throw Error("Invalid event type");const H=l(V)?!!V.capture:!!V;let ie=Ls(o);if(ie||(o[Wa]=ie=new jt(o)),m=ie.add(h,m,y,H,j),m.proxy)return m;if(y=Nt(),m.proxy=y,y.src=o,y.listener=m,o.addEventListener)N||(V=H),V===void 0&&(V=!1),o.addEventListener(h.toString(),y,V);else if(o.attachEvent)o.attachEvent(ks(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Nt(){function o(m){return h.call(o.src,o.listener,m)}const h=Xa;return o}function kn(o,h,m,y,V){if(Array.isArray(h))for(var j=0;j<h.length;j++)kn(o,h[j],m,y,V);else y=l(y)?!!y.capture:!!y,m=Un(m),o&&o[ot]?(o=o.i,j=String(h).toString(),j in o.g&&(h=o.g[j],m=Qa(h,m,y,V),m>-1&&(X(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete o.g[j],o.h--)))):o&&(o=Ls(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Qa(h,m,y,V)),(m=o>-1?h[o]:null)&&Ln(m))}function Ln(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ot])Pn(h.i,o);else{var m=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(m,y,o.capture):h.detachEvent?h.detachEvent(ks(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=Ls(h))?(Pn(m,o),m.h==0&&(m.src=null,h[Wa]=null)):X(o)}}}function ks(o){return o in wr?wr[o]:wr[o]="on"+o}function Xa(o,h){if(o.da)o=!0;else{h=new Ee(h,this);const m=o.listener,y=o.ha||o.src;o.fa&&Ln(o),o=m.call(y,h)}return o}function Ls(o){return o=o[Wa],o instanceof jt?o:null}var vn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Un(o){return typeof o=="function"?o:(o[vn]||(o[vn]=function(h){return o.handleEvent(h)}),o[vn])}function mt(){R.call(this),this.i=new jt(this),this.M=this,this.G=null}p(mt,R),mt.prototype[ot]=!0,mt.prototype.removeEventListener=function(o,h,m,y){kn(this,o,h,m,y)};function pt(o,h){var m,y=o.G;if(y)for(m=[];y;y=y.G)m.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new C(h,o);else if(h instanceof C)h.target=h.target||o;else{var V=h;h=new C(y,o),ji(h,V)}V=!0;let j,H;if(m)for(H=m.length-1;H>=0;H--)j=h.g=m[H],V=Zl(j,y,!0,h)&&V;if(j=h.g=o,V=Zl(j,y,!0,h)&&V,V=Zl(j,y,!1,h)&&V,m)for(H=0;H<m.length;H++)j=h.g=m[H],V=Zl(j,y,!1,h)&&V}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const m=o.g[h];for(let y=0;y<m.length;y++)X(m[y]);delete o.g[h],o.h--}}this.G=null},mt.prototype.J=function(o,h,m,y){return this.i.add(String(o),h,!1,m,y)},mt.prototype.K=function(o,h,m,y){return this.i.add(String(o),h,!0,m,y)};function Zl(o,h,m,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let V=!0;for(let j=0;j<h.length;++j){const H=h[j];if(H&&!H.da&&H.capture==m){const ie=H.listener,it=H.ha||H.src;H.fa&&Pn(o.i,H),V=ie.call(it,y)!==!1&&V}}return V&&!y.defaultPrevented}function B1(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Ug(o){o.g=B1(()=>{o.g=null,o.i&&(o.i=!1,Ug(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class q1 extends R{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ug(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(o){R.call(this),this.h=o,this.g={}}p(Ja,R);var zg=[];function Bg(o){me(o.g,function(h,m){this.g.hasOwnProperty(m)&&Ln(h)},o),o.g={}}Ja.prototype.N=function(){Ja.Z.N.call(this),Bg(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yh=a.JSON.stringify,H1=a.JSON.parse,F1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function qg(){}function Hg(){}var Za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kh(){C.call(this,"d")}p(Kh,C);function Qh(){C.call(this,"c")}p(Qh,C);var Us={},Fg=null;function eu(){return Fg=Fg||new mt}Us.Ia="serverreachability";function Gg(o){C.call(this,Us.Ia,o)}p(Gg,C);function eo(o){const h=eu();pt(h,new Gg(h))}Us.STAT_EVENT="statevent";function $g(o,h){C.call(this,Us.STAT_EVENT,o),this.stat=h}p($g,C);function xt(o){const h=eu();pt(h,new $g(h,o))}Us.Ja="timingevent";function Yg(o,h){C.call(this,Us.Ja,o),this.size=h}p(Yg,C);function to(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function no(){this.g=!0}no.prototype.ua=function(){this.g=!1};function G1(o,h,m,y,V,j){o.info(function(){if(o.g)if(j){var H="",ie=j.split("&");for(let Se=0;Se<ie.length;Se++){var it=ie[Se].split("=");if(it.length>1){const lt=it[0];it=it[1];const Bn=lt.split("_");H=Bn.length>=2&&Bn[1]=="type"?H+(lt+"="+it+"&"):H+(lt+"=redacted&")}}}else H=null;else H=j;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+h+`
`+m+`
`+H})}function $1(o,h,m,y,V,j,H){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+h+`
`+m+`
`+j+" "+H})}function Rr(o,h,m,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+K1(o,m)+(y?" "+y:"")})}function Y1(o,h){o.info(function(){return"TIMEOUT: "+h})}no.prototype.info=function(){};function K1(o,h){if(!o.g)return h;if(!h)return null;try{const j=JSON.parse(h);if(j){for(o=0;o<j.length;o++)if(Array.isArray(j[o])){var m=j[o];if(!(m.length<2)){var y=m[1];if(Array.isArray(y)&&!(y.length<1)){var V=y[0];if(V!="noop"&&V!="stop"&&V!="close")for(let H=1;H<y.length;H++)y[H]=""}}}}return Yh(j)}catch{return h}}var tu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qg;function Wh(){}p(Wh,qg),Wh.prototype.g=function(){return new XMLHttpRequest},Qg=new Wh;function io(o){return encodeURIComponent(String(o))}function Q1(o){var h=1;o=o.split(":");const m=[];for(;h>0&&o.length;)m.push(o.shift()),h--;return o.length&&m.push(o.join(":")),m}function Pi(o,h,m,y){this.j=o,this.i=h,this.l=m,this.S=y||1,this.V=new Ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wg}function Wg(){this.i=null,this.g="",this.h=!1}var Xg={},Xh={};function Jh(o,h,m){o.M=1,o.A=iu(zn(h)),o.u=m,o.R=!0,Jg(o,null)}function Jg(o,h){o.F=Date.now(),nu(o),o.B=zn(o.A);var m=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),h_(m.i,"t",y),o.C=0,m=o.j.L,o.h=new Wg,o.g=N_(o.j,m?h:null,!o.u),o.P>0&&(o.O=new q1(c(o.Y,o,o.g),o.P)),h=o.V,m=o.g,y=o.ba;var V="readystatechange";Array.isArray(V)||(V&&(zg[0]=V.toString()),V=zg);for(let j=0;j<V.length;j++){const H=U(m,V[j],y||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=o.J?ai(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),eo(),G1(o.i,o.v,o.B,o.l,o.S,o.u)}Pi.prototype.ba=function(o){o=o.target;const h=this.O;h&&Ui(o)==3?h.j():this.Y(o)},Pi.prototype.Y=function(o){try{if(o==this.g)e:{const ie=Ui(this.g),it=this.g.ya(),Se=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||y_(this.g)))){this.K||ie!=4||it==7||(it==8||Se<=0?eo(3):eo(2)),Zh(this);var h=this.g.ca();this.X=h;var m=W1(this);if(this.o=h==200,$1(this.i,this.v,this.B,this.l,this.S,ie,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,V=this.g;if((y=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var j=y;break t}}j=null}if(o=j)Rr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ef(this,o);else{this.o=!1,this.m=3,xt(12),zs(this),so(this);break e}}if(this.R){o=!0;let lt;for(;!this.K&&this.C<m.length;)if(lt=X1(this,m),lt==Xh){ie==4&&(this.m=4,xt(14),o=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Xg){this.m=4,xt(15),Rr(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else Rr(this.i,this.l,lt,null),ef(this,lt);if(Zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||m.length!=0||this.h.h||(this.m=1,xt(16),o=!1),this.o=this.o&&o,!o)Rr(this.i,this.l,m,"[Invalid Chunked Response]"),zs(this),so(this);else if(m.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),uf(H),H.P=!0,xt(11))}}else Rr(this.i,this.l,m,null),ef(this,m);ie==4&&zs(this),this.o&&!this.K&&(ie==4?w_(this.j,this):(this.o=!1,nu(this)))}else hw(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),zs(this),so(this)}}}catch{}finally{}};function W1(o){if(!Zg(o))return o.g.la();const h=y_(o.g);if(h==="")return"";let m="";const y=h.length,V=Ui(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return zs(o),so(o),"";o.h.i=new a.TextDecoder}for(let j=0;j<y;j++)o.h.h=!0,m+=o.h.i.decode(h[j],{stream:!(V&&j==y-1)});return h.length=0,o.h.g+=m,o.C=0,o.h.g}function Zg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function X1(o,h){var m=o.C,y=h.indexOf(`
`,m);return y==-1?Xh:(m=Number(h.substring(m,y)),isNaN(m)?Xg:(y+=1,y+m>h.length?Xh:(h=h.slice(y,y+m),o.C=y+m,h)))}Pi.prototype.cancel=function(){this.K=!0,zs(this)};function nu(o){o.T=Date.now()+o.H,e_(o,o.H)}function e_(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=to(c(o.aa,o),h)}function Zh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Pi.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Y1(this.i,this.B),this.M!=2&&(eo(),xt(17)),zs(this),this.m=2,so(this)):e_(this,this.T-o)};function so(o){o.j.I==0||o.K||w_(o.j,o)}function zs(o){Zh(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,Bg(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function ef(o,h){try{var m=o.j;if(m.I!=0&&(m.g==o||tf(m.h,o))){if(!o.L&&tf(m.h,o)&&m.I==3){try{var y=m.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)lu(m),au(m);else break e;lf(m),xt(18)}}else m.xa=V[1],0<m.xa-m.K&&V[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=to(c(m.Va,m),6e3));i_(m.h)<=1&&m.ta&&(m.ta=void 0)}else qs(m,11)}else if((o.L||m.g==o)&&lu(m),!w(h))for(V=m.Ba.g.parse(h),h=0;h<V.length;h++){let Se=V[h];const lt=Se[0];if(!(lt<=m.K))if(m.K=lt,Se=Se[1],m.I==2)if(Se[0]=="c"){m.M=Se[1],m.ba=Se[2];const Bn=Se[3];Bn!=null&&(m.ka=Bn,m.j.info("VER="+m.ka));const Hs=Se[4];Hs!=null&&(m.za=Hs,m.j.info("SVER="+m.za));const zi=Se[5];zi!=null&&typeof zi=="number"&&zi>0&&(y=1.5*zi,m.O=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Bi=o.g;if(Bi){const cu=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var j=y.h;j.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(nf(j,j.h),j.h=null))}if(y.G){const cf=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(y.wa=cf,Ie(y.J,y.G,cf))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),y=m;var H=o;if(y.na=I_(y,y.L?y.ba:null,y.W),H.L){s_(y.h,H);var ie=H,it=y.O;it&&(ie.H=it),ie.D&&(Zh(ie),nu(ie)),y.g=H}else S_(y);m.i.length>0&&ou(m)}else Se[0]!="stop"&&Se[0]!="close"||qs(m,7);else m.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?qs(m,7):of(m):Se[0]!="noop"&&m.l&&m.l.qa(Se),m.A=0)}}eo(4)}catch{}}var J1=class{constructor(o,h){this.g=o,this.map=h}};function t_(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function n_(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function i_(o){return o.h?1:o.g?o.g.size:0}function tf(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function nf(o,h){o.g?o.g.add(h):o.h=h}function s_(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}t_.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function r_(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const m of o.g.values())h=h.concat(m.G);return h}return _(o.i)}var a_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z1(o,h){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const y=o[m].indexOf("=");let V,j=null;y>=0?(V=o[m].substring(0,y),j=o[m].substring(y+1)):V=o[m],h(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ki(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof ki?(this.l=o.l,ro(this,o.j),this.o=o.o,this.g=o.g,ao(this,o.u),this.h=o.h,sf(this,f_(o.i)),this.m=o.m):o&&(h=String(o).match(a_))?(this.l=!1,ro(this,h[1]||"",!0),this.o=oo(h[2]||""),this.g=oo(h[3]||"",!0),ao(this,h[4]),this.h=oo(h[5]||"",!0),sf(this,h[6]||"",!0),this.m=oo(h[7]||"")):(this.l=!1,this.i=new uo(null,this.l))}ki.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(lo(h,o_,!0),":");var m=this.g;return(m||h=="file")&&(o.push("//"),(h=this.o)&&o.push(lo(h,o_,!0),"@"),o.push(io(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(lo(m,m.charAt(0)=="/"?nw:tw,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",lo(m,sw)),o.join("")},ki.prototype.resolve=function(o){const h=zn(this);let m=!!o.j;m?ro(h,o.j):m=!!o.o,m?h.o=o.o:m=!!o.g,m?h.g=o.g:m=o.u!=null;var y=o.h;if(m)ao(h,o.u);else if(m=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var V=h.h.lastIndexOf("/");V!=-1&&(y=h.h.slice(0,V+1)+y)}if(V=y,V==".."||V==".")y="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){y=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let H=0;H<V.length;){const ie=V[H++];ie=="."?y&&H==V.length&&j.push(""):ie==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),y&&H==V.length&&j.push("")):(j.push(ie),y=!0)}y=j.join("/")}else y=V}return m?h.h=y:m=o.i.toString()!=="",m?sf(h,f_(o.i)):m=!!o.m,m&&(h.m=o.m),h};function zn(o){return new ki(o)}function ro(o,h,m){o.j=m?oo(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function ao(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function sf(o,h,m){h instanceof uo?(o.i=h,rw(o.i,o.l)):(m||(h=lo(h,iw)),o.i=new uo(h,o.l))}function Ie(o,h,m){o.i.set(h,m)}function iu(o){return Ie(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function oo(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function lo(o,h,m){return typeof o=="string"?(o=encodeURI(o).replace(h,ew),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ew(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var o_=/[#\/\?@]/g,tw=/[#\?:]/g,nw=/[#\?]/g,iw=/[#\?@]/g,sw=/#/g;function uo(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Bs(o){o.g||(o.g=new Map,o.h=0,o.i&&Z1(o.i,function(h,m){o.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=uo.prototype,t.add=function(o,h){Bs(this),this.i=null,o=Cr(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(h),this.h+=1,this};function l_(o,h){Bs(o),h=Cr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function u_(o,h){return Bs(o),h=Cr(o,h),o.g.has(h)}t.forEach=function(o,h){Bs(this),this.g.forEach(function(m,y){m.forEach(function(V){o.call(h,V,y,this)},this)},this)};function c_(o,h){Bs(o);let m=[];if(typeof h=="string")u_(o,h)&&(m=m.concat(o.g.get(Cr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)m=m.concat(o[h]);return m}t.set=function(o,h){return Bs(this),this.i=null,o=Cr(this,o),u_(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=c_(this,o),o.length>0?String(o[0]):h):h};function h_(o,h,m){l_(o,h),m.length>0&&(o.i=null,o.g.set(Cr(o,h),_(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var m=h[y];const V=io(m);m=c_(this,m);for(let j=0;j<m.length;j++){let H=V;m[j]!==""&&(H+="="+io(m[j])),o.push(H)}}return this.i=o.join("&")};function f_(o){const h=new uo;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Cr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function rw(o,h){h&&!o.j&&(Bs(o),o.i=null,o.g.forEach(function(m,y){const V=y.toLowerCase();y!=V&&(l_(this,y),h_(this,V,m))},o)),o.j=h}function aw(o,h){const m=new no;if(a.Image){const y=new Image;y.onload=d(Li,m,"TestLoadImage: loaded",!0,h,y),y.onerror=d(Li,m,"TestLoadImage: error",!1,h,y),y.onabort=d(Li,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=d(Li,m,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function ow(o,h){const m=new no,y=new AbortController,V=setTimeout(()=>{y.abort(),Li(m,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(j=>{clearTimeout(V),j.ok?Li(m,"TestPingServer: ok",!0,h):Li(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Li(m,"TestPingServer: error",!1,h)})}function Li(o,h,m,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(m)}catch{}}function lw(){this.g=new F1}function rf(o){this.i=o.Sb||null,this.h=o.ab||!1}p(rf,qg),rf.prototype.g=function(){return new su(this.i,this.h)};function su(o,h){mt.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(su,mt),t=su.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,ho(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;d_(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function d_(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?co(this):ho(this),this.readyState==3&&d_(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,co(this))},t.Na=function(o){this.g&&(this.response=o,co(this))},t.ga=function(){this.g&&co(this)};function co(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ho(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=h.next();return o.join(`\r
`)};function ho(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function m_(o){let h="";return me(o,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function af(o,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=m_(m),typeof o=="string"?m!=null&&io(m):Ie(o,h,m))}function Be(o){mt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Be,mt);var uw=/^https?$/i,cw=["POST","PUT"];t=Be.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qg.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(j){p_(this,j);return}if(o=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)m.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const j of y.keys())m.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(cw,h,void 0)>=0)||y||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,H]of m)this.g.setRequestHeader(j,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(j){p_(this,j)}};function p_(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,g_(o),ru(o)}function g_(o){o.A||(o.A=!0,pt(o,"complete"),pt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,pt(this,"complete"),pt(this,"abort"),ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ru(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?__(this):this.Xa())},t.Xa=function(){__(this)};function __(o){if(o.h&&typeof r<"u"){if(o.v&&Ui(o)==4)setTimeout(o.Ca.bind(o),0);else if(pt(o,"readystatechange"),Ui(o)==4){o.h=!1;try{const j=o.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=j===0){let H=String(o.D).match(a_)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),y=!uw.test(H?H.toLowerCase():"")}m=y}if(m)pt(o,"complete"),pt(o,"success");else{o.o=6;try{var V=Ui(o)>2?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.ca()+"]",g_(o)}}finally{ru(o)}}}}function ru(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,h||pt(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ui(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),H1(h)}};function y_(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function hw(o){const h={};o=(o.g&&Ui(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var m=Q1(o[y]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=h[V]||[];h[V]=j,j.push(m)}ze(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(o,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||h}function v_(o){this.za=0,this.i=[],this.j=new no,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fo("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fo("baseRetryDelayMs",5e3,o),this.Za=fo("retryDelaySeedMs",1e4,o),this.Ta=fo("forwardChannelMaxRetries",2,o),this.va=fo("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new t_(o&&o.concurrentRequestLimit),this.Ba=new lw,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=v_.prototype,t.ka=8,t.I=1,t.connect=function(o,h,m,y){xt(0),this.W=o,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.J=I_(this,null,this.W),ou(this)};function of(o){if(E_(o),o.I==3){var h=o.V++,m=zn(o.J);if(Ie(m,"SID",o.M),Ie(m,"RID",h),Ie(m,"TYPE","terminate"),mo(o,m),h=new Pi(o,o.j,h),h.M=2,h.A=iu(zn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.A,m=!0),m||(h.g=N_(h.j,null),h.g.ea(h.A)),h.F=Date.now(),nu(h)}C_(o)}function au(o){o.g&&(uf(o),o.g.cancel(),o.g=null)}function E_(o){au(o),o.v&&(a.clearTimeout(o.v),o.v=null),lu(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function ou(o){if(!n_(o.h)&&!o.m){o.m=!0;var h=o.Ea;z||v(),B||(z(),B=!0),T.add(h,o),o.D=0}}function fw(o,h){return i_(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=to(c(o.Ea,o,h),R_(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const V=new Pi(this,this.j,o);let j=this.o;if(this.U&&(j?(j=ai(j),ji(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=b_(this,V,h),m=zn(this.J),Ie(m,"RID",o),Ie(m,"CVER",22),this.G&&Ie(m,"X-HTTP-Session-Id",this.G),mo(this,m),j&&(this.R?h="headers="+io(m_(j))+"&"+h:this.u&&af(m,this.u,j)),nf(this.h,V),this.Ra&&Ie(m,"TYPE","init"),this.S?(Ie(m,"$req",h),Ie(m,"SID","null"),V.U=!0,Jh(V,m,null)):Jh(V,m,h),this.I=2}}else this.I==3&&(o?T_(this,o):this.i.length==0||n_(this.h)||T_(this))};function T_(o,h){var m;h?m=h.l:m=o.V++;const y=zn(o.J);Ie(y,"SID",o.M),Ie(y,"RID",m),Ie(y,"AID",o.K),mo(o,y),o.u&&o.o&&af(y,o.u,o.o),m=new Pi(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),h&&(o.i=h.G.concat(o.i)),h=b_(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),nf(o.h,m),Jh(m,y,h)}function mo(o,h){o.H&&me(o.H,function(m,y){Ie(h,y,m)}),o.l&&me({},function(m,y){Ie(h,y,m)})}function b_(o,h,m){m=Math.min(o.i.length,m);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var V=o.i;let ie=-1;for(;;){const it=["count="+m];ie==-1?m>0?(ie=V[0].g,it.push("ofs="+ie)):ie=0:it.push("ofs="+ie);let Se=!0;for(let lt=0;lt<m;lt++){var j=V[lt].g;const Bn=V[lt].map;if(j-=ie,j<0)ie=Math.max(0,V[lt].g-100),Se=!1;else try{j="req"+j+"_"||"";try{var H=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Hs,zi]of H){let Bi=zi;l(zi)&&(Bi=Yh(zi)),it.push(j+Hs+"="+encodeURIComponent(Bi))}}catch(Hs){throw it.push(j+"type="+encodeURIComponent("_badmap")),Hs}}catch{y&&y(Bn)}}if(Se){H=it.join("&");break e}}H=void 0}return o=o.i.splice(0,m),h.G=o,H}function S_(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;z||v(),B||(z(),B=!0),T.add(h,o),o.A=0}}function lf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=to(c(o.Da,o),R_(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,A_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=to(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),au(this),A_(this))};function uf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function A_(o){o.g=new Pi(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=zn(o.na);Ie(h,"RID","rpc"),Ie(h,"SID",o.M),Ie(h,"AID",o.K),Ie(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ie(h,"TO",o.ia),Ie(h,"TYPE","xmlhttp"),mo(o,h),o.u&&o.o&&af(h,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=iu(zn(h)),m.u=null,m.R=!0,Jg(m,o)}t.Va=function(){this.C!=null&&(this.C=null,au(this),lf(this),xt(19))};function lu(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function w_(o,h){var m=null;if(o.g==h){lu(o),uf(o),o.g=null;var y=2}else if(tf(o.h,h))m=h.G,s_(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var V=o.D;y=eu(),pt(y,new Yg(y,m)),ou(o)}else S_(o);else if(V=h.m,V==3||V==0&&h.X>0||!(y==1&&fw(o,h)||y==2&&lf(o)))switch(m&&m.length>0&&(h=o.h,h.i=h.i.concat(m)),V){case 1:qs(o,5);break;case 4:qs(o,10);break;case 3:qs(o,6);break;default:qs(o,2)}}}function R_(o,h){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*h}function qs(o,h){if(o.j.info("Error code "+h),h==2){var m=c(o.bb,o),y=o.Ua;const V=!y;y=new ki(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ro(y,"https"),iu(y),V?aw(y.toString(),m):ow(y.toString(),m)}else xt(2);o.I=0,o.l&&o.l.pa(h),C_(o),E_(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function C_(o){if(o.I=0,o.ja=[],o.l){const h=r_(o.h);(h.length!=0||o.i.length!=0)&&(I(o.ja,h),I(o.ja,o.i),o.h.i.length=0,_(o.i),o.i.length=0),o.l.oa()}}function I_(o,h,m){var y=m instanceof ki?zn(m):new ki(m);if(y.g!="")h&&(y.g=h+"."+y.g),ao(y,y.u);else{var V=a.location;y=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;const j=new ki(null);y&&ro(j,y),h&&(j.g=h),V&&ao(j,V),m&&(j.h=m),y=j}return m=o.G,h=o.wa,m&&h&&Ie(y,m,h),Ie(y,"VER",o.ka),mo(o,y),y}function N_(o,h,m){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Be(new rf({ab:m})):new Be(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x_(){}t=x_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function uu(){}uu.prototype.g=function(o,h){return new $t(o,h)};function $t(o,h){mt.call(this),this.g=new v_(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!w(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Ir(this)}p($t,mt),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){of(this.g)},$t.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=Yh(o),o=m);h.i.push(new J1(h.Ya++,o)),h.I==3&&ou(h)},$t.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,$t.Z.N.call(this)};function D_(o){Kh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const m in h){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}p(D_,Kh);function O_(){Qh.call(this),this.status=1}p(O_,Qh);function Ir(o){this.g=o}p(Ir,x_),Ir.prototype.ra=function(){pt(this.g,"a")},Ir.prototype.qa=function(o){pt(this.g,new D_(o))},Ir.prototype.pa=function(o){pt(this.g,new O_)},Ir.prototype.oa=function(){pt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,MS=function(){return new uu},VS=function(){return eu()},OS=Us,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,Ju=tu,Kg.COMPLETE="complete",DS=Kg,Hg.EventType=Za,Za.OPEN="a",Za.CLOSE="b",Za.ERROR="c",Za.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Do=Hg,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,xS=Be}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="12.8.0";function OD(t){qa=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Gp("@firebase/firestore");function Mr(){return fr.logLevel}function G(t,...e){if(fr.logLevel<=ae.DEBUG){const n=e.map(Kp);fr.debug(`Firestore (${qa}): ${t}`,...n)}}function Di(t,...e){if(fr.logLevel<=ae.ERROR){const n=e.map(Kp);fr.error(`Firestore (${qa}): ${t}`,...n)}}function ba(t,...e){if(fr.logLevel<=ae.WARN){const n=e.map(Kp);fr.warn(`Firestore (${qa}): ${t}`,...n)}}function Kp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,jS(t,i,n)}function jS(t,e,n){let i=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Di(i),new Error(i)}function _e(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||jS(e,s,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jD{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new nr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new PS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new wt(e)}}class PD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new PD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const i=r=>{r.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=UD(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function mm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),r=e.charAt(i);if(s!==r)return nd(s)===nd(r)?oe(s,r):nd(s)?1:-1}return oe(t.length,e.length)}const zD=55296,BD=57343;function nd(t){const e=t.charCodeAt(0);return e>=zD&&e<=BD}function Sa(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class Hn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Hn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return oe(e.length,n.length)}static compareSegments(e,n){const i=Hn.isNumericId(e),s=Hn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Re extends Hn{construct(e,n,i){return new Re(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const qD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Hn{construct(e,n,i){return new Et(e,n,i)}static isValidIdentifier(e){return qD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new Et([Rv])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Re.fromString(e))}static fromName(e){return new Y(Re.fromString(e).popFirst(5))}static empty(){return new Y(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e,n){if(!n)throw new $(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HD(t,e,n,i){if(e===!0&&i===!0)throw new $(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cv(t){if(!Y.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iv(t){if(Y.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(t);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hl(t,e){if(!LS(t))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new $(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-62135596800,xv=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*xv);return new De(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nv)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:et("string",De._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new De(0,0))}static max(){return new J(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function FD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(i===1e9?new De(n+1,0):new De(n,i));return new Rs(s,Y.empty(),e)}function GD(t){return new Rs(t.readTime,t.key,yl)}class Rs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Rs(J.min(),Y.empty(),yl)}static max(){return new Rs(J.max(),Y.empty(),yl)}}function $D(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==YD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new L((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const c=u;n(e[c]).next(d=>{a[c]=d,++l,l===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new L((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function QD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function Dh(t){return t==null}function zc(t){return t===0&&1/t==-1/0}function WD(t){return typeof t=="number"&&Number.isInteger(t)&&!zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="";function XD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dv(e)),e=JD(t.get(n),e);return Dv(e)}function JD(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case US:n+="";break;default:n+=r}}return n}function Dv(t){return t+US+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??_t.RED,this.left=s??_t.EMPTY,this.right=r??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new _t(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new rt(Et.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new BS("Invalid base64 string: "+r):r}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const ZD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=ZD.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="server_timestamp",HS="__type__",FS="__previous_value__",GS="__local_write_time__";function Xp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HS])==null?void 0:i.stringValue)===qS}function Oh(t){const e=t.mapValue.fields[FS];return Xp(e)?Oh(e):e}function vl(t){const e=Cs(t.mapValue.fields[GS].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,i,s,r,a,l,u,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=p}}const Bc="(default)";class El{constructor(e,n){this.projectId=e,this.database=n||Bc}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}function tO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="__type__",nO="__max__",xu={mapValue:{}},YS="__vector__",qc="value";function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xp(t)?4:sO(t)?9007199254740991:iO(t)?10:11:Q(28295,{value:t})}function ei(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Cs(s.timestampValue),l=Cs(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Is(s.bytesValue).isEqual(Is(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Fe(s.geoPointValue.latitude)===Fe(r.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Fe(s.integerValue)===Fe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Fe(s.doubleValue),l=Fe(r.doubleValue);return a===l?zc(a)===zc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(Ov(a)!==Ov(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!ei(a[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Tl(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=Ns(t),i=Ns(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Fe(r.integerValue||r.doubleValue),u=Fe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(vl(t),vl(e));case 5:return mm(t.stringValue,e.stringValue);case 6:return function(r,a){const l=Is(r),u=Is(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=oe(l[c],u[c]);if(d!==0)return d}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=oe(Fe(r.latitude),Fe(a.latitude));return l!==0?l:oe(Fe(r.longitude),Fe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var g,_,I,D;const l=r.fields||{},u=a.fields||{},c=(g=l[qc])==null?void 0:g.arrayValue,d=(_=u[qc])==null?void 0:_.arrayValue,p=oe(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((D=d==null?void 0:d.values)==null?void 0:D.length)||0);return p!==0?p:jv(c,d)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===xu.mapValue&&a===xu.mapValue)return 0;if(r===xu.mapValue)return 1;if(a===xu.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),c=a.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=mm(u[p],d[p]);if(g!==0)return g;const _=Aa(l[u[p]],c[d[p]]);if(_!==0)return _}return oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Cs(t),i=Cs(e),s=oe(n.seconds,i.seconds);return s!==0?s:oe(n.nanos,i.nanos)}function jv(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Aa(n[s],i[s]);if(r)return r}return oe(n.length,i.length)}function wa(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Cs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=pm(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${pm(n.fields[a])}`;return s+"}"}(t.mapValue):Q(61005,{value:t})}function Zu(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(t);return e?16+Zu(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Zu(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Ms(i.fields,(r,a)=>{s+=r.length+Zu(a)}),s}(t.mapValue);default:throw Q(13486,{value:t})}}function Pv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gm(t){return!!t&&"integerValue"in t}function Jp(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function Lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ec(t){return!!t&&"mapValue"in t}function iO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$S])==null?void 0:i.stringValue)===YS}function Xo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(t.arrayValue.values[n]);return e}return{...t}}function sO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=Et.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=Xo(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];ec(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ms(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new qt(Xo(this.value))}}function KS(t){const e=[];return Ms(t.fields,(n,i)=>{const s=new Et([n]);if(ec(i)){const r=KS(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ct(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,i,s){return new Ct(e,1,n,J.min(),i,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=Aa(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function zv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function rO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class Je extends QS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new oO(e,n,i):n==="array-contains"?new cO(e,i):n==="in"?new hO(e,i):n==="not-in"?new fO(e,i):n==="array-contains-any"?new dO(e,i):new Je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lO(e,i):new uO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xn(e,n)}matches(e){return WS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WS(t){return t.op==="and"}function XS(t){return aO(t)&&WS(t)}function aO(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function _m(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(XS(t))return t.filters.map(e=>_m(e)).join(",");{const e=t.filters.map(n=>_m(n)).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof Je?function(i,s){return s instanceof Je&&i.op===s.op&&i.field.isEqual(s.field)&&ei(i.value,s.value)}(t,e):t instanceof xn?function(i,s){return s instanceof xn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&JS(a,s.filters[l]),!0):!1}(t,e):void Q(19439)}function ZS(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"}(t):"Filter"}class oO extends Je{constructor(e,n,i){super(e,n,i),this.key=Y.fromName(i.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class lO extends Je{constructor(e,n){super(e,"in",n),this.keys=eA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uO extends Je{constructor(e,n){super(e,"not-in",n),this.keys=eA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class cO extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&Tl(n.arrayValue,this.value)}}class hO extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tl(this.value.arrayValue,n)}}class fO extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tl(this.value.arrayValue,n)}}class dO extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Te=null}}function Bv(t,e=null,n=[],i=[],s=null,r=null,a=null){return new mO(t,e,n,i,s,r,a)}function Zp(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>_m(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>wa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>wa(i)).join(",")),e.Te=n}return e.Te}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zv(t.startAt,e.startAt)&&zv(t.endAt,e.endAt)}function ym(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pO(t,e,n,i,s,r,a,l){return new Fl(t,e,n,i,s,r,a,l)}function tg(t){return new Fl(t)}function qv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gO(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function tA(t){return t.collectionGroup!==null}function Jo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rt(Et.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Fc(r,i))}),n.has(Et.keyField().canonicalString())||e.Ie.push(new Fc(Et.keyField(),i))}return e.Ie}function Qn(t){const e=Z(t);return e.Ee||(e.Ee=_O(e,Jo(t))),e.Ee}function _O(t,e){if(t.limitType==="F")return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Fc(s.field,r)});const n=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;return Bv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vm(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Em(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return eg(Qn(t),Qn(e))&&t.limitType===e.limitType}function nA(t){return`${Zp(Qn(t))}|lt:${t.limitType}`}function jr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>ZS(s)).join(", ")}]`),Dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>wa(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>wa(s)).join(",")),`Target(${i})`}(Qn(t))}; limitType=${t.limitType})`}function Mh(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Y.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Jo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,Jo(i),s)||i.endAt&&!function(a,l,u){const c=Uv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,Jo(i),s))}(t,e)}function yO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iA(t){return(e,n)=>{let i=!1;for(const s of Jo(t)){const r=vO(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function vO(t,e,n){const i=t.field.isKeyField()?Y.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),c=l.data.field(r);return u!==null&&c!==null?Aa(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Ue(Y.comparator);function Oi(){return EO}const sA=new Ue(Y.comparator);function Oo(...t){let e=sA;for(const n of t)e=e.insert(n.key,n);return e}function rA(t){let e=sA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ws(){return Zo()}function aA(){return Zo()}function Zo(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}const TO=new Ue(Y.comparator),bO=new rt(Y.comparator);function le(...t){let e=bO;for(const n of t)e=e.add(n);return e}const SO=new rt(oe);function AO(){return SO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function wO(t,e){return WD(e)?oA(e):ng(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function RO(t,e,n){return t instanceof Gc?function(s,r){const a={fields:{[HS]:{stringValue:qS},[GS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Xp(r)&&(r=Oh(r)),r&&(a.fields[FS]=r),{mapValue:a}}(n,e):t instanceof bl?uA(t,e):t instanceof Sl?cA(t,e):function(s,r){const a=lA(s,r),l=Hv(a)+Hv(s.Ae);return gm(a)&&gm(s.Ae)?oA(l):ng(s.serializer,l)}(t,e)}function CO(t,e,n){return t instanceof bl?uA(t,e):t instanceof Sl?cA(t,e):n}function lA(t,e){return t instanceof $c?function(i){return gm(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Gc extends jh{}class bl extends jh{constructor(e){super(),this.elements=e}}function uA(t,e){const n=hA(e);for(const i of t.elements)n.some(s=>ei(s,i))||n.push(i);return{arrayValue:{values:n}}}class Sl extends jh{constructor(e){super(),this.elements=e}}function cA(t,e){let n=hA(e);for(const i of t.elements)n=n.filter(s=>!ei(s,i));return{arrayValue:{values:n}}}class $c extends jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hv(t){return Fe(t.integerValue||t.doubleValue)}function hA(t){return Jp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IO(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof bl&&s instanceof bl||i instanceof Sl&&s instanceof Sl?Sa(i.elements,s.elements,ei):i instanceof $c&&s instanceof $c?ei(i.Ae,s.Ae):i instanceof Gc&&s instanceof Gc}(t.transform,e.transform)}class NO{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ph{}function fA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ig(t.key,Cn.none()):new Gl(t.key,t.data,Cn.none());{const n=t.data,i=qt.empty();let s=new rt(Et.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new js(t.key,i,new Xt(s.toArray()),Cn.none())}}function xO(t,e,n){t instanceof Gl?function(s,r,a){const l=s.value.clone(),u=Gv(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof js?function(s,r,a){if(!tc(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Gv(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(dA(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,i){return t instanceof Gl?function(r,a,l,u){if(!tc(r.precondition,a))return l;const c=r.value.clone(),d=$v(r.fieldTransforms,u,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof js?function(r,a,l,u){if(!tc(r.precondition,a))return l;const c=$v(r.fieldTransforms,u,a),d=a.data;return d.setAll(dA(r)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(r,a,l){return tc(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function DO(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=lA(i.transform,s||null);r!=null&&(n===null&&(n=qt.empty()),n.set(i.field,r))}return n||null}function Fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sa(i,s,(r,a)=>IO(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends Ph{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class js extends Ph{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Gv(t,e,n){const i=new Map;_e(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,CO(a,l,n[s]))}return i}function $v(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,RO(r,a,e))}return i}class ig extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&xO(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=aA();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=fA(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,i)=>Fv(n,i))&&Sa(this.baseMutations,e.baseMutations,(n,i)=>Fv(n,i))}}class sg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return TO}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new sg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,he;function PO(t){switch(t){case k.OK:return Q(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function mA(t){if(t===void 0)return Di("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ke.OK:return k.OK;case Ke.CANCELLED:return k.CANCELLED;case Ke.UNKNOWN:return k.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return k.INTERNAL;case Ke.UNAVAILABLE:return k.UNAVAILABLE;case Ke.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ke.NOT_FOUND:return k.NOT_FOUND;case Ke.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ke.ABORTED:return k.ABORTED;case Ke.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ke.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:t})}}(he=Ke||(Ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new _s([4294967295,4294967295],0);function Yv(t){const e=kO().encode(t),n=new NS;return n.update(e),new Uint8Array(n.digest())}function Kv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new _s([n,i],0),new _s([s,r],0)]}class rg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(i<0)throw new Vo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(_s.fromNumber(i)));return s.compare(LO)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yv(e),[i,s]=Kv(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new rg(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Yv(e),[i,s]=Kv(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new kh(J.min(),s,new Ue(oe),Oi(),le())}}class $l{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $l(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=s}}class pA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,i=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Qv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),i=le();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Q(38017,{changeType:r})}}),new $l(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Wv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.He=Du(),this.Je=Du(),this.Ze=new Ue(oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const r=s.target;if(ym(r))if(i===0){const a=new Y(r.path);this.et(n,a,Ct.newNoDocument(a,J.min()))}else _e(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=Is(i).toUint8Array()}catch(u){if(u instanceof BS)return ba("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rg(a,s,r)}catch(u){return ba(u instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const l=this.ot(a);if(l){if(r.current&&ym(l.target)){const u=new Y(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Ct.newNoDocument(u,e))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=le();this.Je.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const s=new kh(e,n,this.Ze,this.je,i);return this.je=Oi(),this.He=Du(),this.Je=Du(),this.Ze=new Ue(oe),s}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Qv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rt(oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rt(oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Du(){return new Ue(Y.comparator)}function Wv(){return new Ue(Y.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class HO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FO(t,e){return Yc(t,e.toTimestamp())}function Wn(t){return _e(!!t,49232),J.fromTimestamp(function(n){const i=Cs(n);return new De(i.seconds,i.nanos)}(t))}function ag(t,e){return bm(t,e).canonicalString()}function bm(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yA(t){const e=Re.fromString(t);return _e(SA(e),10190,{key:e.toString()}),e}function Sm(t,e){return ag(t.databaseId,e.path)}function id(t,e){const n=yA(e);if(n.get(1)!==t.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(EA(n))}function vA(t,e){return ag(t.databaseId,e)}function GO(t){const e=yA(t);return e.length===4?Re.emptyPath():EA(e)}function Am(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xv(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function $O(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(c,d){return c.useProto3Json?(_e(d===void 0||typeof d=="string",58123),St.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const d=c.code===void 0?k.UNKNOWN:mA(c.code);return new $(d,c.message||"")}(a);n=new gA(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=id(t,i.document.name),r=Wn(i.document.updateTime),a=i.document.createTime?Wn(i.document.createTime):J.min(),l=new qt({mapValue:{fields:i.document.fields}}),u=Ct.newFoundDocument(s,r,a,l),c=i.targetIds||[],d=i.removedTargetIds||[];n=new nc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=id(t,i.document),r=i.readTime?Wn(i.readTime):J.min(),a=Ct.newNoDocument(s,r),l=i.removedTargetIds||[];n=new nc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=id(t,i.document),r=i.removedTargetIds||[];n=new nc([],r,s,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new jO(s,r),l=i.targetId;n=new pA(l,a)}}return n}function YO(t,e){let n;if(e instanceof Gl)n={update:Xv(t,e.key,e.value)};else if(e instanceof ig)n={delete:Sm(t,e.key)};else if(e instanceof js)n={update:Xv(t,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof OO))return Q(16599,{dt:e.type});n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Gc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $c)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:FO(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q(27497)}(t,e.precondition)),n}function KO(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Wn(s.updateTime):Wn(r);return a.isEqual(J.min())&&(a=Wn(r)),new NO(a,s.transformResults||[])}(n,e))):[]}function QO(t,e){return{documents:[vA(t,e.path)]}}function WO(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=vA(t,s);const r=function(c){if(c.length!==0)return bA(xn.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Pr(g.field),direction:ZO(g.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Tm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function XO(t){let e=GO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){_e(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(p){const g=TA(p);return g instanceof xn&&XS(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(I){return new Fc(kr(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Dh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new Hc(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,_=p.values||[];return new Hc(_,g)}(n.endAt)),pO(e,s,a,r,l,"F",u,c)}function JO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=kr(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=kr(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kr(n.unaryFilter.field);return Je.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=kr(n.unaryFilter.field);return Je.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(kr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(i=>TA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function ZO(t){return zO[t]}function e4(t){return BO[t]}function t4(t){return qO[t]}function Pr(t){return{fieldPath:t.canonicalString()}}function kr(t){return Et.fromServerFormat(t.fieldPath)}function bA(t){return t instanceof Je?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(n.field),op:e4(n.op),value:n.value}}}(t):t instanceof xn?function(n){const i=n.getFilters().map(s=>bA(s));return i.length===1?i[0]:{compositeFilter:{op:t4(n.op),filters:i}}}(t):Q(54877,{filter:t})}function n4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function AA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,i,s,r=J.min(),a=J.min(),l=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.yt=e}}function s4(t){const e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Sn=new a4}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Rs.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class a4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rt(Re.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(wA,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ra(0)}static ar(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",o4=1048576;function eE([t,e],[n,i]){const s=oe(t,n);return s===0?oe(e,i):s}class l4{constructor(e){this.Pr=e,this.buffer=new rt(eE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();eE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fa(n)?G(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await Ha(n)}await this.Ar(3e5)})}}class c4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(xh.ce);const i=new l4(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,s,r,a,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(r=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(c=Date.now(),Mr()<=ae.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function h4(t,e){return new c4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&el(i.mutation,s,Xt.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Oo();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=Oi();const a=Zo(),l=function(){return Zo()}();return n.forEach((u,c)=>{const d=i.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof js)?r=r.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),el(d.mutation,c,d.mutation.getFieldMask(),De.now())):a.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>l.set(c,new d4(d,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=Zo();let s=new Ue((a,l)=>a-l),r=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=i.get(u)||Xt.empty();d=l.applyToLocalView(c,d),i.set(u,d);const p=(s.get(l.batchId)||le()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=aA();d.forEach(g=>{if(!r.has(g)){const _=fA(n.get(g),i.get(g));_!==null&&p.set(g,_),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return gO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):L.resolve(Ws());let l=yl,u=r;return a.next(c=>L.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,u,c,le())).next(d=>({batchId:l,changes:rA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(i=>{let s=Oo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Oo();return this.indexManager.getCollectionParents(e,r).next(l=>L.forEach(l,u=>{const c=function(p,g){return new Fl(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i,s).next(d=>{d.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,Ct.newInvalidDocument(d)))});let l=Oo();return a.forEach((u,c)=>{const d=r.get(u);d!==void 0&&el(d.mutation,c,Xt.empty(),De.now()),Mh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Wn(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:s4(s.bundledQuery),readTime:Wn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.overlays=new Ue(Y.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ws();return L.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.bt(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const s=Ws(),r=n.length+1,a=new Y(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ue((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=r.get(c.largestBatchId);d===null&&(d=Ws(),r=r.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Ws(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=s)););return L.resolve(l)}bt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new MO(n,i));let r=this.Lr.get(n);r===void 0&&(r=le(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.kr=new rt(ct.Kr),this.qr=new rt(ct.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new ct(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new ct(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new Y(new Re([])),i=new ct(n,e),s=new ct(n,e+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Y(new Re([])),i=new ct(n,e),s=new ct(n,e+1);let r=le();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new ct(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ct{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Y.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(ct.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new VO(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Jr=this.Jr.add(new ct(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Wp:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const l=this.Zr(a.Hr);r.push(l)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rt(oe);return n.forEach(s=>{const r=new ct(s,0),a=new ct(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],l=>{i=i.add(l.Hr)})}),L.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Y.isDocumentKey(r)||(r=r.child(""));const a=new ct(new Y(r),0);let l=new rt(oe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},a),L.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_e(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return L.forEach(n.mutations,s=>{const r=new ct(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new ct(n,0),s=this.Jr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.ti=e,this.docs=function(){return new Ue(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let i=Oi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ct.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Oi();const a=n.path,l=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||$D(GD(d),i)<=0||(s.has(d.key)||Mh(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Q(9500)}ni(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new E4(this)}getSize(e){return L.resolve(this.size)}}class E4 extends f4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.persistence=e,this.ri=new br(n=>Zp(n),eg),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new og,this.targetCount=0,this.oi=Ra._r()}forEachTarget(e,n){return this.ri.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new _4,this.referenceDelegate=e(this),this.li=new T4(this),this.indexManager=new r4,this.remoteDocumentCache=function(s){return new v4(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new i4(n),this.Pi=new p4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new y4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);const s=new b4(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,n){return L.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class b4 extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,i=>{const s=Y.fromPath(i);return this.mi(e,s).next(r=>{r||n.removeEntry(s,J.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kc{constructor(e,n){this.persistence=e,this.fi=new br(i=>XD(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=h4(this,n)}static Vi(e,n){return new Kc(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(i,s)=>this.wr(e,i,s).next(r=>r?L.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,J.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}wr(e,n,i){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return L.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=s}static Es(e,n){let i=le(),s=le();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new ug(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return m2()?8:QD(It())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.gs(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new S4;return this.ys(e,n,a).next(l=>{if(r.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>r.result)}ws(e,n,i,s){return i.documentReadCount<this.Vs?(Mr()<=ae.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Mr()<=ae.DEBUG&&G("QueryEngine","Query:",jr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Mr()<=ae.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):L.resolve())}gs(e,n){if(qv(n))return L.resolve(null);let i=Qn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Em(n,null,"F"),i=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=le(...r);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,Em(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,s){return qv(n)||s.isEqual(J.min())?L.resolve(null):this.fs.getDocuments(e,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?L.resolve(null):(Mr()<=ae.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jr(n)),this.Ds(e,a,n,FD(s,yl)).next(l=>l))})}bs(e,n){let i=new rt(iA(e));return n.forEach((s,r)=>{Mh(e,r)&&(i=i.add(r))}),i}Ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(e,n,i){return Mr()<=ae.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",jr(n)),this.fs.getDocumentsMatchingQuery(e,n,Rs.min(),i)}Ds(e,n,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",w4=3e8;class R4{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Ue(oe),this.Fs=new br(r=>Zp(r),eg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function C4(t,e,n,i){return new R4(t,e,n,i)}async function CA(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=le();for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of r){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function I4(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,g=p.keys();let _=L.resolve();return g.forEach(I=>{_=_.next(()=>d.getEntry(u,I)).next(D=>{const O=c.docVersions.get(I);_e(O!==null,48541),D.version.compareTo(O)<0&&(p.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=le();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function IA(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function N4(t,e){const n=Z(t),i=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((d,p)=>{const g=s.get(p);if(!g)return;l.push(n.li.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.li.addMatchingKeys(r,d.addedDocuments,p)));let _=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(St.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),s=s.insert(p,_),function(D,O,S){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=w4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,_,d)&&l.push(n.li.updateTargetData(r,_))});let u=Oi(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(x4(r,a,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!i.isEqual(J.min())){const d=n.li.getLastRemoteSnapshotVersion(r).next(p=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(d)}return L.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.vs=s,r))}function x4(t,e,n){let i=le(),s=le();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Oi();return n.forEach((l,u)=>{const c=r.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):G(cg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:s}})}function D4(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function O4(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,e).next(r=>r?(s=r,L.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new rs(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function wm(t,e,n){const i=Z(t),s=i.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fa(a))throw a;G(cg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function tE(t,e,n){const i=Z(t);let s=J.min(),r=le();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,d){const p=Z(u),g=p.Fs.get(d);return g!==void 0?L.resolve(p.vs.get(g)):p.li.getTargetData(c,d)}(i,a,Qn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?s:J.min(),n?r:le())).next(l=>(V4(i,yO(e),l),{documents:l,ks:r})))}function V4(t,e,n){let i=t.Ms.get(e)||J.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ms.set(e,i)}class nE{constructor(){this.activeTargetIds=AO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M4{constructor(){this.vo=new nE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class sE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Rm(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RestConnection",P4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class k4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Bc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,r){const a=Rm(),l=this.Qo(e,n.toUriEncodedString());G(sd,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,r);const{host:c}=new URL(l),d=Er(c);return this.zo(e,l,u,i,d).then(p=>(G(sd,`Received RPC '${e}' ${a}: `,p),p),p=>{throw ba(sd,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}jo(e,n,i,s,r,a){return this.Wo(e,n,i,s,r)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Qo(e,n){const i=P4[e];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection",So=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class sa extends k4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!sa.c_){const e=VS();So(e,OS.STAT_EVENT,n=>{n.stat===dm.PROXY?G(At,"STAT_EVENT: detected buffering proxy"):n.stat===dm.NOPROXY&&G(At,"STAT_EVENT: detected no buffering proxy")}),sa.c_=!0}}zo(e,n,i,s,r){const a=Rm();return new Promise((l,u)=>{const c=new xS;c.setWithCredentials(!0),c.listenOnce(DS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ju.NO_ERROR:const p=c.getResponseJson();G(At,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ju.TIMEOUT:G(At,`RPC '${e}' ${a} timed out`),u(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const g=c.getStatus();if(G(At,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const D=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(E)>=0?E:k.UNKNOWN}(I.status);u(new $(D,I.message))}else u(new $(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(At,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);G(At,`RPC '${e}' ${a} sending request:`,s),c.send(n,"POST",d,i,15)})}T_(e,n,i){const s=Rm(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=r.join("");G(At,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=a.createWebChannel(c,l);this.I_(d);let p=!1,g=!1;const _=new L4({Ho:I=>{g?G(At,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(G(At,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),G(At,`RPC '${e}' stream ${s} sending:`,I),d.send(I))},Jo:()=>d.close()});return So(d,Do.EventType.OPEN,()=>{g||(G(At,`RPC '${e}' stream ${s} transport opened.`),_.i_())}),So(d,Do.EventType.CLOSE,()=>{g||(g=!0,G(At,`RPC '${e}' stream ${s} transport closed`),_.o_(),this.E_(d))}),So(d,Do.EventType.ERROR,I=>{g||(g=!0,ba(At,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.o_(new $(k.UNAVAILABLE,"The operation could not be completed")))}),So(d,Do.EventType.MESSAGE,I=>{var D;if(!g){const O=I.data[0];_e(!!O,16349);const S=O,E=(S==null?void 0:S.error)||((D=S[0])==null?void 0:D.error);if(E){G(At,`RPC '${e}' stream ${s} received error:`,E);const A=E.status;let x=function(T){const v=Ke[T];if(v!==void 0)return mA(v)}(A),z=E.message;x===void 0&&(x=k.INTERNAL,z="Unknown error status: "+A+" with message "+E.message),g=!0,_.o_(new $(x,z)),d.close()}else G(At,`RPC '${e}' stream ${s} received:`,O),_.__(O)}}),sa.u_(),setTimeout(()=>{_.s_()},0),_}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return MS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){return new sa(t)}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return new HO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa.c_=!1;class NA{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class xA{constructor(e,n,i,s,r,a,l,u){this.Ci=e,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new $(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z4 extends xA{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$O(this.serializer,e),i=function(r){if(!("targetChange"in r))return J.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?Wn(a.readTime):J.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Am(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=ym(u)?{documents:QO(r,u)}:{query:WO(r,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=_A(r,a.resumeToken);const c=Tm(r,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=Yc(r,a.snapshotVersion.toTimestamp());const c=Tm(r,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=JO(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Am(this.serializer),n.removeTarget=e,this.K_(n)}}class B4 extends xA{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KO(e.writeResults,e.commitTime),i=Wn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Am(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>YO(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{}class H4 extends q4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,bm(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(k.UNKNOWN,r.toString())})}jo(e,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,bm(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function F4(t,e,n,i){return new H4(t,e,n,i)}class G4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="RemoteStore";class $4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Sr(this)&&(G(dr,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await Yl(c),c.Va.set("Unknown"),c.Ea.delete(4),await Uh(c)}(this))})}),this.Va=new G4(i,s)}}async function Uh(t){if(Sr(t))for(const e of t.Ra)await e(!0)}async function Yl(t){for(const e of t.Ra)await e(!1)}function DA(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mg(n)?dg(n):Ga(n).O_()&&fg(n,e))}function hg(t,e){const n=Z(t),i=Ga(n);n.Ia.delete(e),i.O_()&&OA(n,e),n.Ia.size===0&&(i.O_()?i.L_():Sr(n)&&n.Va.set("Unknown"))}function fg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ga(t).Z_(e)}function OA(t,e){t.da.$e(e),Ga(t).X_(e)}function dg(t){t.da=new UO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ga(t).start(),t.Va.ua()}function mg(t){return Sr(t)&&!Ga(t).x_()&&t.Ia.size>0}function Sr(t){return Z(t).Ea.size===0}function VA(t){t.da=void 0}async function Y4(t){t.Va.set("Online")}async function K4(t){t.Ia.forEach((e,n)=>{fg(t,e)})}async function Q4(t,e){VA(t),mg(t)?(t.Va.ha(e),dg(t)):t.Va.set("Unknown")}async function W4(t,e,n){if(t.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(i){G(dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qc(t,i)}else if(e instanceof nc?t.da.Xe(e):e instanceof pA?t.da.st(e):t.da.tt(e),!n.isEqual(J.min()))try{const i=await IA(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ia.get(c);d&&r.Ia.set(c,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const d=r.Ia.get(u);if(!d)return;r.Ia.set(u,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),OA(r,u);const p=new rs(d.target,u,c,d.sequenceNumber);fg(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){G(dr,"Failed to raise snapshot:",i),await Qc(t,i)}}async function Qc(t,e,n){if(!Fa(e))throw e;t.Ea.add(1),await Yl(t),t.Va.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(dr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uh(t)})}function MA(t,e){return e().catch(n=>Qc(t,n,e))}async function zh(t){const e=Z(t),n=xs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wp;for(;X4(e);)try{const s=await D4(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,J4(e,s)}catch(s){await Qc(e,s)}jA(e)&&PA(e)}function X4(t){return Sr(t)&&t.Ta.length<10}function J4(t,e){t.Ta.push(e);const n=xs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function jA(t){return Sr(t)&&!xs(t).x_()&&t.Ta.length>0}function PA(t){xs(t).start()}async function Z4(t){xs(t).ra()}async function eV(t){const e=xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function tV(t,e,n){const i=t.Ta.shift(),s=sg.from(i,e,n);await MA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zh(t)}async function nV(t,e){e&&xs(t).Y_&&await async function(i,s){if(function(a){return PO(a)&&a!==k.ABORTED}(s.code)){const r=i.Ta.shift();xs(i).B_(),await MA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await zh(i)}}(t,e),jA(t)&&PA(t)}async function aE(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),G(dr,"RemoteStore received new credentials");const i=Sr(n);n.Ea.add(3),await Yl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function iV(t,e){const n=Z(t);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await Yl(n),n.Va.set("Unknown"))}function Ga(t){return t.ma||(t.ma=function(n,i,s){const r=Z(n);return r.sa(),new z4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:Y4.bind(null,t),Yo:K4.bind(null,t),t_:Q4.bind(null,t),J_:W4.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),mg(t)?dg(t):t.Va.set("Unknown")):(await t.ma.stop(),VA(t))})),t.ma}function xs(t){return t.fa||(t.fa=function(n,i,s){const r=Z(n);return r.sa(),new B4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Z4.bind(null,t),t_:nV.bind(null,t),ta:eV.bind(null,t),na:tV.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await zh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(dr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new pg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(t,e){if(Di("AsyncQueue",`${e}: ${t}`),Fa(t))return new $(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=Oo(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ra;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ga=new Ue(Y.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ca{constructor(e,n,i,s,r,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ca(e,n,ra.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class rV{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Z(n),r=s.queries;s.queries=lE(),r.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new $(k.ABORTED,"Firestore shutting down"))}}function lE(){return new br(t=>nA(t),Vh)}async function aV(t,e){const n=Z(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Sa()&&e.Da()&&(i=2):(r=new sV,i=e.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=gg(a,`Initialization of query '${jr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&_g(n)}async function oV(t,e){const n=Z(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=e.Da()?0:1:!r.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function lV(t,e){const n=Z(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.ba)l.Fa(s)&&(i=!0);a.wa=s}}i&&_g(n)}function uV(t,e,n){const i=Z(t),s=i.queries.get(e);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(e)}function _g(t){t.Ca.forEach(e=>{e.next()})}var Cm,uE;(uE=Cm||(Cm={})).Ma="default",uE.Cache="cache";class cV{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class hV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.eu=iA(e),this.tu=new ra(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new oE,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const g=s.get(d),_=Mh(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let O=!1;g&&_?g.data.isEqual(_.data)?I!==D&&(i.track({type:3,doc:_}),O=!0):this.su(g,_)||(i.track({type:2,doc:_}),O=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(l=!0)):!g&&_?(i.track({type:0,doc:_}),O=!0):g&&!_&&(i.track({type:1,doc:g}),O=!0,(u||c)&&(l=!0)),O&&(_?(a=a.add(_),r=D?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,p)=>function(_,I){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:O})}};return D(_)-D(I)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(i),s=s??!1;const l=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new Ca(this.query,e.tu,r,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=le(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new LA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new kA(i))}),n}cu(e){this.Za=e.ks,this.Ya=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yg="SyncEngine";class fV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class dV{constructor(e){this.key=e,this.hu=!1}}class mV{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new br(l=>nA(l),Vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ue(Y.comparator),this.Au=new Map,this.Vu=new og,this.du={},this.mu=new Map,this.fu=Ra.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pV(t,e,n=!0){const i=FA(t);let s;const r=i.Tu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await UA(i,e,n,!0),s}async function gV(t,e){const n=FA(t);await UA(n,e,!0,!1)}async function UA(t,e,n,i){const s=await O4(t.localStore,Qn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await _V(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&DA(t.remoteStore,s),l}async function _V(t,e,n,i,s){t.pu=(p,g,_)=>async function(D,O,S,E){let A=O.view.ru(S);A.Ss&&(A=await tE(D.localStore,O.query,!1).then(({documents:T})=>O.view.ru(T,A)));const x=E&&E.targetChanges.get(O.targetId),z=E&&E.targetMismatches.get(O.targetId)!=null,B=O.view.applyChanges(A,D.isPrimaryClient,x,z);return hE(D,O.targetId,B.au),B.snapshot}(t,p,g,_);const r=await tE(t.localStore,e,!0),a=new hV(e,r.ks),l=a.ru(r.documents),u=$l.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),c=a.applyChanges(l,t.isPrimaryClient,u);hE(t,n,c.au);const d=new fV(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function yV(t,e,n){const i=Z(t),s=i.Tu.get(e),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Vh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await wm(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&hg(i.remoteStore,s.targetId),Im(i,s.targetId)}).catch(Ha)):(Im(i,s.targetId),await wm(i.localStore,s.targetId,!0))}async function vV(t,e){const n=Z(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),hg(n.remoteStore,i.targetId))}async function EV(t,e,n){const i=CV(t);try{const s=await function(a,l){const u=Z(a),c=De.now(),d=l.reduce((_,I)=>_.add(I.key),le());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=Oi(),D=le();return u.xs.getEntries(_,d).next(O=>{I=O,I.forEach((S,E)=>{E.isValidDocument()||(D=D.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,I)).next(O=>{p=O;const S=[];for(const E of l){const A=DO(E,p.get(E.key).overlayedDocument);A!=null&&S.push(new js(E.key,A,KS(A.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,S,l)}).next(O=>{g=O;const S=O.applyToLocalDocumentSet(p,D);return u.documentOverlayCache.saveOverlays(_,O.batchId,S)})}).then(()=>({batchId:g.batchId,changes:rA(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Ue(oe)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,s.batchId,n),await Kl(i,s.changes),await zh(i.remoteStore)}catch(s){const r=gg(s,"Failed to persist write");n.reject(r)}}async function zA(t,e){const n=Z(t);try{const i=await N4(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?_e(a.hu,14607):s.removedDocuments.size>0&&(_e(a.hu,42227),a.hu=!1))}),await Kl(n,i,e)}catch(i){await Ha(i)}}function cE(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const g of p.ba)g.va(l)&&(c=!0)}),c&&_g(u)}(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function TV(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),r=s&&s.key;if(r){let a=new Ue(Y.comparator);a=a.insert(r,Ct.newNoDocument(r,J.min()));const l=le().add(r),u=new kh(J.min(),new Map,new Ue(oe),a,l);await zA(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(e),vg(i)}else await wm(i.localStore,e,!1).then(()=>Im(i,e,n)).catch(Ha)}async function bV(t,e){const n=Z(t),i=e.batch.batchId;try{const s=await I4(n.localStore,e);qA(n,i,null),BA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Kl(n,s)}catch(s){await Ha(s)}}async function SV(t,e,n){const i=Z(t);try{const s=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(_e(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(i.localStore,e);qA(i,e,n),BA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Kl(i,s)}catch(s){await Ha(s)}}function BA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qA(t,e,n){const i=Z(t);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||HA(t,i)})}function HA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(hg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),vg(t))}function hE(t,e,n){for(const i of n)i instanceof kA?(t.Vu.addReference(i.key,e),AV(t,i)):i instanceof LA?(G(yg,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||HA(t,i.key)):Q(19791,{wu:i})}function AV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(G(yg,"New document in limbo: "+n),t.Eu.add(i),vg(t))}function vg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Re.fromString(e)),i=t.fu.next();t.Au.set(i,new dV(n)),t.Ru=t.Ru.insert(n,i),DA(t.remoteStore,new rs(Qn(tg(n.path)),i,"TargetPurposeLimboResolution",xh.ce))}}async function Kl(t,e,n){const i=Z(t),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=ug.Es(u.targetId,c);r.push(p)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(u,c){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(c,g=>L.forEach(g.Ts,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>L.forEach(g.Is,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Fa(p))throw p;G(cg,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const _=d.vs.get(g),I=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(I);d.vs=d.vs.insert(g,D)}}}(i.localStore,r))}async function wV(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){G(yg,"User change. New user:",e.toKey());const i=await CA(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(l=>{l.forEach(u=>{u.reject(new $(k.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kl(n,i.Ns)}}function RV(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return le().add(i.key);{let s=le();const r=n.Iu.get(e);if(!r)return s;for(const a of r){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function FA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TV.bind(null,e),e.Pu.J_=lV.bind(null,e.eventManager),e.Pu.yu=uV.bind(null,e.eventManager),e}function CV(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return C4(this.persistence,new A4,e.initialUser,this.serializer)}Cu(e){return new RA(lg.Vi,this.serializer)}Du(e){return new M4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class IV extends Wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Kc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new u4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new RA(i=>Kc.Vi(i,n),this.serializer)}}class Nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wV.bind(null,this.syncEngine),await iV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rV}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),i=U4(e.databaseInfo);return F4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new $4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return sE.v()?new sE:new j4}())}createSyncEngine(e,n){return function(s,r,a,l,u,c,d){const p=new mV(s,r,a,l,u,c);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Z(s);G(dr,"RemoteStore shutting down."),r.Ea.add(5),await Yl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class xV{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=wt.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{G(Ds,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(G(Ds,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=gg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ad(t,e){t.asyncQueue.verifyOperationInProgress(),G(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await CA(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);G(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>aE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>aE(e.remoteStore,s)),t._onlineComponents=e}async function DV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Ds,"Using user provided OfflineComponentProvider");try{await ad(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===k.FAILED_PRECONDITION||s.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await ad(t,new Wc)}}else G(Ds,"Using default OfflineComponentProvider"),await ad(t,new IV(void 0));return t._offlineComponents}async function GA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Ds,"Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(G(Ds,"Using default OnlineComponentProvider"),await fE(t,new Nm))),t._onlineComponents}function OV(t){return GA(t).then(e=>e.syncEngine)}async function dE(t){const e=await GA(t),n=e.eventManager;return n.onListen=pV.bind(null,e.syncEngine),n.onUnlisten=yV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vV.bind(null,e.syncEngine),n}function VV(t,e,n,i){const s=new NV(i),r=new cV(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>aV(await dE(t),r)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>oV(await dE(t),r))}}function MV(t,e){const n=new nr;return t.asyncQueue.enqueueAndForget(async()=>EV(await OV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="ComponentProvider",mE=new Map;function PV(t,e,n,i,s){return new eO(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,$A(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",pE=!0;class gE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=pE}else this.host=e.host,this.ssl=e.ssl??pE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o4)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VD;switch(i.type){case"firstParty":return new kD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mE.get(n);i&&(G(jV,"Removing Datastore"),mE.delete(n),i.terminate())}(this),Promise.resolve()}}function kV(t,e,n,i={}){var c;t=ys(t,Bh);const s=Er(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Hp(`https://${l}`),Fp("Firestore",!0)),r.host!==YA&&r.host!==l&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:l,ssl:s,emulatorOptions:i};if(!cr(u,a)&&(t._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=wt.MOCK_USER;else{d=SS(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wt(g)}t._authCredentials=new MD(new PS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Hl(n,tt._jsonSchema))return new tt(e,i||null,new Y(Re.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:et("string",tt._jsonSchemaVersion),referencePath:et("string")};class vs extends $a{constructor(e,n,i){super(e,n,tg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new Y(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function xm(t,e,...n){if(t=nt(t),kS("collection","path",e),t instanceof Bh){const i=Re.fromString(e,...n);return Iv(i),new vs(t,null,i)}{if(!(t instanceof tt||t instanceof vs))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Re.fromString(e,...n));return Iv(i),new vs(t.firestore,null,i)}}function Dm(t,e,...n){if(t=nt(t),arguments.length===1&&(e=Qp.newId()),kS("doc","path",e),t instanceof Bh){const i=Re.fromString(e,...n);return Cv(i),new tt(t,null,new Y(i))}{if(!(t instanceof tt||t instanceof vs))throw new $(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Re.fromString(e,...n));return Cv(i),new tt(t.firestore,t instanceof vs?t.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const i=rd();i&&G(_E,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new nr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fa(e))throw e;G(_E,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",vE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=pg.createAndSchedule(this,e,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:vE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ia extends Bh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new yE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function LV(t,e){const n=typeof t=="object"?t:Yp(),i=typeof t=="string"?t:Bc,s=Ih(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=ES("firestore");r&&kV(s,...r)}return s}function KA(t){if(t._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UV(t),t._firestoreClient}function UV(t){var i,s,r,a;const e=t._freezeSettings(),n=PV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(St.fromBase64String(e))}catch(n){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:et("string",pn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:et("string",Xn._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:In._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,In._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new In(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}In._jsonSchemaVersion="firestore/vectorValue/1.0",In._jsonSchema={type:et("string",In._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=/^__.*__$/;class BV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class QA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}class bg{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Xc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(WA(this.dataSource)&&zV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Lh(e)}createContext(e,n,i,s=!1){return new bg({dataSource:e,methodName:n,targetDoc:i,path:Et.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new qV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HV(t,e,n,i,s,r={}){const a=t.createContext(r.merge||r.mergeFields?2:0,e,n,s);Ag("Data must be an object, but it was:",a,i);const l=XA(i,a);let u,c;if(r.merge)u=new Xt(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const g=Al(e,p,n);if(!a.contains(g))throw new $(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);e1(d,g)||d.push(g)}u=new Xt(d),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new BV(new qt(l),u,c)}class qh extends Tg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function FV(t,e,n,i){const s=t.createContext(1,e,n);Ag("Data must be an object, but it was:",s,i);const r=[],a=qt.empty();Ms(i,(u,c)=>{const d=ZA(e,u,n);c=nt(c);const p=s.childContextForFieldPath(d);if(c instanceof qh)r.push(d);else{const g=Ql(c,p);g!=null&&(r.push(d),a.set(d,g))}});const l=new Xt(r);return new QA(a,l,s.fieldTransforms)}function GV(t,e,n,i,s,r){const a=t.createContext(1,e,n),l=[Al(e,i,n)],u=[s];if(r.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)l.push(Al(e,r[g])),u.push(r[g+1]);const c=[],d=qt.empty();for(let g=l.length-1;g>=0;--g)if(!e1(c,l[g])){const _=l[g];let I=u[g];I=nt(I);const D=a.childContextForFieldPath(_);if(I instanceof qh)c.push(_);else{const O=Ql(I,D);O!=null&&(c.push(_),d.set(_,O))}}const p=new Xt(c);return new QA(d,p,a.fieldTransforms)}function $V(t,e,n,i=!1){return Ql(n,t.createContext(i?4:3,e))}function Ql(t,e){if(JA(t=nt(t)))return Ag("Unsupported field value:",e,t),XA(t,e);if(t instanceof Tg)return function(i,s){if(!WA(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=Ql(l,s.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=De.fromDate(i);return{timestampValue:Yc(s.serializer,r)}}if(i instanceof De){const r=new De(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yc(s.serializer,r)}}if(i instanceof Xn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pn)return{bytesValue:_A(s.serializer,i._byteString)};if(i instanceof tt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ag(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof In)return function(a,l){const u=a instanceof In?a.toArray():a;return{mapValue:{fields:{[$S]:{stringValue:YS},[qc]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return ng(l.serializer,d)})}}}}}}(i,s);if(AA(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Nh(i)}`)}(t,e)}function XA(t,e){const n={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(i,s)=>{const r=Ql(s,e.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function JA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof Xn||t instanceof pn||t instanceof tt||t instanceof Tg||t instanceof In||AA(t))}function Ag(t,e,n){if(!JA(n)||!LS(n)){const i=Nh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Al(t,e,n){if((e=nt(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return ZA(t,e);throw Xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const YV=new RegExp("[~\\*/\\[\\]]");function ZA(t,e,n){if(e.search(YV)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new $(k.INVALID_ARGUMENT,l+t+u)}function e1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ms(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var i,s,r;const n=(r=(s=(i=e.fields)==null?void 0:i[qc].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>Fe(a.doubleValue));return new In(n)}convertGeoPoint(e){return new Xn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Re.fromString(e);_e(SA(i),9688,{name:e});const s=new El(i.get(1),i.get(3)),r=new Y(i.popFirst(5));return s.isEqual(n)||Di(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}const EE="@firebase/firestore",TE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Al("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QV extends n1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class XV extends wg{}function JV(t,e,...n){let i=[];e instanceof wg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof Cg).length,l=r.filter(u=>u instanceof Rg).length;if(a>1||a>0&&l>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Rg extends XV{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rg(e,n,i)}_apply(e){const n=this._parse(e);return i1(e._query,n),new $a(e.firestore,e.converter,vm(e._query,n))}_parse(e){const n=Sg(e.firestore);return function(r,a,l,u,c,d,p){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AE(p,d);const I=[];for(const D of p)I.push(SE(u,r,D));g={arrayValue:{values:I}}}else g=SE(u,r,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AE(p,d),g=$V(l,a,p,d==="in"||d==="not-in");return Je.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)i1(a,u),a=vm(a,u)}(e._query,n),new $a(e.firestore,e.converter,vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SE(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Re.fromString(n));if(!Y.isDocumentKey(i))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pv(t,new Y(i))}if(n instanceof tt)return Pv(t,n._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function AE(t,e){if(!Array.isArray(t)||t.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i1(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ir extends n1{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Al("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:et("string",ir._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class ic extends ir{data(e={}){return super.data(e)}}class aa{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ic(this._firestore,this._userDataWriter,i.key,i,new Mo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new ic(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new ic(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:eM(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:et("string",aa._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};function tM(t,e,n,...i){t=ys(t,tt);const s=ys(t.firestore,Ia),r=Sg(s);let a;return a=typeof(e=nt(e))=="string"||e instanceof Eg?GV(r,"updateDoc",t._key,e,n,i):FV(r,"updateDoc",t._key,e),Ig(s,[a.toMutation(t._key,Cn.exists(!0))])}function nM(t){return Ig(ys(t.firestore,Ia),[new ig(t._key,Cn.none())])}function s1(t,e){const n=ys(t.firestore,Ia),i=Dm(t),s=ZV(t.converter,e),r=Sg(t.firestore);return Ig(n,[HV(r,"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}function iM(t,...e){var c,d,p;t=nt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||bE(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[i])){const g=e[i];e[i]=(c=g.next)==null?void 0:c.bind(g),e[i+1]=(d=g.error)==null?void 0:d.bind(g),e[i+2]=(p=g.complete)==null?void 0:p.bind(g)}let r,a,l;if(t instanceof tt)a=ys(t.firestore,Ia),l=tg(t._key.path),r={next:g=>{e[i]&&e[i](sM(a,t,g))},error:e[i+1],complete:e[i+2]};else{const g=ys(t,$a);a=ys(g.firestore,Ia),l=g._query;const _=new t1(a);r={next:I=>{e[i]&&e[i](new aa(a,_,g,I))},error:e[i+1],complete:e[i+2]},WV(t._query)}const u=KA(a);return VV(u,l,s,r)}function Ig(t,e){const n=KA(t);return MV(n,e)}function sM(t,e,n){const i=n.docs.get(e._key),s=new t1(t);return new ir(t,s,e._key,i,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){OD(Tr),hr(new ws("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Ia(new jD(i.getProvider("auth-internal")),new LD(a,i.getProvider("app-check-internal")),tO(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Kn(EE,TE,e),Kn(EE,TE,"esm2020")})();var rM="firebase",aM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(rM,aM,"app");function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oM=r1,a1=new Bl("auth","Firebase",r1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Gp("@firebase/auth");function lM(t,...e){Jc.logLevel<=ae.WARN&&Jc.warn(`Auth (${Tr}): ${t}`,...e)}function sc(t,...e){Jc.logLevel<=ae.ERROR&&Jc.error(`Auth (${Tr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw Ng(t,...e)}function Jn(t,...e){return Ng(t,...e)}function o1(t,e,n){const i={...oM(),[e]:n};return new Bl("auth","Firebase",i).create(e,{appName:t.name})}function Es(t){return o1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return a1.create(t,...e)}function K(t,e,...n){if(!t)throw Ng(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sc(e),new Error(e)}function Vi(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uM(){return wE()==="http:"||wE()==="https:"}function wE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uM()||h2()||"connection"in navigator)?navigator.onLine:!0}function hM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=l2()||f2()}get(){return cM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mM=new Wl(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ps(t,e,n,i,s={}){return u1(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=ql({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...r};return c2()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Er(t.emulatorConfig.host)&&(c.credentials="include"),l1.fetch()(await c1(t,t.config.apiHost,n,l),c)})}async function u1(t,e,n){t._canInitEmulator=!1;const i={...fM,...e};try{const s=new gM(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Vu(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Vu(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw o1(t,d,c);Dn(t,d)}}catch(s){if(s instanceof si)throw s;Dn(t,"network-request-failed",{message:String(s)})}}async function Hh(t,e,n,i,s={}){const r=await Ps(t,e,n,i,s);return"mfaPendingCredential"in r&&Dn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function c1(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?xg(t.config,s):`${t.config.apiScheme}://${s}`;return dM.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function pM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jn(this.auth,"network-request-failed")),mM.get())})}}function Vu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Jn(t,e,i);return s.customData._tokenResponse=n,s}function RE(t){return t!==void 0&&t.enterprise!==void 0}class _M{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yM(t,e){return Ps(t,"GET","/v2/recaptchaConfig",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return Ps(t,"POST","/v1/accounts:delete",e)}async function Zc(t,e){return Ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EM(t,e=!1){const n=nt(t),i=await n.getIdToken(e),s=Dg(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:tl(od(s.auth_time)),issuedAtTime:tl(od(s.iat)),expirationTime:tl(od(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function od(t){return Number(t)*1e3}function Dg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=yS(n);return s?JSON.parse(s):(sc("Failed to decode base64 JWT payload"),null)}catch(s){return sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CE(t){const e=Dg(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof si&&TM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function TM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var p;const e=t.auth,n=await t.getIdToken(),i=await wl(t,Zc(e,{idToken:n}));K(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const r=(p=s.providerUserInfo)!=null&&p.length?h1(s.providerUserInfo):[],a=AM(t.providerData,r),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function SM(t){const e=nt(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AM(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function h1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){const n=await u1(t,{},async()=>{const i=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await c1(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&Er(t.emulatorConfig.host)&&(u.credentials="include"),l1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RM(t,e){return Ps(t,"POST","/v2/accounts:revokeToken",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=CE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await wM(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new oa;return i&&(K(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new bM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EM(this,e)}reload(){return SM(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await wl(this,vM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:_,providerData:I,stsTokenManager:D}=n;K(p&&D,e,"internal-error");const O=oa.fromJSON(this.name,D);K(typeof p=="string",e,"internal-error"),Hi(i,e.name),Hi(s,e.name),K(typeof g=="boolean",e,"internal-error"),K(typeof _=="boolean",e,"internal-error"),Hi(r,e.name),Hi(a,e.name),Hi(l,e.name),Hi(u,e.name),Hi(c,e.name),Hi(d,e.name);const S=new wn({uid:p,auth:e,email:s,emailVerified:g,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:O,createdAt:c,lastLoginAt:d});return I&&Array.isArray(I)&&(S.providerData=I.map(E=>({...E}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,n,i=!1){const s=new oa;s.updateFromServerResponse(n);const r=new wn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await eh(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?h1(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new oa;l.updateFromIdToken(i);const u=new wn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Vm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;function vi(t){Vi(t instanceof Function,"Expected a class definition");let e=IE.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f1.type="NONE";const NE=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=rc(this.userKey,s.apiKey,r),this.fullPersistenceKey=rc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zc(this.auth,{idToken:e}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new la(vi(NE),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||vi(NE);const a=rc(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(a);if(d){let p;if(typeof d=="string"){const g=await Zc(e,{idToken:d}).catch(()=>{});if(!g)break;p=await wn._fromGetAccountInfoResponse(e,g,d)}else p=wn._fromJSON(e,d);c!==r&&(l=p),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new la(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new la(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(m1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(_1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function d1(t=It()){return/firefox\//i.test(t)}function m1(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(t=It()){return/crios\//i.test(t)}function g1(t=It()){return/iemobile/i.test(t)}function _1(t=It()){return/android/i.test(t)}function y1(t=It()){return/blackberry/i.test(t)}function v1(t=It()){return/webos/i.test(t)}function Og(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CM(t=It()){var e;return Og(t)&&!!((e=window.navigator)!=null&&e.standalone)}function IM(){return d2()&&document.documentMode===10}function E1(t=It()){return Og(t)||_1(t)||v1(t)||y1(t)||/windows phone/i.test(t)||g1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e=[]){let n;switch(t){case"Browser":n=xE(It());break;case"Worker":n=`${xE(It())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return Ps(t,"GET","/v2/passwordPolicy",Ar(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=6;class OM{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new NM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zc(this,{idToken:e}),i=await wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Es(this));const n=e?nt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xM(this),n=new OM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await RM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ya(t){return nt(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MM(t){Fh=t}function b1(t){return Fh.loadJS(t)}function jM(){return Fh.recaptchaEnterpriseScript}function PM(){return Fh.gapiScript}function kM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LM{constructor(){this.enterprise=new UM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zM="recaptcha-enterprise",S1="NO_RECAPTCHA";class BM{constructor(e){this.type=zM,this.auth=Ya(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{yM(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new _M(u);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function s(r,a,l){const u=window.grecaptcha;RE(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(c=>{a(c)}).catch(()=>{a(S1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LM().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&RE(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jM();u.length!==0&&(u+=l),b1(u).then(()=>{s(l,r,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function OE(t,e,n,i=!1,s=!1){const r=new BM(t);let a;if(s)a=S1;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function VE(t,e,n,i,s){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await OE(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await OE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e){const n=Ih(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(cr(r,e??{}))return s;Dn(s,"already-initialized")}return n.initialize({options:e})}function HM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FM(t,e,n){const i=Ya(t);K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=A1(e),{host:a,port:l}=GM(e),u=l===null?"":`:${l}`,c={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(cr(c,i.config.emulator)&&cr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Er(a)?(Hp(`${r}//${a}${u}`),Fp("Auth",!0)):$M()}function A1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GM(t){const e=A1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:ME(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:ME(a)}}}function ME(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $M(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function YM(t,e){return Ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){return Hh(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}async function WM(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Vg{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Rl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,n,"signInWithPassword",KM);case"emailLink":return QM(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,i,"signUpPassword",YM);case"emailLink":return WM(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e){return Hh(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="http://localhost";class mr extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new mr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ua(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ua(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ua(e,n)}buildRequest(){const e={requestUri:XM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZM(t){const e=No(xo(t)).link,n=e?No(xo(e)).deep_link_id:null,i=No(xo(t)).deep_link_id;return(i?No(xo(i)).link:null)||i||n||e||t}class Mg{constructor(e){const n=No(xo(e)),i=n.apiKey??null,s=n.oobCode??null,r=JM(n.mode??null);K(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZM(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Mg.parseLink(n);return K(i,"argument-error"),Rl._fromEmailAndCode(e,i.code,i.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends w1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Xl{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Xl{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Xl{constructor(){super("twitter.com")}static credential(e,n){return mr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await wn._fromIdTokenResponse(e,i,s),a=jE(i);return new Na({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=jE(i);return new Na({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends si{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new th(e,n,i,s)}}function R1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,r,e,i):r})}async function ej(t,e,n=!1){const i=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Na._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(Es(i));const s="reauthenticate";try{const r=await wl(t,R1(i,s,e,t),n);K(r.idToken,i,"internal-error");const a=Dg(r.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(t.uid===l,i,"user-mismatch"),Na._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Dn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t,e,n=!1){if(mn(t.app))return Promise.reject(Es(t));const i="signIn",s=await R1(t,i,e),r=await Na._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function nj(t,e){return C1(Ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sj(t,e,n){return mn(t.app)?Promise.reject(Es(t)):nj(nt(t),Ka.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ij(t),i})}function rj(t,e,n,i){return nt(t).onIdTokenChanged(e,n,i)}function aj(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function oj(t,e,n,i){return nt(t).onAuthStateChanged(e,n,i)}function lj(t){return nt(t).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=1e3,cj=10;class N1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);IM()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cj):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},uj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const hj=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x1.type="SESSION";const D1=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Gh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async c=>c(n.origin,r)),u=await fj(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const c=jg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function mj(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function pj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _j(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebaseLocalStorageDb",yj=1,ih="firebaseLocalStorage",M1="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function vj(){const t=indexedDB.deleteDatabase(V1);return new Jl(t).toPromise()}function Mm(){const t=indexedDB.open(V1,yj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ih,{keyPath:M1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ih)?e(i):(i.close(),await vj(),e(await Mm()))})})}async function PE(t,e,n){const i=$h(t,!0).put({[M1]:e,value:n});return new Jl(i).toPromise()}async function Ej(t,e){const n=$h(t,!1).get(e),i=await new Jl(n).toPromise();return i===void 0?null:i.value}function kE(t,e){const n=$h(t,!0).delete(e);return new Jl(n).toPromise()}const Tj=800,bj=3;class j1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(_j()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await pj(),!this.activeServiceWorker)return;this.sender=new dj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await PE(e,nh,"1"),await kE(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>PE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Ej(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=$h(s,!1).getAll();return new Jl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j1.type="LOCAL";const Sj=j1;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t,e){return e?vi(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wj(t){return C1(t.auth,new Pg(t),t.bypassAuthState)}function Rj(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),tj(n,new Pg(t),t.bypassAuthState)}async function Cj(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),ej(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wj;case"linkViaPopup":case"linkViaRedirect":return Cj;case"reauthViaPopup":case"reauthViaRedirect":return Rj;default:Dn(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Wl(2e3,1e4);class Wr extends P1{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ij.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="pendingRedirect",ac=new Map;class xj extends P1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const i=await Dj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dj(t,e){const n=Mj(e),i=Vj(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Oj(t,e){ac.set(t._key(),e)}function Vj(t){return vi(t._redirectPersistence)}function Mj(t){return rc(Nj,t.config.apiKey,t.name)}async function jj(t,e,n=!1){if(mn(t.app))return Promise.reject(Es(t));const i=Ya(t),s=Aj(i,e),a=await new xj(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=10*60*1e3;class kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!k1(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e={}){return Ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bj=/^https?/;async function qj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uj(t);for(const n of e)try{if(Hj(n))return}catch{}Dn(t,"unauthorized-domain")}function Hj(t){const e=Om(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Bj.test(n))return!1;if(zj.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Wl(3e4,6e4);function UE(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Gj(t){return new Promise((e,n)=>{var s,r,a;function i(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(Jn(t,"network-request-failed"))},timeout:Fj.get()})}if((r=(s=Zn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=Zn().gapi)!=null&&a.load)i();else{const l=kM("iframefcb");return Zn()[l]=()=>{gapi.load?i():n(Jn(t,"network-request-failed"))},b1(`${PM()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw oc=null,e})}let oc=null;function $j(t){return oc=oc||Gj(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Wl(5e3,15e3),Kj="__/auth/iframe",Qj="emulator/auth/iframe",Wj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jj(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xg(e,Qj):`https://${t.config.authDomain}/${Kj}`,i={apiKey:e.apiKey,appName:t.name,v:Tr},s=Xj.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ql(i).slice(1)}`}async function Zj(t){const e=await $j(t),n=Zn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:Jj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wj,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Jn(t,"network-request-failed"),l=Zn().setTimeout(()=>{r(a)},Yj.get());function u(){Zn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t3=500,n3=600,i3="_blank",s3="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r3(t,e,n,i=t3,s=n3){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...e3,width:i.toString(),height:s.toString(),top:r,left:a},c=It().toLowerCase();n&&(l=p1(c)?i3:n),d1(c)&&(e=e||s3,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[_,I])=>`${g}${_}=${I},`,"");if(CM(c)&&l!=="_self")return a3(e||"",l),new zE(null);const p=window.open(e||"",l,d);K(p,t,"popup-blocked");try{p.focus()}catch{}return new zE(p)}function a3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="__/auth/handler",l3="emulator/auth/handler",u3=encodeURIComponent("fac");async function BE(t,e,n,i,s,r){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Tr,eventId:s};if(e instanceof w1){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",E2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Xl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${u3}=${encodeURIComponent(u)}`:"";return`${c3(t)}?${ql(l).slice(1)}${c}`}function c3({config:t}){return t.emulator?xg(t,l3):`https://${t.authDomain}/${o3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="webStorageSupport";class h3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=jj,this._overrideRedirectResult=Oj}async _openPopup(e,n,i,s){var a;Vi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await BE(e,n,i,Om(),s);return r3(e,r,jg())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await BE(e,n,i,Om(),s);return mj(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Vi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Zj(e),i=new kj(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ld,{type:ld},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[ld];r!==void 0&&n(!!r),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E1()||m1()||Og()}}const f3=h3;var qE="@firebase/auth",HE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p3(t){hr(new ws("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(t)},c=new VM(i,s,r,u);return HM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),hr(new ws("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(i=>new d3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(qE,HE,m3(t)),Kn(qE,HE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=5*60,_3=bS("authIdTokenMaxAge")||g3;let FE=null;const y3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_3)return;const s=n==null?void 0:n.token;FE!==s&&(FE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v3(t=Yp()){const e=Ih(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qM(t,{popupRedirectResolver:f3,persistence:[Sj,hj,D1]}),i=bS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=y3(r.toString());aj(n,a,()=>a(n.currentUser)),rj(n,l=>a(l))}}const s=vS("auth");return s&&FM(n,`http://${s}`),n}function E3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}MM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Jn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",E3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p3("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebasestorage.googleapis.com",T3="storageBucket",b3=2*60*1e3,S3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends si{constructor(e,n,i=0){super(ud(e),`Firebase Storage: ${n} (${ud(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ud(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ti;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ti||(ti={}));function ud(t){return"storage/"+t}function A3(){const t="An unknown error occurred, please check the error payload for server response.";return new ri(ti.UNKNOWN,t)}function w3(){return new ri(ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R3(){return new ri(ti.CANCELED,"User canceled the upload/download.")}function C3(t){return new ri(ti.INVALID_URL,"Invalid URL '"+t+"'.")}function I3(t){return new ri(ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function GE(t){return new ri(ti.INVALID_ARGUMENT,t)}function U1(){return new ri(ti.APP_DELETED,"The Firebase app was deleted.")}function N3(t){return new ri(ti.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(i.path==="")return i;throw I3(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${s}/o${g}`,"i"),I={bucket:1,path:3},D=n===L1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",S=new RegExp(`^https?://${D}/${s}/${O}`,"i"),A=[{regex:l,indices:u,postModify:r},{regex:_,indices:I,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<A.length;x++){const z=A[x],B=z.regex.exec(e);if(B){const T=B[z.indices.bucket];let v=B[z.indices.path];v||(v=""),i=new Rn(T,v),z.postModify(i);break}}if(i==null)throw C3(e);return i}}class x3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e,n){let i=1,s=null,r=null,a=!1,l=0;function u(){return l===2}let c=!1;function d(...O){c||(c=!0,e.apply(null,O))}function p(O){s=setTimeout(()=>{s=null,t(_,u())},O)}function g(){r&&clearTimeout(r)}function _(O,...S){if(c){g();return}if(O){g(),d.call(null,O,...S);return}if(u()||a){g(),d.call(null,O,...S);return}i<64&&(i*=2);let A;l===1?(l=2,A=0):A=(i+Math.random())*1e3,p(A)}let I=!1;function D(O){I||(I=!0,g(),!c&&(s!==null?(O||(l=2),clearTimeout(s),p(0)):O||(l=1)))}return p(0),r=setTimeout(()=>{a=!0,D(!0)},n),D}function O3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){return t!==void 0}function $E(t,e,n,i){if(i<e)throw GE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw GE(`Invalid value for '${t}'. Expected ${n} or less.`)}function M3(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var sh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sh||(sh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,i,s,r,a,l,u,c,d,p,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Mu(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===sh.NO_ERROR,u=r.getStatus();if(!l||j3(u,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===sh.ABORT;i(!1,new Mu(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new Mu(c,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());V3(u)?r(u):r()}catch(u){a(u)}else if(l!==null){const u=A3();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(s.canceled){const u=this.appDelete_?U1():R3();a(u)}else{const u=w3();a(u)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=D3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function k3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function z3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function B3(t,e,n,i,s,r,a=!0,l=!1){const u=M3(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return U3(d,e),k3(d,n),L3(d,r),z3(d,i),new P3(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rh(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H3(this._location.path)}get storage(){return this._service}get parent(){const e=q3(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new rh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N3(e)}}function YE(t,e){const n=e==null?void 0:e[T3];return n==null?null:Rn.makeFromBucketSpec(n,t)}function F3(t,e,n,i={}){t.host=`${e}:${n}`;const s=Er(e);s&&(Hp(`https://${t.host}/b`),Fp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:SS(r,t.app.options.projectId))}class G3{constructor(e,n,i,s,r,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=a,this._bucket=null,this._host=L1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b3,this._maxUploadRetryTime=S3,this._requests=new Set,s!=null?this._bucket=Rn.makeFromBucketSpec(s,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rh(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new x3(U1());{const a=B3(e,this._appId,i,s,n,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const KE="@firebase/storage",QE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="storage";function $3(t=Yp(),e){t=nt(t);const i=Ih(t,z1).getImmediate({identifier:e}),s=ES("storage");return s&&Y3(i,...s),i}function Y3(t,e,n,i={}){F3(t,e,n,i)}function K3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new G3(n,i,s,e,Tr)}function Q3(){hr(new ws(z1,K3,"PUBLIC").setMultipleInstances(!0)),Kn(KE,QE,""),Kn(KE,QE,"esm2020")}Q3();const W3={apiKey:"AIzaSyCKLXNE3JFIfSULFUCFwz0G3XeUb4BNnkg",authDomain:"layer1studio-750f4.firebaseapp.com",projectId:"layer1studio-750f4",storageBucket:"layer1studio-750f4.firebasestorage.app",messagingSenderId:"540706846466",appId:"1:540706846466:web:7080fcb3c6533dd081f41b",measurementId:"G-8YCTMN2X95"},kg=RS(W3),jo=LV(kg),Lg=v3(kg);$3(kg);const ca=t=>{const[e,n]=M.useState([]),[i,s]=M.useState(!0),[r,a]=M.useState(null);return M.useEffect(()=>{const d=JV(xm(jo,t)),p=iM(d,g=>{const _=[];g.forEach(I=>{_.push({id:I.id,...I.data()})}),n(_),s(!1)},g=>{console.error("Error fetching content:",g),a("Firebase not configured or permission denied. Using local state."),s(!1)});return()=>p()},[t]),{data:e,loading:i,error:r,addItem:async d=>{try{await s1(xm(jo,t),d)}catch(p){console.error("Error adding item:",p)}},deleteItem:async d=>{try{await nM(Dm(jo,t,d))}catch(p){console.error("Error deleting item:",p)}},updateItem:async(d,p)=>{try{await tM(Dm(jo,t,d),p)}catch(g){console.error("Error updating item:",g)}}}},X3="_portfolioPreview_1vre3_1",J3="_header_1vre3_7",Z3="_titleWrapper_1vre3_15",e6="_title_1vre3_15",t6="_subtitle_1vre3_24",n6="_exploreButton_1vre3_29",i6="_grid_1vre3_45",s6="_projectCard_1vre3_51",r6="_imageWrapper_1vre3_55",a6="_projectImage_1vre3_66",o6="_overlay_1vre3_74",l6="_cardContent_1vre3_91",u6="_projectTitle_1vre3_95",c6="_projectText_1vre3_102",h6="_tagGroup_1vre3_109",f6="_tag_1vre3_109",d6="_placeholderIcon_1vre3_136",m6="_emptyMsg_1vre3_150",ut={portfolioPreview:X3,header:J3,titleWrapper:Z3,title:e6,subtitle:t6,exploreButton:n6,grid:i6,projectCard:s6,imageWrapper:r6,projectImage:a6,overlay:o6,cardContent:l6,projectTitle:u6,projectText:c6,tagGroup:h6,tag:f6,placeholderIcon:d6,emptyMsg:m6},p6=()=>{const{data:t,loading:e}=ca("projects"),n=t.length>0?t.slice(0,2):[];return e&&t.length===0?null:f.jsx("section",{id:"projects",className:ut.portfolioPreview,children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:ut.header,children:[f.jsxs("div",{className:ut.titleWrapper,children:[f.jsx("h2",{className:ut.title,children:"Hand-picked work"}),f.jsx("p",{className:ut.subtitle,children:"A few things we're proud of. We don't just build apps; we build tools people actually use."})]}),f.jsxs(Rt,{to:"/portfolio",className:ut.exploreButton,children:["See how we did it",f.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]}),f.jsxs("div",{className:ut.grid,children:[n.map((i,s)=>f.jsxs("div",{className:ut.projectCard,children:[f.jsxs("div",{className:ut.imageWrapper,children:[i.image?f.jsx("img",{src:i.image,alt:i.title,className:ut.projectImage}):f.jsx("div",{className:ut.placeholderIcon,children:f.jsx("span",{className:"material-symbols-outlined",children:"image"})}),f.jsx("div",{className:ut.overlay})]}),f.jsxs("div",{className:ut.cardContent,children:[f.jsx("h4",{className:ut.projectTitle,children:i.title}),f.jsx("p",{className:ut.projectText,children:i.text}),f.jsx("div",{className:ut.tagGroup,children:(Array.isArray(i.tags)?i.tags:[]).map((r,a)=>f.jsx("span",{className:ut.tag,children:r},a))})]})]},s)),n.length===0&&f.jsx("p",{className:ut.emptyMsg,children:"Add your first projects in the Admin Portal to see them here."})]})]})})},g6=()=>f.jsxs("main",{children:[f.jsx(Tx,{}),f.jsx(kx,{}),f.jsx(Wx,{}),f.jsx(p6,{})]}),_6="_servicesPage_f8gf2_1",y6="_heroSection_f8gf2_5",v6="_heroContent_f8gf2_10",E6="_badge_f8gf2_14",T6="_title_f8gf2_28",b6="_subtitle_f8gf2_34",S6="_methodology_f8gf2_40",A6="_sectionHeader_f8gf2_47",w6="_sectionTitle_f8gf2_51",R6="_sectionSubtitle_f8gf2_56",C6="_processGrid_f8gf2_61",I6="_processStep_f8gf2_67",N6="_stepHeader_f8gf2_71",x6="_numberCircle_f8gf2_78",D6="_dashedLine_f8gf2_99",O6="_stepTitle_f8gf2_109",V6="_stepText_f8gf2_114",M6="_ctaSection_f8gf2_120",j6="_ctaBox_f8gf2_124",P6="_ctaTitle_f8gf2_147",k6="_ctaSubtitle_f8gf2_152",L6="_ctaButtons_f8gf2_159",U6="_primaryCta_f8gf2_165",z6="_secondaryCta_f8gf2_176",Me={servicesPage:_6,heroSection:y6,heroContent:v6,badge:E6,title:T6,subtitle:b6,methodology:S6,sectionHeader:A6,sectionTitle:w6,sectionSubtitle:R6,processGrid:C6,processStep:I6,stepHeader:N6,numberCircle:x6,dashedLine:D6,stepTitle:O6,stepText:V6,ctaSection:M6,ctaBox:j6,ctaTitle:P6,ctaSubtitle:k6,ctaButtons:L6,primaryCta:U6,secondaryCta:z6},B6=()=>{sr.useEffect(()=>{document.title="Software, Web & App Development Services | Layer1.Studio"},[]);const t=[{number:"01",title:"Sense-making",text:"We start by asking a lot of questions. We strip away the noise to find the core of what you're building."},{number:"02",title:"The Forge",text:"Where logic meets craft. We write code that is clean enough to read and fast enough to fly."},{number:"03",title:"Momentum",text:"Setting it live is just the beginning. We make sure the first 24 hours (and the next 2400) are seamless."},{number:"04",title:"The Horizon",text:"We stay in your corner. As you grow, we're there to make sure the foundation holds firm."}];return f.jsxs("div",{className:Me.servicesPage,children:[f.jsx("section",{className:Me.heroSection,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:Me.heroContent,children:[f.jsx("span",{className:Me.badge,children:"Our craft"}),f.jsx("h1",{className:`${Me.title} text-gradient`,children:"Web, App & Software Development Services"}),f.jsx("p",{className:Me.subtitle,children:"We build complex, high-performance software for founders and enterprises. From MVP development and product strategy to enterprise-scale applications and digital transformation, we deliver engineering excellence."})]})})}),f.jsx("section",{className:Me.methodology,children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:Me.sectionHeader,children:[f.jsx("h2",{className:Me.sectionTitle,children:"How we work"}),f.jsx("p",{className:Me.sectionSubtitle,children:"No magic, just a very disciplined process that gets things done."})]}),f.jsx("div",{className:Me.processGrid,children:t.map((e,n)=>f.jsxs("div",{className:Me.processStep,children:[f.jsxs("div",{className:Me.stepHeader,children:[f.jsx("div",{className:Me.numberCircle,children:e.number}),n<t.length-1&&f.jsx("div",{className:Me.dashedLine})]}),f.jsx("h3",{className:Me.stepTitle,children:e.title}),f.jsx("p",{className:Me.stepText,children:e.text})]},n))})]})}),f.jsx("section",{className:Me.ctaSection,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:Me.ctaBox,children:[f.jsx("h2",{className:Me.ctaTitle,children:"Let's build something real."}),f.jsx("p",{className:Me.ctaSubtitle,children:"If you're tired of generic solutions, we should talk. We build the things that most people find too difficult."}),f.jsxs("div",{className:Me.ctaButtons,children:[f.jsx(Rt,{to:"/contact",className:Me.primaryCta,children:"Say Hello"}),f.jsx(Rt,{to:"/portfolio",className:Me.secondaryCta,children:"See our work"})]})]})})})]})},q6="_portfolioPage_zk9b8_1",H6="_header_zk9b8_6",F6="_badge_zk9b8_10",G6="_title_zk9b8_24",$6="_heroGrid_zk9b8_40",Y6="_subtitle_zk9b8_47",K6="_visualWrapper_zk9b8_53",Q6="_heroVisual_zk9b8_67",W6="_filterGroup_zk9b8_77",X6="_filterBtn_zk9b8_84",J6="_activeFilter_zk9b8_100",Z6="_grid_zk9b8_106",eP="_card_zk9b8_112",tP="_imageWrapper_zk9b8_130",nP="_image_zk9b8_130",iP="_overlay_zk9b8_144",sP="_viewBtn_zk9b8_164",rP="_cardContent_zk9b8_183",aP="_cardTitle_zk9b8_190",oP="_cardText_zk9b8_195",lP="_tagGroup_zk9b8_201",uP="_tag_zk9b8_201",cP="_imagePlaceholder_zk9b8_232",je={portfolioPage:q6,header:H6,badge:F6,title:G6,heroGrid:$6,subtitle:Y6,visualWrapper:K6,heroVisual:Q6,filterGroup:W6,filterBtn:X6,activeFilter:J6,grid:Z6,card:eP,imageWrapper:tP,image:nP,overlay:iP,viewBtn:sP,cardContent:rP,cardTitle:aP,cardText:oP,tagGroup:lP,tag:uP,imagePlaceholder:cP},hP=()=>{const[t,e]=M.useState("All");sr.useEffect(()=>{document.title="Software & App Development Portfolio | Layer1.Studio"},[]);const n=["All","Web Development","Mobile Apps","Analytics Tools","Dashboards","Branding"],{data:i}=ca("projects"),s=[{title:"Marketing Agency Website",category:"Web Development",text:"Premium landing page and lead generation system for a cutting-edge creative agency.",tags:["React","Framer Motion"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCY5_DOj58Gd86kyFqTh-UMlYh-Ucb65wd-sD-b96Inv833_ls5oCdaUJMbAxpqb60X8Px2eJXNKFr7i6BsyCXfWb5A3IWK9wWz7wYU0BWFTaP_fjSV9cnfcCM3nlxsqoJtpPGz8JP5UCnjJH5sGy_nYFeiO87DUpizoshaQ7T8TStniKD-jRQvU0XFSB5kyYUfzn_vflPT72nupuVZLVceUlAQtAzcVfTFlYT4DOpY97kbBO4dooSt0ln5qlY8dNQ3Vlvf4b3zdmeI"},{title:"E-commerce Website",category:"Web Development",text:"Modern shopping experience with integrated payment gateways and real-time inventory.",tags:["Next.js","Stripe"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCgbZxfNBLuDsa2QV28yTaF9_B3Ya2cUh6RbaCJyuolqZhgP2bI28S8SnmxLbea9fJcpdkW57gTSrGcfaziwyLuYUIOeFfY4thy9nV6dOkhWjI9IzXqjtO6lw9Y8HMrvYAc9MoFgOlOwI5v0UKORF6p8m40k7rdG4d_88AsWNWvdZEScmM_1J5QoD7nqOMd4CB4qzgsc4mrtjm-y6N4i6mCEbnmTVpheZ-FDvNGQ67LZX6LypqPAVqjRyVi6b9rVIN8PgAxLD29QHiG"},{title:"Admin Panel & Dashboard",category:"Dashboards",text:"Powerful internal tool for managing complex business operations and data analytics.",tags:["React","Node.js"],image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCflepDypeli6J7rrskPHYWCaPnyVhzc-slMHXqrt2QM5mTB9V21AV9E7KaTTZHPncHYXIhtu5vBIDGuqSXIjEWFmig6hUUGli9TVVwpF8WQpHWBDer-OxWWsAEKdympaombGF_Q3HgencfCxqccCNgDmBEXS7GcpIXLDA4a-dseIJ8rGPgYYevXJQjxs-wADJ3lv8f5i7z0Aj4baEiCqdW7RDUcAV3MMybsKXnhY33ilp4ciLeD6Uequ_8XuNZLxYYiwrWOy3UxzXS"}],r=i.length>0?i:s,a=t==="All"?r:r.filter(l=>l.category===t);return f.jsxs("div",{className:je.portfolioPage,children:[f.jsx("header",{className:je.header,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:je.heroGrid,children:[f.jsxs("div",{className:je.heroContent,children:[f.jsx("div",{className:je.badge,children:"The Gallery"}),f.jsx("h1",{className:`${je.title} text-gradient`,children:"Digital foundations, built to last."}),f.jsx("p",{className:je.subtitle,children:"We don't believe in vanity metrics. We believe in tools that work, systems that scale, and code that remains elegant under pressure."})]}),f.jsx("div",{className:je.visualWrapper,children:f.jsx("img",{src:"/layer1studio/assets/portfolio_visual.png",alt:"Portfolio",className:je.heroVisual})})]})})}),f.jsxs("div",{className:"container",children:[f.jsx("div",{className:je.filterGroup,children:n.map(l=>f.jsx("button",{className:`${je.filterBtn} ${t===l?je.activeFilter:""}`,onClick:()=>e(l),children:l},l))}),f.jsx("div",{className:je.grid,children:a.map((l,u)=>f.jsxs("div",{className:je.card,children:[f.jsxs("div",{className:je.imageWrapper,children:[l.image?f.jsx("img",{src:l.image,alt:l.title,className:je.image,onError:c=>{c.target.onerror=null,c.target.src="https://via.placeholder.com/800x600?text=Project+Image"}}):f.jsxs("div",{className:je.imagePlaceholder,children:[f.jsx("span",{className:"material-symbols-outlined",children:"image"}),f.jsx("p",{children:"Image not found"})]}),f.jsx("div",{className:je.overlay,children:f.jsxs(Rt,{to:"/contact",className:je.viewBtn,children:["Inquire Now",f.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})})]}),f.jsxs("div",{className:je.cardContent,children:[f.jsx("h3",{className:je.cardTitle,children:l.title}),f.jsx("p",{className:je.cardText,children:l.text}),f.jsx("div",{className:je.tagGroup,children:l.tags.map(c=>f.jsx("span",{className:je.tag,children:c},c))})]})]},u))})]})]})},fP="_contactPage_18mte_1",dP="_grid_18mte_6",mP="_badge_18mte_12",pP="_title_18mte_26",gP="_description_18mte_41",_P="_visualWrapper_18mte_48",yP="_heroVisual_18mte_63",vP="_studios_18mte_79",EP="_studioName_18mte_86",TP="_contactLinks_18mte_106",bP="_contactItem_18mte_114",SP="_iconBox_18mte_120",AP="_contactLabel_18mte_132",wP="_contactValue_18mte_141",RP="_formCard_18mte_147",CP="_form_18mte_147",IP="_row_18mte_161",NP="_field_18mte_167",xP="_submitBtn_18mte_202",DP="_privacyNote_18mte_220",fe={contactPage:fP,grid:dP,badge:mP,title:pP,description:gP,visualWrapper:_P,heroVisual:yP,studios:vP,studioName:EP,contactLinks:TP,contactItem:bP,iconBox:SP,contactLabel:AP,contactValue:wP,formCard:RP,form:CP,row:IP,field:NP,submitBtn:xP,privacyNote:DP},OP=()=>(sr.useEffect(()=>{document.title="Contact for Software & Web Development Projects | Layer1.Studio"},[]),f.jsx("div",{className:fe.contactPage,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:fe.grid,children:[f.jsxs("div",{className:fe.infoColumn,children:[f.jsx("span",{className:fe.badge,children:"Let's Talk"}),f.jsx("h1",{className:`${fe.title} text-gradient`,children:"Shall we start?"}),f.jsx("p",{className:fe.description,children:"Drop us a line. We're based in London and Colombo, but we work with partners all over the world. Whether it's a quick question or a massive project, we'd love to hear from you."}),f.jsx("div",{className:fe.visualWrapper,children:f.jsx("img",{src:"/layer1studio/assets/contact_visual.png",alt:"Contact Visual",className:fe.heroVisual})}),f.jsxs("div",{className:fe.studios,children:[f.jsx("div",{className:fe.studioItem,children:f.jsxs("h4",{className:fe.studioName,children:[f.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"London, UK"]})}),f.jsx("div",{className:fe.studioItem,children:f.jsxs("h4",{className:fe.studioName,children:[f.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),"Colombo, Sri Lanka"]})})]}),f.jsxs("div",{className:fe.contactLinks,children:[f.jsxs("div",{className:fe.contactItem,children:[f.jsx("div",{className:fe.iconBox,children:f.jsx("span",{className:"material-symbols-outlined",children:"mail"})}),f.jsxs("div",{children:[f.jsx("p",{className:fe.contactLabel,children:"Email Inquiry"}),f.jsx("a",{href:"mailto:studio.layer1@gmail.com",className:fe.contactValue,children:"studio.layer1@gmail.com"})]})]}),f.jsxs("div",{className:fe.contactItem,children:[f.jsx("div",{className:fe.iconBox,children:f.jsx("span",{className:"material-symbols-outlined",children:"call"})}),f.jsxs("div",{children:[f.jsx("p",{className:fe.contactLabel,children:"Phone Support"}),f.jsx("p",{className:fe.contactValue,children:"+44 7770 225546"}),f.jsx("p",{className:fe.contactValue,children:"+94 7717 70570"})]})]})]})]}),f.jsx("div",{className:fe.formColumn,children:f.jsx("div",{className:fe.formCard,children:f.jsxs("form",{className:fe.form,children:[f.jsxs("div",{className:fe.row,children:[f.jsxs("div",{className:fe.field,children:[f.jsx("label",{children:"First Name"}),f.jsx("input",{type:"text",placeholder:"E.g. Alexander"})]}),f.jsxs("div",{className:fe.field,children:[f.jsx("label",{children:"Last Name"}),f.jsx("input",{type:"text",placeholder:"E.g. Wright"})]})]}),f.jsxs("div",{className:fe.field,children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",placeholder:"alex@studio.com"})]}),f.jsxs("div",{className:fe.field,children:[f.jsx("label",{children:"How can we help?"}),f.jsxs("select",{defaultValue:"",children:[f.jsx("option",{disabled:!0,value:"",children:"How can we help?"}),f.jsx("option",{children:"General Inquiry"}),f.jsx("option",{children:"Pricing & Project Estimates"}),f.jsx("option",{children:"High-Velocity Web & Mobile Development"}),f.jsx("option",{children:"Analytics Engines & Dashboards"}),f.jsx("option",{children:"AI & Automation Integration"}),f.jsx("option",{children:"Product Strategy & Technical Audit"})]})]}),f.jsxs("div",{className:fe.field,children:[f.jsx("label",{children:"What's on your mind?"}),f.jsx("textarea",{rows:"5",placeholder:"Tell us about what you're building..."})]}),f.jsx("button",{type:"submit",className:fe.submitBtn,children:"Send message"}),f.jsxs("p",{className:fe.privacyNote,children:[f.jsx("span",{className:"material-symbols-outlined",children:"verified_user"}),"Your information is safe with us. We're engineers - we take security seriously."]})]})})})]})})})),VP="_careersPage_ib80d_1",MP="_hero_ib80d_5",jP="_badge_ib80d_9",PP="_title_ib80d_23",kP="_heroGrid_ib80d_38",LP="_subtitle_ib80d_45",UP="_visualWrapper_ib80d_51",zP="_heroVisual_ib80d_65",BP="_values_ib80d_81",qP="_grid_ib80d_88",HP="_valueCard_ib80d_94",FP="_openRoles_ib80d_109",GP="_sectionTitle_ib80d_113",$P="_jobList_ib80d_118",YP="_jobCard_ib80d_123",KP="_expanded_ib80d_137",QP="_jobMain_ib80d_143",WP="_jobTitleRow_ib80d_149",XP="_expandIcon_ib80d_160",JP="_jobDetails_ib80d_169",ZP="_description_ib80d_188",ek="_hotTag_ib80d_196",tk="_jobMeta_ib80d_207",nk="_applyBtn_ib80d_213",de={careersPage:VP,hero:MP,badge:jP,title:PP,heroGrid:kP,subtitle:LP,visualWrapper:UP,heroVisual:zP,values:BP,grid:qP,valueCard:HP,openRoles:FP,sectionTitle:GP,jobList:$P,jobCard:YP,expanded:KP,jobMain:QP,jobTitleRow:WP,expandIcon:XP,jobDetails:JP,description:ZP,hotTag:ek,jobMeta:tk,applyBtn:nk},ik=()=>{const{data:t,loading:e}=ca("careers"),n=Ba(),[i,s]=M.useState(null);sr.useEffect(()=>{document.title="Careers & Internships | Layer1.Studio"},[]);const r=[{title:"Senior Full-stack Developer",location:"Remote",salary:"$140k - $180k",type:"Full-time",hot:!0,description:"We're looking for someone who can handle everything from server architecture to CSS animations. You'll be the backbone of our product team."},{title:"Senior UI/UX Designer",location:"Hybrid / London",salary:"$110k - $150k",type:"Full-time",hot:!1,description:"Design isn't just about looks. We need a thinker who understands how users move through complex systems and can make that movement feel effortless."}],a=t.length>0?t:e?[]:r;return f.jsxs("div",{className:de.careersPage,children:[f.jsx("header",{className:de.hero,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:de.heroGrid,children:[f.jsxs("div",{className:de.heroContent,children:[f.jsx("span",{className:de.badge,children:"Join our mission"}),f.jsx("h1",{className:`${de.title} text-gradient`,children:"Software Engineering Careers at Layer1.Studio"}),f.jsx("p",{className:de.subtitle,children:"We are a high-velocity collective of product thinkers and full-stack engineers crafting custom software, web apps, and mobile solutions (iOS & Android) that stand the test of time. Join a London & Colombo based studio where quality isn't a goal - it's the baseline. Explore our software engineering careers and paid internships."})]}),f.jsx("div",{className:de.visualWrapper,children:f.jsx("img",{src:"/layer1studio/assets/careers_visual.png",alt:"Careers",className:de.heroVisual})})]})})}),f.jsx("section",{className:de.values,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:de.grid,children:[f.jsxs("div",{className:de.valueCard,children:[f.jsx("span",{className:"material-symbols-outlined",children:"terminal"}),f.jsx("h3",{children:"Engineering Focus"}),f.jsx("p",{children:"We prioritize clean architecture and deep technical expertise. No shortcuts, just solid engineering."})]}),f.jsxs("div",{className:de.valueCard,children:[f.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),f.jsx("h3",{children:"Design-Led Craft"}),f.jsx("p",{children:"Every pixel matters. We believe that beautiful software is more than skin deep - it's about the experience."})]}),f.jsxs("div",{className:de.valueCard,children:[f.jsx("span",{className:"material-symbols-outlined",children:"favorite"}),f.jsx("h3",{children:"People First"}),f.jsx("p",{children:"Flexible work, meaningful ownership, and a supportive environment that values your growth."})]})]})})}),f.jsx("section",{className:de.openRoles,children:f.jsxs("div",{className:"container",children:[f.jsx("h2",{className:de.sectionTitle,children:"Open Opportunities"}),f.jsx("div",{className:de.jobList,children:a.map((l,u)=>f.jsxs("div",{className:`${de.jobCard} ${i===u?de.expanded:""}`,onClick:()=>s(i===u?null:u),children:[f.jsxs("div",{className:de.jobMain,children:[f.jsxs("div",{className:de.jobInfo,children:[f.jsxs("div",{className:de.jobTitleRow,children:[f.jsx("h3",{children:l.title}),l.hot&&f.jsx("span",{className:de.hotTag,children:"Hot"})]}),f.jsxs("div",{className:de.jobMeta,children:[f.jsx("span",{children:l.location}),"  ",f.jsx("span",{children:l.type}),"  ",f.jsx("span",{children:l.salary})]})]}),f.jsx("span",{className:`material-symbols-outlined ${de.expandIcon}`,children:i===u?"expand_less":"expand_more"})]}),i===u&&f.jsxs("div",{className:de.jobDetails,onClick:c=>c.stopPropagation(),children:[f.jsx("div",{className:de.description,children:f.jsx("p",{children:l.description||"Inquire for details."})}),f.jsx("button",{className:de.applyBtn,onClick:()=>n(`/apply/${encodeURIComponent(l.title)}`),children:"Apply Now"})]})]},u))})]})}),f.jsx("section",{className:de.internships,children:f.jsx("div",{className:"container",children:f.jsx("div",{className:de.internshipCard,children:f.jsxs("div",{className:de.internshipContent,children:[f.jsx("h2",{className:de.sectionTitle,children:"Engineering Internships"}),f.jsx("p",{className:de.sectionSubtitle,children:"For computer science students and junior developers who want to learn by building real production software. Our internships are intensive, paid, and focused on high-velocity web and app development across the full stack (Frontend, Backend, and Mobile)."}),f.jsx("button",{className:de.applyBtn,onClick:()=>n("/apply/Engineering Internship"),children:"Inquire About Internships"})]})})})})]})},sk="_privacyPage_13h3q_1",rk="_contentWrapper_13h3q_7",ak="_badge_13h3q_12",ok="_title_13h3q_26",lk="_lastUpdated_13h3q_39",uk="_section_13h3q_45",Tn={privacyPage:sk,contentWrapper:rk,badge:ak,title:ok,lastUpdated:lk,section:uk},ck=()=>f.jsx("div",{className:Tn.privacyPage,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:Tn.contentWrapper,children:[f.jsx("span",{className:Tn.badge,children:"Security & Trust"}),f.jsxs("h1",{className:Tn.title,children:["Privacy ",f.jsx("span",{children:"Policy"})]}),f.jsx("p",{className:Tn.lastUpdated,children:"Last updated: February 2026"}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Overview"}),f.jsx("p",{children:"At Layer1.Studio, we take your privacy as seriously as we take our code. This policy explains what data we collect, why we collect it, and how we protect it. We are committed to transparency and ensuring your digital footprint remains secure within our systems."})]}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Data Collection & Purpose"}),f.jsx("p",{children:"We collect minimal data necessary to provide our services and manage our studio operations:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Inquiries"}),": When you contact us for services, we collect your name, email, and project details to facilitate communication."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Applications"}),": When you apply for a role, we collect your contact information, resume, and professional details to evaluate your candidacy."]})]})]}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Third-Party Sharing"}),f.jsxs("p",{children:["We believe your data belongs to you. ",f.jsx("strong",{children:"We do not share, sell, or trade your personal information with 3rd parties"}),"for marketing or any other commercial purposes. Your data is used exclusively for the purpose it was provided."]})]}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Client Confidentiality"}),f.jsx("p",{children:"As a studio that builds core digital foundations, confidentiality is paramount. While we showcase selected work in our portfolio, not all details of our client engagements are disclosed. We respect and enforce strict NDAs and ensure that sensitive business logic or proprietary data is never made public."})]}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Candidate Data Retention"}),f.jsxs("p",{children:["To maintain a clean and respectful recruitment process, we enforce a strict data retention policy for job applications.",f.jsx("strong",{children:"All candidate data is permanently deleted from our systems 6 months after the closing of the respective application process"}),", unless a candidate specifically requests earlier removal or is hired."]})]}),f.jsxs("section",{className:Tn.section,children:[f.jsx("h2",{children:"Security"}),f.jsx("p",{children:"We implement industry-standard security measures, including encryption and secure authentication, to protect all stored data. Our infrastructure is designed to survive the test of time, and that includes our security protocols."})]})]})})}),hk="_termsPage_1q64e_1",fk="_contentWrapper_1q64e_7",dk="_badge_1q64e_12",mk="_title_1q64e_26",pk="_italic_1q64e_33",gk="_lastUpdated_1q64e_40",_k="_section_1q64e_46",bn={termsPage:hk,contentWrapper:fk,badge:dk,title:mk,italic:pk,lastUpdated:gk,section:_k},yk=()=>f.jsx("div",{className:bn.termsPage,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:bn.contentWrapper,children:[f.jsx("span",{className:bn.badge,children:"Legal Framework"}),f.jsxs("h1",{className:bn.title,children:["Terms of ",f.jsx("span",{className:bn.italic,children:"Service"})]}),f.jsx("p",{className:bn.lastUpdated,children:"Last updated: February 2026"}),f.jsxs("section",{className:bn.section,children:[f.jsx("h2",{children:"1. Acceptance of Terms"}),f.jsx("p",{children:"By accessing or using the Layer1.Studio website or services, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services. These terms apply to all visitors, users, and clients of the studio."})]}),f.jsxs("section",{className:bn.section,children:[f.jsx("h2",{children:"2. Services Provided"}),f.jsx("p",{children:"Layer1.Studio provides specialized engineering, product design, and digital infrastructure services. The specific scope of work for any client engagement is governed by a separate Service Level Agreement (SLA) or Statement of Work (SOW)."})]}),f.jsxs("section",{className:bn.section,children:[f.jsx("h2",{children:"3. Intellectual Property"}),f.jsx("p",{children:"All craftsmanship, including but not limited to code, designs, and architectural patterns developed by Layer1.Studio, remains our intellectual property until full payment is received, upon which ownership transfers as per the individual project contract. Our internal tools and proprietary frameworks always remain the property of Layer1.Studio."})]}),f.jsxs("section",{className:bn.section,children:[f.jsx("h2",{children:"4. Limitation of Liability"}),f.jsx("p",{children:'While we strive for technical excellence ("engineering without bugs"), Layer1.Studio shall not be liable for any indirect, incidental, or consequential damages resulting from the use or inability to use the software we build, including data loss or business interruption.'})]}),f.jsxs("section",{className:bn.section,children:[f.jsx("h2",{children:"5. Communication & Contact"}),f.jsx("p",{children:"For any inquiries regarding these terms, please reach out via our contact page. We prioritize direct, human communication to solve any disputes or clarifications."})]})]})})}),vk="_dashboard_6pjed_1",Ek="_header_6pjed_7",Tk="_titleGroup_6pjed_14",bk="_headerActions_6pjed_21",Sk="_secondaryBtn_6pjed_27",Ak="_logoutBtn_6pjed_48",wk="_title_6pjed_14",Rk="_tabs_6pjed_77",Ck="_tabBtn_6pjed_86",Ik="_active_6pjed_96",Nk="_form_6pjed_101",xk="_formGrid_6pjed_114",Dk="_fileInputWrapper_6pjed_122",Ok="_fileLabel_6pjed_128",Vk="_uploadStatus_6pjed_151",Mk="_list_6pjed_180",jk="_item_6pjed_185",Pk="_itemInfo_6pjed_206",kk="_editBtn_6pjed_210",Lk="_itemActions_6pjed_221",Uk="_deleteBtn_6pjed_227",zk="_confirmGroup_6pjed_238",Bk="_confirmLabel_6pjed_248",qk="_advancedFilters_6pjed_255",Hk="_searchWrapper_6pjed_261",Fk="_searchInput_6pjed_277",Gk="_statusFilterGroup_6pjed_286",$k="_statusFilterSelect_6pjed_293",Yk="_jobItemContainer_6pjed_308",Kk="_jobPreview_6pjed_312",Qk="_slideDown_6pjed_1",Wk="_previewText_6pjed_343",Xk="_previewMeta_6pjed_350",Jk="_viewBtn_6pjed_355",Zk="_buttonGroup_6pjed_374",eL="_saveBtn_6pjed_379",tL="_cancelBtn_6pjed_390",nL="_sectionHeader_6pjed_407",iL="_filterGroup_6pjed_414",sL="_filterBtn_6pjed_423",rL="_appCard_6pjed_439",aL="_viewed_6pjed_464",oL="_interview_6pjed_469",lL="_rejected_6pjed_474",uL="_appHeader_6pjed_481",cL="_appMainInfo_6pjed_488",hL="_statusBadge_6pjed_494",fL="_statusSelect_6pjed_501",dL="_appEmail_6pjed_517",mL="_appLinks_6pjed_523",pL="_link_6pjed_531",gL="_emptyMsg_6pjed_550",q={dashboard:vk,header:Ek,titleGroup:Tk,headerActions:bk,secondaryBtn:Sk,logoutBtn:Ak,title:wk,tabs:Rk,tabBtn:Ck,active:Ik,form:Nk,formGrid:xk,fileInputWrapper:Dk,fileLabel:Ok,uploadStatus:Vk,list:Mk,item:jk,itemInfo:Pk,editBtn:kk,itemActions:Lk,deleteBtn:Uk,confirmGroup:zk,confirmLabel:Bk,advancedFilters:qk,searchWrapper:Hk,searchInput:Fk,statusFilterGroup:Gk,statusFilterSelect:$k,jobItemContainer:Yk,jobPreview:Kk,slideDown:Qk,previewText:Wk,previewMeta:Xk,viewBtn:Jk,buttonGroup:Zk,saveBtn:eL,cancelBtn:tL,sectionHeader:nL,filterGroup:iL,filterBtn:sL,appCard:rL,new:"_new_6pjed_459",viewed:aL,interview:oL,rejected:lL,appHeader:uL,appMainInfo:cL,statusBadge:hL,statusSelect:fL,appEmail:dL,appLinks:mL,link:pL,emptyMsg:gL},_L=()=>{const[t,e]=M.useState("projects"),{data:n,addItem:i,deleteItem:s,updateItem:r}=ca("projects"),{data:a,addItem:l,deleteItem:u,updateItem:c}=ca("careers"),{data:d,deleteItem:p,updateItem:g}=ca("applications"),_=Ba(),[I,D]=M.useState(!1),[O,S]=M.useState(null),[E,A]=M.useState(""),[x,z]=M.useState("Active"),[B,T]=M.useState(null),[v,b]=M.useState(null),[R,C]=M.useState(null),[N,w]=M.useState({title:"",category:"",text:"",tags:"",image:""}),[Ee,ot]=M.useState({title:"",location:"",salary:"",type:"",description:""}),[F,te]=M.useState(!1),[X,me]=M.useState(""),ze=U=>new Promise(we=>{const Nt=new FileReader;Nt.readAsDataURL(U),Nt.onload=kn=>{const Ln=new Image;Ln.src=kn.target.result,Ln.onload=()=>{const ks=document.createElement("canvas"),Xa=1200,Ls=1200;let vn=Ln.width,Un=Ln.height;vn>Un?vn>Xa&&(Un*=Xa/vn,vn=Xa):Un>Ls&&(vn*=Ls/Un,Un=Ls),ks.width=vn,ks.height=Un,ks.getContext("2d").drawImage(Ln,0,0,vn,Un);const pt=ks.toDataURL("image/jpeg",.7);we(pt)}}}),ai=async()=>{await lj(Lg),_("/")},jn=async(U,we=!1)=>{const Nt=U.target.files[0];if(Nt){te(!0),me("Compressing & processing image...");try{const kn=await ze(Nt);if(Math.ceil((kn.length-23)*3/4)>1e6){me("Image still too large after compression. Try a smaller file.");return}we?T({...B,image:kn}):w({...N,image:kn}),me("Image processed successfully!")}catch(kn){console.error("Processing failed:",kn),me("Processing failed.")}finally{te(!1)}}},ji=U=>{U.preventDefault();const we={...N,tags:typeof N.tags=="string"?N.tags.split(",").map(Nt=>Nt.trim()):N.tags};i(we),w({title:"",category:"",text:"",tags:"",image:""})},jt=U=>{U.preventDefault();const we={...B,tags:typeof B.tags=="string"?B.tags.split(",").map(Nt=>Nt.trim()):B.tags};r(B.id,we),T(null)},Pn=U=>{U.preventDefault(),l(Ee),ot({title:"",location:"",salary:"",type:"",description:""})},Qa=U=>{U.preventDefault(),c(v.id,v),b(null)},Wa=(U,we)=>{g(U,{status:we})},wr=d.filter(U=>{const we=U.name.toLowerCase().includes(E.toLowerCase())||U.jobTitle.toLowerCase().includes(E.toLowerCase()),Nt=x==="All"||x==="Active"&&U.status!=="Rejected"||(U.status||"New")===x;return we&&Nt});return f.jsx("div",{className:q.dashboard,children:f.jsxs("div",{className:"container",children:[f.jsxs("header",{className:q.header,children:[f.jsxs("div",{className:q.titleGroup,children:[f.jsxs("h1",{className:q.title,children:["Studio ",f.jsx("span",{children:"Manager"})]}),f.jsxs("div",{className:q.headerActions,children:[f.jsxs("a",{href:"https://layer1-studio.github.io/l1s-branding-templates/",target:"_blank",rel:"noreferrer",className:q.secondaryBtn,children:[f.jsx("span",{className:"material-symbols-outlined",children:"description"}),"Letterheads & Invoices"]}),f.jsxs("button",{onClick:ai,className:q.logoutBtn,children:[f.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Logout"]})]})]}),f.jsxs("div",{className:q.tabs,children:[f.jsx("button",{className:`${q.tabBtn} ${t==="projects"?q.active:""}`,onClick:()=>{e("projects"),T(null),C(null)},children:"Projects"}),f.jsx("button",{className:`${q.tabBtn} ${t==="careers"?q.active:""}`,onClick:()=>{e("careers"),b(null),C(null)},children:"Careers"}),f.jsx("button",{className:`${q.tabBtn} ${t==="applications"?q.active:""}`,onClick:()=>{e("applications"),C(null)},children:"Applications"})]})]}),f.jsx("main",{className:q.content,children:t==="projects"?f.jsxs("div",{className:q.section,children:[B?f.jsxs("form",{className:q.form,onSubmit:jt,children:[f.jsx("h3",{children:"Edit Project"}),f.jsxs("div",{className:q.formGrid,children:[f.jsx("input",{placeholder:"Title",value:B.title,onChange:U=>T({...B,title:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Category",value:B.category,onChange:U=>T({...B,category:U.target.value}),required:!0}),f.jsx("div",{className:q.fileInputWrapper,children:f.jsxs("label",{className:q.fileLabel,children:[f.jsx("span",{className:"material-symbols-outlined",children:"upload"}),"Change Image",f.jsx("input",{type:"file",onChange:U=>jn(U,!0),accept:"image/*"})]})}),f.jsx("input",{placeholder:"Tags (comma separated)",value:Array.isArray(B.tags)?B.tags.join(", "):B.tags,onChange:U=>T({...B,tags:U.target.value})})]}),f.jsx("textarea",{placeholder:"Description",value:B.text,onChange:U=>T({...B,text:U.target.value}),required:!0}),f.jsxs("div",{className:q.buttonGroup,children:[f.jsx("button",{type:"submit",className:q.saveBtn,children:"Save Changes"}),f.jsx("button",{type:"button",onClick:()=>T(null),className:q.cancelBtn,children:"Cancel"})]})]}):f.jsxs("form",{className:q.form,onSubmit:ji,children:[f.jsx("h3",{children:"Add New Project"}),f.jsxs("div",{className:q.formGrid,children:[f.jsx("input",{placeholder:"Title",value:N.title,onChange:U=>w({...N,title:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Category",value:N.category,onChange:U=>w({...N,category:U.target.value}),required:!0}),f.jsxs("div",{className:q.fileInputWrapper,children:[f.jsxs("label",{className:q.fileLabel,children:[f.jsx("span",{className:"material-symbols-outlined",children:"upload"}),N.image?"Image Selected":"Upload Project Image",f.jsx("input",{type:"file",onChange:jn,accept:"image/*"})]}),X&&f.jsx("p",{className:q.uploadStatus,children:X})]}),f.jsx("input",{placeholder:"Tags (comma separated)",value:N.tags,onChange:U=>w({...N,tags:U.target.value})})]}),f.jsx("textarea",{placeholder:"Description",value:N.text,onChange:U=>w({...N,text:U.target.value}),required:!0}),f.jsx("button",{type:"submit",children:"Publish Project"})]}),f.jsxs("div",{className:q.list,children:[f.jsx("h3",{children:"Existing Projects"}),n.map(U=>f.jsxs("div",{className:q.item,children:[f.jsxs("div",{className:q.itemInfo,children:[f.jsx("h4",{children:U.title}),f.jsx("p",{children:U.category})]}),f.jsx("div",{className:q.itemActions,children:R===U.id?f.jsxs("div",{className:q.confirmGroup,children:[f.jsx("span",{className:q.confirmLabel,children:"Are you sure?"}),f.jsx("button",{onClick:()=>s(U.id),className:q.deleteBtn,children:"Yes, Delete"}),f.jsx("button",{onClick:()=>C(null),className:q.cancelBtn,children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>T(U),className:q.editBtn,children:"Edit"}),f.jsx("button",{onClick:()=>C(U.id),className:q.deleteBtn,children:"Delete"})]})})]},U.id))]})]}):t==="careers"?f.jsxs("div",{className:q.section,children:[v?f.jsxs("form",{className:q.form,onSubmit:Qa,children:[f.jsx("h3",{children:"Edit Role"}),f.jsxs("div",{className:q.formGrid,children:[f.jsx("input",{placeholder:"Job Title",value:v.title,onChange:U=>b({...v,title:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Location",value:v.location,onChange:U=>b({...v,location:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Salary Range",value:v.salary,onChange:U=>b({...v,salary:U.target.value})}),f.jsx("input",{placeholder:"Type (Full-time/Contract)",value:v.type,onChange:U=>b({...v,type:U.target.value}),required:!0})]}),f.jsx("textarea",{placeholder:"Job Description",value:v.description,onChange:U=>b({...v,description:U.target.value}),required:!0}),f.jsxs("div",{className:q.buttonGroup,children:[f.jsx("button",{type:"submit",className:q.saveBtn,children:"Save Changes"}),f.jsx("button",{type:"button",onClick:()=>b(null),className:q.cancelBtn,children:"Cancel"})]})]}):f.jsxs("form",{className:q.form,onSubmit:Pn,children:[f.jsx("h3",{children:"Add New Role"}),f.jsxs("div",{className:q.formGrid,children:[f.jsx("input",{placeholder:"Job Title",value:Ee.title,onChange:U=>ot({...Ee,title:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Location",value:Ee.location,onChange:U=>ot({...Ee,location:U.target.value}),required:!0}),f.jsx("input",{placeholder:"Salary Range",value:Ee.salary,onChange:U=>ot({...Ee,salary:U.target.value})}),f.jsx("input",{placeholder:"Type (Full-time/Contract)",value:Ee.type,onChange:U=>ot({...Ee,type:U.target.value}),required:!0})]}),f.jsx("textarea",{placeholder:"Job Description",value:Ee.description,onChange:U=>ot({...Ee,description:U.target.value}),required:!0}),f.jsx("button",{type:"submit",children:"Post Job"})]}),f.jsxs("div",{className:q.list,children:[f.jsx("h3",{children:"Open Roles"}),a.map(U=>f.jsxs("div",{className:q.jobItemContainer,children:[f.jsxs("div",{className:q.item,onClick:()=>S(O===U.id?null:U.id),children:[f.jsxs("div",{className:q.itemInfo,children:[f.jsx("h4",{children:U.title}),f.jsxs("p",{children:[U.location,"  ",U.type]})]}),f.jsxs("div",{className:q.itemActions,children:[f.jsx("button",{onClick:we=>{we.stopPropagation(),S(O===U.id?null:U.id)},className:q.viewBtn,children:f.jsx("span",{className:"material-symbols-outlined",children:O===U.id?"expand_less":"expand_more"})}),R===U.id?f.jsxs("div",{className:q.confirmGroup,children:[f.jsx("span",{className:q.confirmLabel,children:"Really delete?"}),f.jsx("button",{onClick:we=>{we.stopPropagation(),u(U.id)},className:q.deleteBtn,children:"Delete"}),f.jsx("button",{onClick:we=>{we.stopPropagation(),C(null)},className:q.cancelBtn,children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:we=>{we.stopPropagation(),b(U)},className:q.editBtn,children:"Edit"}),f.jsx("button",{onClick:we=>{we.stopPropagation(),C(U.id)},className:q.deleteBtn,children:"Delete"})]})]})]}),O===U.id&&f.jsxs("div",{className:q.jobPreview,children:[f.jsx("h5",{children:"Role Description"}),f.jsx("p",{className:q.previewText,children:U.description}),U.salary&&f.jsxs("p",{className:q.previewMeta,children:[f.jsx("strong",{children:"Salary:"})," ",U.salary]})]})]},U.id))]})]}):f.jsxs("div",{className:q.section,children:[f.jsxs("div",{className:q.sectionHeader,children:[f.jsx("h3",{children:"Candidate Applications"}),f.jsxs("div",{className:q.advancedFilters,children:[f.jsxs("div",{className:q.searchWrapper,children:[f.jsx("span",{className:"material-symbols-outlined",children:"search"}),f.jsx("input",{type:"text",placeholder:"Search name or role...",value:E,onChange:U=>A(U.target.value),className:q.searchInput})]}),f.jsx("div",{className:q.statusFilterGroup,children:f.jsxs("select",{value:x,onChange:U=>z(U.target.value),className:q.statusFilterSelect,children:[f.jsx("option",{value:"Active",children:"Active Only"}),f.jsx("option",{value:"All",children:"All Applicants"}),f.jsx("option",{value:"New",children:"New"}),f.jsx("option",{value:"Viewed",children:"Viewed"}),f.jsx("option",{value:"Interview",children:"Interview"}),f.jsx("option",{value:"Rejected",children:"Archived"})]})})]})]}),f.jsx("div",{className:q.list,children:wr.length===0?f.jsx("p",{className:q.emptyMsg,children:I?"No archived applications.":"No active applications yet."}):wr.map(U=>{var we;return f.jsxs("div",{className:`${q.appCard} ${q[((we=U.status)==null?void 0:we.toLowerCase())||"new"]}`,children:[f.jsxs("div",{className:q.appHeader,children:[f.jsxs("div",{className:q.appMainInfo,children:[f.jsx("h4",{children:U.name}),f.jsx("span",{className:q.roleTag,children:U.jobTitle})]}),f.jsx("div",{className:q.statusBadge,children:f.jsxs("select",{value:U.status||"New",onChange:Nt=>Wa(U.id,Nt.target.value),className:q.statusSelect,children:[f.jsx("option",{value:"New",children:"New"}),f.jsx("option",{value:"Viewed",children:"Viewed"}),f.jsx("option",{value:"Interview",children:"Interview"}),f.jsx("option",{value:"Rejected",children:"Rejected"})]})})]}),f.jsx("p",{className:q.appEmail,children:U.email}),f.jsxs("div",{className:q.appLinks,children:[f.jsxs("a",{href:U.resumeData||U.resumeUrl,target:"_blank",rel:"noreferrer",download:U.resumeData?`${U.name}_Resume`:void 0,className:q.link,children:[f.jsx("span",{className:"material-symbols-outlined",children:"description"})," Resume"]}),U.portfolio&&f.jsxs("a",{href:U.portfolio,target:"_blank",rel:"noreferrer",className:q.link,children:[f.jsx("span",{className:"material-symbols-outlined",children:"link"})," Portfolio"]})]}),f.jsx("div",{className:q.itemActions,children:R===U.id?f.jsxs("div",{className:q.confirmGroup,children:[f.jsx("span",{className:q.confirmLabel,children:"Permanent delete?"}),f.jsx("button",{onClick:()=>p(U.id),className:q.deleteBtn,children:"Yes, Delete"}),f.jsx("button",{onClick:()=>C(null),className:q.cancelBtn,children:"Cancel"})]}):f.jsx("button",{onClick:()=>C(U.id),className:q.deleteBtn,children:"Delete permanently"})})]},U.id)})})]})})]})})},yL="_applyPage_75o7w_1",vL="_formCard_75o7w_6",EL="_header_75o7w_16",TL="_badge_75o7w_21",bL="_title_75o7w_35",SL="_form_75o7w_6",AL="_field_75o7w_46",wL="_fileUpload_75o7w_69",RL="_status_75o7w_82",CL="_submitBtn_75o7w_89",Lt={applyPage:yL,formCard:vL,header:EL,badge:TL,title:bL,form:SL,field:AL,fileUpload:wL,status:RL,submitBtn:CL},IL=()=>{const{jobId:t}=YI(),e=Ba(),[n,i]=M.useState(""),[s,r]=M.useState(!1),[a,l]=M.useState({name:"",email:"",phone:"",portfolio:"",resumeData:""}),u=async d=>{const p=d.target.files[0];if(p){if(p.size>1024*1024){i("File too large. Please keep it under 1MB.");return}i("Processing resume...");try{const g=new FileReader;g.readAsDataURL(p),g.onload=()=>{l({...a,resumeData:g.result}),i("Resume processed successfully.")},g.onerror=_=>{console.error(_),i("Processing failed.")}}catch(g){console.error(g),i("Processing failed.")}}},c=async d=>{if(d.preventDefault(),!a.resumeData){i("Please upload your resume first.");return}r(!0),i("Submitting application...");try{await s1(xm(jo,"applications"),{...a,jobTitle:decodeURIComponent(t),date:new Date().toISOString()}),i("Application submitted successfully!"),setTimeout(()=>e("/careers"),2e3)}catch(p){console.error(p),i("Submission failed.")}finally{r(!1)}};return f.jsx("div",{className:Lt.applyPage,children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:Lt.formCard,children:[f.jsxs("header",{className:Lt.header,children:[f.jsx("span",{className:Lt.badge,children:"The next chapter"}),f.jsxs("h1",{className:`${Lt.title} text-gradient`,children:["Applying for ",f.jsx("span",{className:"serif-human",style:{color:"var(--primary)"},children:decodeURIComponent(t)})]})]}),f.jsxs("form",{className:Lt.form,onSubmit:c,children:[f.jsxs("div",{className:Lt.field,children:[f.jsx("label",{children:"Full Name"}),f.jsx("input",{type:"text",placeholder:"Alexander Wright",required:!0,value:a.name,onChange:d=>l({...a,name:d.target.value})})]}),f.jsxs("div",{className:Lt.field,children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",placeholder:"alex@studio.com",required:!0,value:a.email,onChange:d=>l({...a,email:d.target.value})})]}),f.jsxs("div",{className:Lt.field,children:[f.jsx("label",{children:"Phone Number (Optional)"}),f.jsx("input",{type:"tel",placeholder:"+44 7770 225546",value:a.phone,onChange:d=>l({...a,phone:d.target.value})})]}),f.jsxs("div",{className:Lt.field,children:[f.jsx("label",{children:"Portfolio / LinkedIn"}),f.jsx("input",{type:"url",placeholder:"https://...",required:!0,value:a.portfolio,onChange:d=>l({...a,portfolio:d.target.value})})]}),f.jsxs("div",{className:Lt.field,children:[f.jsx("label",{children:"Your Resume (PDF / Word)"}),f.jsxs("div",{className:Lt.fileUpload,children:[f.jsx("input",{type:"file",onChange:u,accept:".pdf,.doc,.docx",required:!0}),f.jsx("p",{children:a.resumeData?"Ready to go":"Upload your resume"})]})]}),n&&f.jsx("p",{className:Lt.status,children:n}),f.jsx("button",{type:"submit",className:Lt.submitBtn,disabled:s,children:s?"Sending...":"Send it off"})]})]})})})},NL="_loginPage_niw1b_1",xL="_loginCard_niw1b_9",DL="_header_niw1b_20",OL="_logo_niw1b_24",VL="_tagline_niw1b_35",ML="_form_niw1b_43",jL="_field_niw1b_49",PL="_error_niw1b_80",kL="_loginBtn_niw1b_86",qn={loginPage:NL,loginCard:xL,header:DL,logo:OL,tagline:VL,form:ML,field:jL,error:PL,loginBtn:kL},LL=()=>{const[t,e]=M.useState(""),[n,i]=M.useState(""),[s,r]=M.useState(""),[a,l]=M.useState(!1),u=Ba(),c=async d=>{d.preventDefault(),l(!0),r("");try{await sj(Lg,t,n),u("/vault/internal/gate/secure/admin/dashboard")}catch(p){console.error(p),r("Invalid credentials. Access denied.")}finally{l(!1)}};return f.jsx("div",{className:qn.loginPage,children:f.jsxs("div",{className:qn.loginCard,children:[f.jsxs("div",{className:qn.header,children:[f.jsxs("div",{className:qn.logo,children:["Layer1",f.jsx("span",{children:".Studio"})]}),f.jsx("p",{className:qn.tagline,children:"Internal Access Only"})]}),f.jsxs("form",{className:qn.form,onSubmit:c,children:[f.jsxs("div",{className:qn.field,children:[f.jsx("label",{children:"Admin Email"}),f.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"admin@layer1.studio",required:!0})]}),f.jsxs("div",{className:qn.field,children:[f.jsx("label",{children:"Security Key"}),f.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),placeholder:"",required:!0})]}),s&&f.jsx("p",{className:qn.error,children:s}),f.jsx("button",{type:"submit",className:qn.loginBtn,disabled:a,children:a?"Verifying...":"Authorize Access"})]})]})})},UL=({children:t})=>{const[e,n]=sr.useState(null),[i,s]=sr.useState(!0);return M.useEffect(()=>{const r=oj(Lg,a=>{n(a),s(!1)});return()=>r()},[]),i?null:e?t:f.jsx(oN,{to:"/vault/internal/gate/secure/auth/login",replace:!0})},zL=()=>{const{pathname:t}=Mn();return M.useEffect(()=>{window.scrollTo(0,0)},[t]),null};function BL(){return f.jsxs(VN,{basename:"/layer1studio/",children:[f.jsx(zL,{}),f.jsxs("div",{className:"app",children:[f.jsx(XN,{}),f.jsxs(uN,{children:[f.jsx(Sn,{path:"/",element:f.jsx(g6,{})}),f.jsx(Sn,{path:"/services",element:f.jsx(B6,{})}),f.jsx(Sn,{path:"/portfolio",element:f.jsx(hP,{})}),f.jsx(Sn,{path:"/careers",element:f.jsx(ik,{})}),f.jsx(Sn,{path:"/apply/:jobId",element:f.jsx(IL,{})}),f.jsx(Sn,{path:"/contact",element:f.jsx(OP,{})}),f.jsx(Sn,{path:"/privacy",element:f.jsx(ck,{})}),f.jsx(Sn,{path:"/terms",element:f.jsx(yk,{})}),f.jsx(Sn,{path:"/vault/internal/gate/secure/auth/login",element:f.jsx(LL,{})}),f.jsx(Sn,{path:"/vault/internal/gate/secure/admin/dashboard",element:f.jsx(UL,{children:f.jsx(_L,{})})})]}),f.jsx(hx,{})]})]})}cI.createRoot(document.getElementById("root")).render(f.jsx(sr.StrictMode,{children:f.jsx(BL,{})}));
